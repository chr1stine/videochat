/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={788:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},266:e=>{"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n,r,i=(r=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(n,r)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],a=i[3];if(!a)return o;if("function"==typeof btoa){var u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),c="/*# ".concat(s," */"),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([c]).join("\n")}return[o].join("\n")}},103:function(e,t,n){var r;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=n.nmd(e),function(){var o,a="Expected a function",u="__lodash_hash_undefined__",s="__lodash_placeholder__",c=32,l=128,f=1/0,h=9007199254740991,d=NaN,p=4294967295,v=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],y="[object Arguments]",g="[object Array]",m="[object Boolean]",b="[object Date]",w="[object Error]",_="[object Function]",E="[object GeneratorFunction]",S="[object Map]",A="[object Number]",k="[object Object]",I="[object Promise]",T="[object RegExp]",x="[object Set]",C="[object String]",N="[object Symbol]",D="[object WeakMap]",R="[object ArrayBuffer]",O="[object DataView]",L="[object Float32Array]",P="[object Float64Array]",M="[object Int8Array]",F="[object Int16Array]",j="[object Int32Array]",U="[object Uint8Array]",V="[object Uint8ClampedArray]",B="[object Uint16Array]",z="[object Uint32Array]",q=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,G=RegExp(Q.source),$=RegExp(H.source),Y=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),ie=/^\s+/,oe=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ie="["+ke+"]",Te="["+Ee+"]",xe="\\d+",Ce="["+Se+"]",Ne="[^\\ud800-\\udfff"+ke+xe+"\\u2700-\\u27bf"+Se+Ae+"]",De="\\ud83c[\\udffb-\\udfff]",Re="[^\\ud800-\\udfff]",Oe="(?:\\ud83c[\\udde6-\\uddff]){2}",Le="[\\ud800-\\udbff][\\udc00-\\udfff]",Pe="["+Ae+"]",Me="(?:"+Ce+"|"+Ne+")",Fe="(?:"+Pe+"|"+Ne+")",je="(?:['’](?:d|ll|m|re|s|t|ve))?",Ue="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ve="(?:"+Te+"|"+De+")?",Be="[\\ufe0e\\ufe0f]?",ze=Be+Ve+"(?:\\u200d(?:"+[Re,Oe,Le].join("|")+")"+Be+Ve+")*",qe="(?:"+["[\\u2700-\\u27bf]",Oe,Le].join("|")+")"+ze,Ke="(?:"+[Re+Te+"?",Te,Oe,Le,"[\\ud800-\\udfff]"].join("|")+")",We=RegExp("['’]","g"),Qe=RegExp(Te,"g"),He=RegExp(De+"(?="+De+")|"+Ke+ze,"g"),Ge=RegExp([Pe+"?"+Ce+"+"+je+"(?="+[Ie,Pe,"$"].join("|")+")",Fe+"+"+Ue+"(?="+[Ie,Pe+Me,"$"].join("|")+")",Pe+"?"+Me+"+"+je,Pe+"+"+Ue,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xe,qe].join("|"),"g"),$e=RegExp("[\\u200d\\ud800-\\udfff"+Ee+"\\ufe0e\\ufe0f]"),Ye=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Je=-1,Ze={};Ze[L]=Ze[P]=Ze[M]=Ze[F]=Ze[j]=Ze[U]=Ze[V]=Ze[B]=Ze[z]=!0,Ze[y]=Ze[g]=Ze[R]=Ze[m]=Ze[O]=Ze[b]=Ze[w]=Ze[_]=Ze[S]=Ze[A]=Ze[k]=Ze[T]=Ze[x]=Ze[C]=Ze[D]=!1;var et={};et[y]=et[g]=et[R]=et[O]=et[m]=et[b]=et[L]=et[P]=et[M]=et[F]=et[j]=et[S]=et[A]=et[k]=et[T]=et[x]=et[C]=et[N]=et[U]=et[V]=et[B]=et[z]=!0,et[w]=et[_]=et[D]=!1;var tt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nt=parseFloat,rt=parseInt,it="object"==(void 0===n.g?"undefined":i(n.g))&&n.g&&n.g.Object===Object&&n.g,ot="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,at=it||ot||Function("return this")(),ut="object"==i(t)&&t&&!t.nodeType&&t,st=ut&&"object"==i(e)&&e&&!e.nodeType&&e,ct=st&&st.exports===ut,lt=ct&&it.process,ft=function(){try{return st&&st.require&&st.require("util").types||lt&&lt.binding&&lt.binding("util")}catch(e){}}(),ht=ft&&ft.isArrayBuffer,dt=ft&&ft.isDate,pt=ft&&ft.isMap,vt=ft&&ft.isRegExp,yt=ft&&ft.isSet,gt=ft&&ft.isTypedArray;function mt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function bt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function wt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function _t(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Et(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function St(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function At(e,t){return!(null==e||!e.length)&&Lt(e,t,0)>-1}function kt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function It(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Tt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function xt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ct(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Dt=jt("length");function Rt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ot(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Lt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ot(e,Mt,n)}function Pt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Mt(e){return e!=e}function Ft(e,t){var n=null==e?0:e.length;return n?Bt(e,t)/n:d}function jt(e){return function(t){return null==t?o:t[e]}}function Ut(e){return function(t){return null==e?o:e[t]}}function Vt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Bt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function qt(e){return e?e.slice(0,sn(e)+1).replace(ie,""):e}function Kt(e){return function(t){return e(t)}}function Wt(e,t){return It(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function Ht(e,t){for(var n=-1,r=e.length;++n<r&&Lt(t,e[n],0)>-1;);return n}function Gt(e,t){for(var n=e.length;n--&&Lt(t,e[n],0)>-1;);return n}function $t(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Yt=Ut({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Xt=Ut({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Jt(e){return"\\"+tt[e]}function Zt(e){return $e.test(e)}function en(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function tn(e,t){return function(n){return e(t(n))}}function nn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function rn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function an(e){return Zt(e)?function(e){for(var t=He.lastIndex=0;He.test(e);)++t;return t}(e):Dt(e)}function un(e){return Zt(e)?function(e){return e.match(He)||[]}(e):function(e){return e.split("")}(e)}function sn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var cn=Ut({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ln=function e(t){var n,r=(t=null==t?at:ln.defaults(at.Object(),t,ln.pick(at,Xe))).Array,oe=t.Date,Ee=t.Error,Se=t.Function,Ae=t.Math,ke=t.Object,Ie=t.RegExp,Te=t.String,xe=t.TypeError,Ce=r.prototype,Ne=Se.prototype,De=ke.prototype,Re=t["__core-js_shared__"],Oe=Ne.toString,Le=De.hasOwnProperty,Pe=0,Me=(n=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=De.toString,je=Oe.call(ke),Ue=at._,Ve=Ie("^"+Oe.call(Le).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=ct?t.Buffer:o,ze=t.Symbol,qe=t.Uint8Array,Ke=Be?Be.allocUnsafe:o,He=tn(ke.getPrototypeOf,ke),$e=ke.create,tt=De.propertyIsEnumerable,it=Ce.splice,ot=ze?ze.isConcatSpreadable:o,ut=ze?ze.iterator:o,st=ze?ze.toStringTag:o,lt=function(){try{var e=lo(ke,"defineProperty");return e({},"",{}),e}catch(e){}}(),ft=t.clearTimeout!==at.clearTimeout&&t.clearTimeout,Dt=oe&&oe.now!==at.Date.now&&oe.now,Ut=t.setTimeout!==at.setTimeout&&t.setTimeout,fn=Ae.ceil,hn=Ae.floor,dn=ke.getOwnPropertySymbols,pn=Be?Be.isBuffer:o,vn=t.isFinite,yn=Ce.join,gn=tn(ke.keys,ke),mn=Ae.max,bn=Ae.min,wn=oe.now,_n=t.parseInt,En=Ae.random,Sn=Ce.reverse,An=lo(t,"DataView"),kn=lo(t,"Map"),In=lo(t,"Promise"),Tn=lo(t,"Set"),xn=lo(t,"WeakMap"),Cn=lo(ke,"create"),Nn=xn&&new xn,Dn={},Rn=Vo(An),On=Vo(kn),Ln=Vo(In),Pn=Vo(Tn),Mn=Vo(xn),Fn=ze?ze.prototype:o,jn=Fn?Fn.valueOf:o,Un=Fn?Fn.toString:o;function Vn(e){if(ru(e)&&!Qa(e)&&!(e instanceof Kn)){if(e instanceof qn)return e;if(Le.call(e,"__wrapped__"))return Bo(e)}return new qn(e)}var Bn=function(){function e(){}return function(t){if(!nu(t))return{};if($e)return $e(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function zn(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Kn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new Qn(e);this.size=t.size}function Yn(e,t){var n=Qa(e),r=!n&&Wa(e),i=!n&&!r&&Ya(e),o=!n&&!r&&!i&&fu(e),a=n||r||i||o,u=a?zt(e.length,Te):[],s=u.length;for(var c in e)!t&&!Le.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mo(c,s))||u.push(c);return u}function Xn(e){var t=e.length;return t?e[Hr(0,t-1)]:o}function Jn(e,t){return Po(xi(e),ur(t,0,e.length))}function Zn(e){return Po(xi(e))}function er(e,t,n){(n!==o&&!za(e[t],n)||n===o&&!(t in e))&&or(e,t,n)}function tr(e,t,n){var r=e[t];Le.call(e,t)&&za(r,n)&&(n!==o||t in e)||or(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(za(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ir(e,t){return e&&Ci(t,Ou(t),e)}function or(e,t,n){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var n=-1,i=t.length,a=r(i),u=null==e;++n<i;)a[n]=u?o:xu(e,t[n]);return a}function ur(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function sr(e,t,n,r,i,a){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=i?n(e,r,i,a):n(e)),u!==o)return u;if(!nu(e))return e;var f=Qa(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return xi(e,u)}else{var h=po(e),d=h==_||h==E;if(Ya(e))return Ei(e,s);if(h==k||h==y||d&&!i){if(u=c||d?{}:yo(e),!s)return c?function(e,t){return Ci(e,ho(e),t)}(e,function(e,t){return e&&Ci(t,Lu(t),e)}(u,e)):function(e,t){return Ci(e,fo(e),t)}(e,ir(u,e))}else{if(!et[h])return i?e:{};u=function(e,t,n){var r,i=e.constructor;switch(t){case R:return Si(e);case m:case b:return new i(+e);case O:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case P:case M:case F:case j:case U:case V:case B:case z:return Ai(e,n);case S:return new i;case A:case C:return new i(e);case T:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case x:return new i;case N:return r=e,jn?ke(jn.call(r)):{}}}(e,h,s)}}a||(a=new $n);var p=a.get(e);if(p)return p;a.set(e,u),su(e)?e.forEach((function(r){u.add(sr(r,t,n,r,e,a))})):iu(e)&&e.forEach((function(r,i){u.set(i,sr(r,t,n,i,e,a))}));var v=f?o:(l?c?ro:no:c?Lu:Ou)(e);return wt(v||e,(function(r,i){v&&(r=e[i=r]),tr(u,i,sr(r,t,n,i,e,a))})),u}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=ke(e);r--;){var i=n[r],a=t[i],u=e[i];if(u===o&&!(i in e)||!a(u))return!1}return!0}function lr(e,t,n){if("function"!=typeof e)throw new xe(a);return Do((function(){e.apply(o,n)}),t)}function fr(e,t,n,r){var i=-1,o=At,a=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=It(t,Kt(n))),r?(o=kt,a=!1):t.length>=200&&(o=Qt,a=!1,t=new Gn(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else o(t,f,r)||s.push(l)}return s}Vn.templateSettings={escape:Y,evaluate:X,interpolate:J,variable:"",imports:{_:Vn}},Vn.prototype=zn.prototype,Vn.prototype.constructor=Vn,qn.prototype=Bn(zn.prototype),qn.prototype.constructor=qn,Kn.prototype=Bn(zn.prototype),Kn.prototype.constructor=Kn,Wn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(Cn){var n=t[e];return n===u?o:n}return Le.call(t,e)?t[e]:o},Wn.prototype.has=function(e){var t=this.__data__;return Cn?t[e]!==o:Le.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cn&&t===o?u:t,this},Qn.prototype.clear=function(){this.__data__=[],this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0||(n==t.length-1?t.pop():it.call(t,n,1),--this.size,0))},Qn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?o:t[n][1]},Qn.prototype.has=function(e){return nr(this.__data__,e)>-1},Qn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(kn||Qn),string:new Wn}},Hn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return so(this,e).get(e)},Hn.prototype.has=function(e){return so(this,e).has(e)},Hn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,u),this},Gn.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new Qn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Qn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ri(wr),dr=Ri(_r,!0);function pr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],u=t(a);if(null!=u&&(s===o?u==u&&!lu(u):n(u,s)))var s=u,c=a}return c}function yr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=go),i||(i=[]);++o<a;){var u=e[o];t>0&&n(u)?t>1?gr(u,t-1,n,r,i):Tt(i,u):r||(i[i.length]=u)}return i}var mr=Oi(),br=Oi(!0);function wr(e,t){return e&&mr(e,t,Ou)}function _r(e,t){return e&&br(e,t,Ou)}function Er(e,t){return St(t,(function(t){return Za(e[t])}))}function Sr(e,t){for(var n=0,r=(t=mi(t,e)).length;null!=e&&n<r;)e=e[Uo(t[n++])];return n&&n==r?e:o}function Ar(e,t,n){var r=t(e);return Qa(e)?r:Tt(r,n(e))}function kr(e){return null==e?e===o?"[object Undefined]":"[object Null]":st&&st in ke(e)?function(e){var t=Le.call(e,st),n=e[st];try{e[st]=o;var r=!0}catch(e){}var i=Fe.call(e);return r&&(t?e[st]=n:delete e[st]),i}(e):function(e){return Fe.call(e)}(e)}function Ir(e,t){return e>t}function Tr(e,t){return null!=e&&Le.call(e,t)}function xr(e,t){return null!=e&&t in ke(e)}function Cr(e,t,n){for(var i=n?kt:At,a=e[0].length,u=e.length,s=u,c=r(u),l=1/0,f=[];s--;){var h=e[s];s&&t&&(h=It(h,Kt(t))),l=bn(h.length,l),c[s]=!n&&(t||a>=120&&h.length>=120)?new Gn(s&&h):o}h=e[0];var d=-1,p=c[0];e:for(;++d<a&&f.length<l;){var v=h[d],y=t?t(v):v;if(v=n||0!==v?v:0,!(p?Qt(p,y):i(f,y,n))){for(s=u;--s;){var g=c[s];if(!(g?Qt(g,y):i(e[s],y,n)))continue e}p&&p.push(y),f.push(v)}}return f}function Nr(e,t,n){var r=null==(e=To(e,t=mi(t,e)))?e:e[Uo(Jo(t))];return null==r?o:mt(r,e,n)}function Dr(e){return ru(e)&&kr(e)==y}function Rr(e,t,n,r,i){return e===t||(null==e||null==t||!ru(e)&&!ru(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var u=Qa(e),s=Qa(t),c=u?g:po(e),l=s?g:po(t),f=(c=c==y?k:c)==k,h=(l=l==y?k:l)==k,d=c==l;if(d&&Ya(e)){if(!Ya(t))return!1;u=!0,f=!1}if(d&&!f)return a||(a=new $n),u||fu(e)?eo(e,t,n,r,i,a):function(e,t,n,r,i,o,a){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!o(new qe(e),new qe(t)));case m:case b:case A:return za(+e,+t);case w:return e.name==t.name&&e.message==t.message;case T:case C:return e==t+"";case S:var u=en;case x:var s=1&r;if(u||(u=rn),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=eo(u(e),u(t),r,i,o,a);return a.delete(e),l;case N:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,c,n,r,i,a);if(!(1&n)){var p=f&&Le.call(e,"__wrapped__"),v=h&&Le.call(t,"__wrapped__");if(p||v){var _=p?e.value():e,E=v?t.value():t;return a||(a=new $n),i(_,E,n,r,a)}}return!!d&&(a||(a=new $n),function(e,t,n,r,i,a){var u=1&n,s=no(e),c=s.length;if(c!=no(t).length&&!u)return!1;for(var l=c;l--;){var f=s[l];if(!(u?f in t:Le.call(t,f)))return!1}var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var p=!0;a.set(e,t),a.set(t,e);for(var v=u;++l<c;){var y=e[f=s[l]],g=t[f];if(r)var m=u?r(g,y,f,t,e,a):r(y,g,f,e,t,a);if(!(m===o?y===g||i(y,g,n,r,a):m)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,i,a))}(e,t,n,r,Rr,i))}function Or(e,t,n,r){var i=n.length,a=i,u=!r;if(null==e)return!a;for(e=ke(e);i--;){var s=n[i];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=n[i])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===o&&!(c in e))return!1}else{var h=new $n;if(r)var d=r(l,f,c,e,t,h);if(!(d===o?Rr(f,l,3,r,h):d))return!1}}return!0}function Lr(e){return!(!nu(e)||(t=e,Me&&Me in t))&&(Za(e)?Ve:ye).test(Vo(e));var t}function Pr(e){return"function"==typeof e?e:null==e?os:"object"==i(e)?Qa(e)?Vr(e[0],e[1]):Ur(e):ps(e)}function Mr(e){if(!So(e))return gn(e);var t=[];for(var n in ke(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e,t){return e<t}function jr(e,t){var n=-1,i=Ga(e)?r(e.length):[];return hr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Ur(e){var t=co(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(n){return n===e||Or(n,e,t)}}function Vr(e,t){return wo(e)&&Ao(t)?ko(Uo(e),t):function(n){var r=xu(n,e);return r===o&&r===t?Cu(n,e):Rr(t,r,3)}}function Br(e,t,n,r,i){e!==t&&mr(t,(function(a,u){if(i||(i=new $n),nu(a))!function(e,t,n,r,i,a,u){var s=Co(e,n),c=Co(t,n),l=u.get(c);if(l)er(e,n,l);else{var f=a?a(s,c,n+"",e,t,u):o,h=f===o;if(h){var d=Qa(c),p=!d&&Ya(c),v=!d&&!p&&fu(c);f=c,d||p||v?Qa(s)?f=s:$a(s)?f=xi(s):p?(h=!1,f=Ei(c,!0)):v?(h=!1,f=Ai(c,!0)):f=[]:au(c)||Wa(c)?(f=s,Wa(s)?f=bu(s):nu(s)&&!Za(s)||(f=yo(c))):h=!1}h&&(u.set(c,f),i(f,c,r,a,u),u.delete(c)),er(e,n,f)}}(e,t,u,n,Br,r,i);else{var s=r?r(Co(e,u),a,u+"",e,t,i):o;s===o&&(s=a),er(e,u,s)}}),Lu)}function zr(e,t){var n=e.length;if(n)return mo(t+=t<0?n:0,n)?e[t]:o}function qr(e,t,n){t=t.length?It(t,(function(e){return Qa(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[os];var r=-1;return t=It(t,Kt(uo())),function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,u=n.length;++r<a;){var s=ki(i[r],o[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(jr(e,(function(e,n,i){return{criteria:It(t,(function(t){return t(e)})),index:++r,value:e}})))}function Kr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],u=Sr(e,a);n(u,a)&&Jr(o,mi(a,e),u)}return o}function Wr(e,t,n,r){var i=r?Pt:Lt,o=-1,a=t.length,u=e;for(e===t&&(t=xi(t)),n&&(u=It(e,Kt(n)));++o<a;)for(var s=0,c=t[o],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==e&&it.call(u,s,1),it.call(e,s,1);return e}function Qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;mo(i)?it.call(e,i,1):li(e,i)}}return e}function Hr(e,t){return e+hn(En()*(t-e+1))}function Gr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=hn(t/2))&&(e+=e)}while(t);return n}function $r(e,t){return Ro(Io(e,t,os),e+"")}function Yr(e){return Xn(zu(e))}function Xr(e,t){var n=zu(e);return Po(n,ur(t,0,n.length))}function Jr(e,t,n,r){if(!nu(e))return e;for(var i=-1,a=(t=mi(t,e)).length,u=a-1,s=e;null!=s&&++i<a;){var c=Uo(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=u){var f=s[c];(l=r?r(f,c,s):o)===o&&(l=nu(f)?f:mo(t[i+1])?[]:{})}tr(s,c,l),s=s[c]}return e}var Zr=Nn?function(e,t){return Nn.set(e,t),e}:os,ei=lt?function(e,t){return lt(e,"toString",{configurable:!0,enumerable:!1,value:ns(t),writable:!0})}:os;function ti(e){return Po(zu(e))}function ni(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function ri(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ii(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!lu(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return oi(e,t,os,n)}function oi(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var u=(t=n(t))!=t,s=null===t,c=lu(t),l=t===o;i<a;){var f=hn((i+a)/2),h=n(e[f]),d=h!==o,p=null===h,v=h==h,y=lu(h);if(u)var g=r||v;else g=l?v&&(r||d):s?v&&d&&(r||!p):c?v&&d&&!p&&(r||!y):!p&&!y&&(r?h<=t:h<t);g?i=f+1:a=f}return bn(a,4294967294)}function ai(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],u=t?t(a):a;if(!n||!za(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:lu(e)?d:+e}function si(e){if("string"==typeof e)return e;if(Qa(e))return It(e,si)+"";if(lu(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,n){var r=-1,i=At,o=e.length,a=!0,u=[],s=u;if(n)a=!1,i=kt;else if(o>=200){var c=t?null:Gi(e);if(c)return rn(c);a=!1,i=Qt,s=new Gn}else s=t?[]:u;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function li(e,t){return null==(e=To(e,t=mi(t,e)))||delete e[Uo(Jo(t))]}function fi(e,t,n,r){return Jr(e,t,n(Sr(e,t)),r)}function hi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ni(e,r?0:o,r?o+1:i):ni(e,r?o+1:0,r?i:o)}function di(e,t){var n=e;return n instanceof Kn&&(n=n.value()),xt(t,(function(e,t){return t.func.apply(t.thisArg,Tt([e],t.args))}),n)}function pi(e,t,n){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=e[o],s=-1;++s<i;)s!=o&&(a[o]=fr(a[o]||u,e[s],t,n));return ci(gr(a,1),t,n)}function vi(e,t,n){for(var r=-1,i=e.length,a=t.length,u={};++r<i;){var s=r<a?t[r]:o;n(u,e[r],s)}return u}function yi(e){return $a(e)?e:[]}function gi(e){return"function"==typeof e?e:os}function mi(e,t){return Qa(e)?e:wo(e,t)?[e]:jo(wu(e))}var bi=$r;function wi(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:ni(e,t,n)}var _i=ft||function(e){return at.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=Ke?Ke(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Ai(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=lu(e),u=t!==o,s=null===t,c=t==t,l=lu(t);if(!s&&!l&&!a&&e>t||a&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||s&&n&&i||!u&&i||!c)return-1}return 0}function Ii(e,t,n,i){for(var o=-1,a=e.length,u=n.length,s=-1,c=t.length,l=mn(a-u,0),f=r(c+l),h=!i;++s<c;)f[s]=t[s];for(;++o<u;)(h||o<a)&&(f[n[o]]=e[o]);for(;l--;)f[s++]=e[o++];return f}function Ti(e,t,n,i){for(var o=-1,a=e.length,u=-1,s=n.length,c=-1,l=t.length,f=mn(a-s,0),h=r(f+l),d=!i;++o<f;)h[o]=e[o];for(var p=o;++c<l;)h[p+c]=t[c];for(;++u<s;)(d||o<a)&&(h[p+n[u]]=e[o++]);return h}function xi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ci(e,t,n,r){var i=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var s=t[a],c=r?r(n[s],e[s],s,n,e):o;c===o&&(c=e[s]),i?or(n,s,c):tr(n,s,c)}return n}function Ni(e,t){return function(n,r){var i=Qa(n)?bt:rr,o=t?t():{};return i(n,e,uo(r,2),o)}}function Di(e){return $r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,u=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,u&&bo(n[0],n[1],u)&&(a=i<3?o:a,i=1),t=ke(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))}function Ri(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=ke(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Oi(e){return function(t,n,r){for(var i=-1,o=ke(t),a=r(t),u=a.length;u--;){var s=a[e?u:++i];if(!1===n(o[s],s,o))break}return t}}function Li(e){return function(t){var n=Zt(t=wu(t))?un(t):o,r=n?n[0]:t.charAt(0),i=n?wi(n,1).join(""):t.slice(1);return r[e]()+i}}function Pi(e){return function(t){return xt(Zu(Wu(t).replace(We,"")),e,"")}}function Mi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return nu(r)?r:n}}function Fi(e){return function(t,n,r){var i=ke(t);if(!Ga(t)){var a=uo(n,3);t=Ou(t),n=function(e){return a(i[e],e,i)}}var u=e(t,n,r);return u>-1?i[a?t[u]:u]:o}}function ji(e){return to((function(t){var n=t.length,r=n,i=qn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new xe(a);if(i&&!s&&"wrapper"==oo(u))var s=new qn([],!0)}for(r=s?r:n;++r<n;){var c=oo(u=t[r]),l="wrapper"==c?io(u):o;s=l&&_o(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[oo(l[0])].apply(s,l[3]):1==u.length&&_o(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Qa(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ui(e,t,n,i,a,u,s,c,f,h){var d=t&l,p=1&t,v=2&t,y=24&t,g=512&t,m=v?o:Mi(e);return function o(){for(var l=arguments.length,b=r(l),w=l;w--;)b[w]=arguments[w];if(y)var _=ao(o),E=$t(b,_);if(i&&(b=Ii(b,i,a,y)),u&&(b=Ti(b,u,s,y)),l-=E,y&&l<h){var S=nn(b,_);return Qi(e,t,Ui,o.placeholder,n,b,S,c,f,h-l)}var A=p?n:this,k=v?A[e]:e;return l=b.length,c?b=xo(b,c):g&&l>1&&b.reverse(),d&&f<l&&(b.length=f),this&&this!==at&&this instanceof o&&(k=m||Mi(k)),k.apply(A,b)}}function Vi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Bi(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=ui(n),r=ui(r)),i=e(n,r)}return i}}function zi(e){return to((function(t){return t=It(t,Kt(uo())),$r((function(n){var r=this;return e(t,(function(e){return mt(e,r,n)}))}))}))}function qi(e,t){var n=(t=t===o?" ":si(t)).length;if(n<2)return n?Gr(t,e):t;var r=Gr(t,fn(e/an(t)));return Zt(t)?wi(un(r),0,e).join(""):r.slice(0,e)}function Ki(e){return function(t,n,i){return i&&"number"!=typeof i&&bo(t,n,i)&&(n=i=o),t=vu(t),n===o?(n=t,t=0):n=vu(n),function(e,t,n,i){for(var o=-1,a=mn(fn((t-e)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=e,e+=n;return u}(t,n,i=i===o?t<n?1:-1:vu(i),e)}}function Wi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=mu(t),n=mu(n)),e(t,n)}}function Qi(e,t,n,r,i,a,u,s,l,f){var h=8&t;t|=h?c:64,4&(t&=~(h?64:c))||(t&=-4);var d=[e,t,i,h?a:o,h?u:o,h?o:a,h?o:u,s,l,f],p=n.apply(o,d);return _o(e)&&No(p,d),p.placeholder=r,Oo(p,e,t)}function Hi(e){var t=Ae[e];return function(e,n){if(e=mu(e),(n=null==n?0:bn(yu(n),292))&&vn(e)){var r=(wu(e)+"e").split("e");return+((r=(wu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Gi=Tn&&1/rn(new Tn([,-0]))[1]==f?function(e){return new Tn(e)}:ls;function $i(e){return function(t){var n=po(t);return n==S?en(t):n==x?on(t):function(e,t){return It(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yi(e,t,n,i,u,f,h,d){var p=2&t;if(!p&&"function"!=typeof e)throw new xe(a);var v=i?i.length:0;if(v||(t&=-97,i=u=o),h=h===o?h:mn(yu(h),0),d=d===o?d:yu(d),v-=u?u.length:0,64&t){var y=i,g=u;i=u=o}var m=p?o:io(e),b=[e,t,n,i,u,y,g,f,h,d];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==l&&8==n||r==l&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Ii(c,u,t[4]):u,e[4]=c?nn(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ti(c,u,t[6]):u,e[6]=c?nn(e[5],s):t[6]),(u=t[7])&&(e[7]=u),r&l&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,m),e=b[0],t=b[1],n=b[2],i=b[3],u=b[4],!(d=b[9]=b[9]===o?p?0:e.length:mn(b[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||16==t?function(e,t,n){var i=Mi(e);return function a(){for(var u=arguments.length,s=r(u),c=u,l=ao(a);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:nn(s,l);return(u-=f.length)<n?Qi(e,t,Ui,a.placeholder,o,s,f,o,o,n-u):mt(this&&this!==at&&this instanceof a?i:e,this,s)}}(e,t,d):t!=c&&33!=t||u.length?Ui.apply(o,b):function(e,t,n,i){var o=1&t,a=Mi(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=i.length,f=r(l+s),h=this&&this!==at&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;s--;)f[c++]=arguments[++u];return mt(h,o?n:this,f)}}(e,t,n,i);else var w=function(e,t,n){var r=1&t,i=Mi(e);return function t(){return(this&&this!==at&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Oo((m?Zr:No)(w,b),e,t)}function Xi(e,t,n,r){return e===o||za(e,De[n])&&!Le.call(r,n)?t:e}function Ji(e,t,n,r,i,a){return nu(e)&&nu(t)&&(a.set(t,e),Br(e,t,o,Ji,a),a.delete(t)),e}function Zi(e){return au(e)?o:e}function eo(e,t,n,r,i,a){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new Gn:o;for(a.set(e,t),a.set(t,e);++h<s;){var v=e[h],y=t[h];if(r)var g=u?r(y,v,h,t,e,a):r(v,y,h,e,t,a);if(g!==o){if(g)continue;d=!1;break}if(p){if(!Nt(t,(function(e,t){if(!Qt(p,t)&&(v===e||i(v,e,n,r,a)))return p.push(t)}))){d=!1;break}}else if(v!==y&&!i(v,y,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function to(e){return Ro(Io(e,o,Ho),e+"")}function no(e){return Ar(e,Ou,fo)}function ro(e){return Ar(e,Lu,ho)}var io=Nn?function(e){return Nn.get(e)}:ls;function oo(e){for(var t=e.name+"",n=Dn[t],r=Le.call(Dn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ao(e){return(Le.call(Vn,"placeholder")?Vn:e).placeholder}function uo(){var e=Vn.iteratee||as;return e=e===as?Pr:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,o=e.__data__;return("string"==(r=i(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function co(e){for(var t=Ou(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ao(i)]}return t}function lo(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Lr(n)?n:o}var fo=dn?function(e){return null==e?[]:(e=ke(e),St(dn(e),(function(t){return tt.call(e,t)})))}:gs,ho=dn?function(e){for(var t=[];e;)Tt(t,fo(e)),e=He(e);return t}:gs,po=kr;function vo(e,t,n){for(var r=-1,i=(t=mi(t,e)).length,o=!1;++r<i;){var a=Uo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&tu(i)&&mo(a,i)&&(Qa(e)||Wa(e))}function yo(e){return"function"!=typeof e.constructor||So(e)?{}:Bn(He(e))}function go(e){return Qa(e)||Wa(e)||!!(ot&&e&&e[ot])}function mo(e,t){var n=i(e);return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function bo(e,t,n){if(!nu(n))return!1;var r=i(t);return!!("number"==r?Ga(n)&&mo(t,n.length):"string"==r&&t in n)&&za(n[t],e)}function wo(e,t){if(Qa(e))return!1;var n=i(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!lu(e))||ee.test(e)||!Z.test(e)||null!=t&&e in ke(t)}function _o(e){var t=oo(e),n=Vn[t];if("function"!=typeof n||!(t in Kn.prototype))return!1;if(e===n)return!0;var r=io(n);return!!r&&e===r[0]}(An&&po(new An(new ArrayBuffer(1)))!=O||kn&&po(new kn)!=S||In&&po(In.resolve())!=I||Tn&&po(new Tn)!=x||xn&&po(new xn)!=D)&&(po=function(e){var t=kr(e),n=t==k?e.constructor:o,r=n?Vo(n):"";if(r)switch(r){case Rn:return O;case On:return S;case Ln:return I;case Pn:return x;case Mn:return D}return t});var Eo=Re?Za:ms;function So(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function Ao(e){return e==e&&!nu(e)}function ko(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in ke(n))}}function Io(e,t,n){return t=mn(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=mn(i.length-t,0),u=r(a);++o<a;)u[o]=i[t+o];o=-1;for(var s=r(t+1);++o<t;)s[o]=i[o];return s[t]=n(u),mt(e,this,s)}}function To(e,t){return t.length<2?e:Sr(e,ni(t,0,-1))}function xo(e,t){for(var n=e.length,r=bn(t.length,n),i=xi(e);r--;){var a=t[r];e[r]=mo(a,n)?i[a]:o}return e}function Co(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var No=Lo(Zr),Do=Ut||function(e,t){return at.setTimeout(e,t)},Ro=Lo(ei);function Oo(e,t,n){var r=t+"";return Ro(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return wt(v,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(se):[]}(r),n)))}function Lo(e){var t=0,n=0;return function(){var r=wn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Po(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Hr(n,i),u=e[a];e[a]=e[n],e[n]=u}return e.length=t,e}var Mo,Fo,jo=(Mo=Ma((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}),(function(e){return 500===Fo.size&&Fo.clear(),e})),Fo=Mo.cache,Mo);function Uo(e){if("string"==typeof e||lu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Vo(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Bo(e){if(e instanceof Kn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=xi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zo=$r((function(e,t){return $a(e)?fr(e,gr(t,1,$a,!0)):[]})),qo=$r((function(e,t){var n=Jo(t);return $a(n)&&(n=o),$a(e)?fr(e,gr(t,1,$a,!0),uo(n,2)):[]})),Ko=$r((function(e,t){var n=Jo(t);return $a(n)&&(n=o),$a(e)?fr(e,gr(t,1,$a,!0),o,n):[]}));function Wo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:yu(n);return i<0&&(i=mn(r+i,0)),Ot(e,uo(t,3),i)}function Qo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=yu(n),i=n<0?mn(r+i,0):bn(i,r-1)),Ot(e,uo(t,3),i,!0)}function Ho(e){return null!=e&&e.length?gr(e,1):[]}function Go(e){return e&&e.length?e[0]:o}var $o=$r((function(e){var t=It(e,yi);return t.length&&t[0]===e[0]?Cr(t):[]})),Yo=$r((function(e){var t=Jo(e),n=It(e,yi);return t===Jo(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Cr(n,uo(t,2)):[]})),Xo=$r((function(e){var t=Jo(e),n=It(e,yi);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Cr(n,o,t):[]}));function Jo(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Zo=$r(ea);function ea(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var ta=to((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Qr(e,It(t,(function(e){return mo(e,n)?+e:e})).sort(ki)),r}));function na(e){return null==e?e:Sn.call(e)}var ra=$r((function(e){return ci(gr(e,1,$a,!0))})),ia=$r((function(e){var t=Jo(e);return $a(t)&&(t=o),ci(gr(e,1,$a,!0),uo(t,2))})),oa=$r((function(e){var t=Jo(e);return t="function"==typeof t?t:o,ci(gr(e,1,$a,!0),o,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=St(e,(function(e){if($a(e))return t=mn(e.length,t),!0})),zt(t,(function(t){return It(e,jt(t))}))}function ua(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:It(n,(function(e){return mt(t,o,e)}))}var sa=$r((function(e,t){return $a(e)?fr(e,t):[]})),ca=$r((function(e){return pi(St(e,$a))})),la=$r((function(e){var t=Jo(e);return $a(t)&&(t=o),pi(St(e,$a),uo(t,2))})),fa=$r((function(e){var t=Jo(e);return t="function"==typeof t?t:o,pi(St(e,$a),o,t)})),ha=$r(aa),da=$r((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,ua(e,n)}));function pa(e){var t=Vn(e);return t.__chain__=!0,t}function va(e,t){return t(e)}var ya=to((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Kn&&mo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:va,args:[i],thisArg:o}),new qn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)})),ga=Ni((function(e,t,n){Le.call(e,n)?++e[n]:or(e,n,1)})),ma=Fi(Wo),ba=Fi(Qo);function wa(e,t){return(Qa(e)?wt:hr)(e,uo(t,3))}function _a(e,t){return(Qa(e)?_t:dr)(e,uo(t,3))}var Ea=Ni((function(e,t,n){Le.call(e,n)?e[n].push(t):or(e,n,[t])})),Sa=$r((function(e,t,n){var i=-1,o="function"==typeof t,a=Ga(e)?r(e.length):[];return hr(e,(function(e){a[++i]=o?mt(t,e,n):Nr(e,t,n)})),a})),Aa=Ni((function(e,t,n){or(e,n,t)}));function ka(e,t){return(Qa(e)?It:jr)(e,uo(t,3))}var Ia=Ni((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ta=$r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bo(e,t[0],t[1])?t=[]:n>2&&bo(t[0],t[1],t[2])&&(t=[t[0]]),qr(e,gr(t,1),[])})),xa=Dt||function(){return at.Date.now()};function Ca(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Yi(e,l,o,o,o,o,t)}function Na(e,t){var n;if("function"!=typeof t)throw new xe(a);return e=yu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Da=$r((function(e,t,n){var r=1;if(n.length){var i=nn(n,ao(Da));r|=c}return Yi(e,r,t,n,i)})),Ra=$r((function(e,t,n){var r=3;if(n.length){var i=nn(n,ao(Ra));r|=c}return Yi(t,r,e,n,i)}));function Oa(e,t,n){var r,i,u,s,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new xe(a);function v(t){var n=r,a=i;return r=i=o,f=t,s=e.apply(a,n)}function y(e){return f=e,c=Do(m,t),h?v(e):s}function g(e){var n=e-l;return l===o||n>=t||n<0||d&&e-f>=u}function m(){var e=xa();if(g(e))return b(e);c=Do(m,function(e){var n=t-(e-l);return d?bn(n,u-(e-f)):n}(e))}function b(e){return c=o,p&&r?v(e):(r=i=o,s)}function w(){var e=xa(),n=g(e);if(r=arguments,i=this,l=e,n){if(c===o)return y(l);if(d)return _i(c),c=Do(m,t),v(l)}return c===o&&(c=Do(m,t)),s}return t=mu(t)||0,nu(n)&&(h=!!n.leading,u=(d="maxWait"in n)?mn(mu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),w.cancel=function(){c!==o&&_i(c),f=0,r=l=i=c=o},w.flush=function(){return c===o?s:b(xa())},w}var La=$r((function(e,t){return lr(e,1,t)})),Pa=$r((function(e,t,n){return lr(e,mu(t)||0,n)}));function Ma(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new xe(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ma.Cache||Hn),n}function Fa(e){if("function"!=typeof e)throw new xe(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ma.Cache=Hn;var ja=bi((function(e,t){var n=(t=1==t.length&&Qa(t[0])?It(t[0],Kt(uo())):It(gr(t,1),Kt(uo()))).length;return $r((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return mt(e,this,r)}))})),Ua=$r((function(e,t){var n=nn(t,ao(Ua));return Yi(e,c,o,t,n)})),Va=$r((function(e,t){var n=nn(t,ao(Va));return Yi(e,64,o,t,n)})),Ba=to((function(e,t){return Yi(e,256,o,o,o,t)}));function za(e,t){return e===t||e!=e&&t!=t}var qa=Wi(Ir),Ka=Wi((function(e,t){return e>=t})),Wa=Dr(function(){return arguments}())?Dr:function(e){return ru(e)&&Le.call(e,"callee")&&!tt.call(e,"callee")},Qa=r.isArray,Ha=ht?Kt(ht):function(e){return ru(e)&&kr(e)==R};function Ga(e){return null!=e&&tu(e.length)&&!Za(e)}function $a(e){return ru(e)&&Ga(e)}var Ya=pn||ms,Xa=dt?Kt(dt):function(e){return ru(e)&&kr(e)==b};function Ja(e){if(!ru(e))return!1;var t=kr(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!au(e)}function Za(e){if(!nu(e))return!1;var t=kr(e);return t==_||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eu(e){return"number"==typeof e&&e==yu(e)}function tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function nu(e){var t=i(e);return null!=e&&("object"==t||"function"==t)}function ru(e){return null!=e&&"object"==i(e)}var iu=pt?Kt(pt):function(e){return ru(e)&&po(e)==S};function ou(e){return"number"==typeof e||ru(e)&&kr(e)==A}function au(e){if(!ru(e)||kr(e)!=k)return!1;var t=He(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==je}var uu=vt?Kt(vt):function(e){return ru(e)&&kr(e)==T},su=yt?Kt(yt):function(e){return ru(e)&&po(e)==x};function cu(e){return"string"==typeof e||!Qa(e)&&ru(e)&&kr(e)==C}function lu(e){return"symbol"==i(e)||ru(e)&&kr(e)==N}var fu=gt?Kt(gt):function(e){return ru(e)&&tu(e.length)&&!!Ze[kr(e)]},hu=Wi(Fr),du=Wi((function(e,t){return e<=t}));function pu(e){if(!e)return[];if(Ga(e))return cu(e)?un(e):xi(e);if(ut&&e[ut])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[ut]());var t=po(e);return(t==S?en:t==x?rn:zu)(e)}function vu(e){return e?(e=mu(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function yu(e){var t=vu(e),n=t%1;return t==t?n?t-n:t:0}function gu(e){return e?ur(yu(e),0,p):0}function mu(e){if("number"==typeof e)return e;if(lu(e))return d;if(nu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=qt(e);var n=ve.test(e);return n||ge.test(e)?rt(e.slice(2),n?2:8):pe.test(e)?d:+e}function bu(e){return Ci(e,Lu(e))}function wu(e){return null==e?"":si(e)}var _u=Di((function(e,t){if(So(t)||Ga(t))Ci(t,Ou(t),e);else for(var n in t)Le.call(t,n)&&tr(e,n,t[n])})),Eu=Di((function(e,t){Ci(t,Lu(t),e)})),Su=Di((function(e,t,n,r){Ci(t,Lu(t),e,r)})),Au=Di((function(e,t,n,r){Ci(t,Ou(t),e,r)})),ku=to(ar),Iu=$r((function(e,t){e=ke(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&bo(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],u=Lu(a),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===o||za(f,De[l])&&!Le.call(e,l))&&(e[l]=a[l])}return e})),Tu=$r((function(e){return e.push(o,Ji),mt(Mu,o,e)}));function xu(e,t,n){var r=null==e?o:Sr(e,t);return r===o?n:r}function Cu(e,t){return null!=e&&vo(e,t,xr)}var Nu=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),ns(os)),Du=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Ru=$r(Nr);function Ou(e){return Ga(e)?Yn(e):Mr(e)}function Lu(e){return Ga(e)?Yn(e,!0):function(e){if(!nu(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=So(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}(e)}var Pu=Di((function(e,t,n){Br(e,t,n)})),Mu=Di((function(e,t,n,r){Br(e,t,n,r)})),Fu=to((function(e,t){var n={};if(null==e)return n;var r=!1;t=It(t,(function(t){return t=mi(t,e),r||(r=t.length>1),t})),Ci(e,ro(e),n),r&&(n=sr(n,7,Zi));for(var i=t.length;i--;)li(n,t[i]);return n})),ju=to((function(e,t){return null==e?{}:function(e,t){return Kr(e,t,(function(t,n){return Cu(e,n)}))}(e,t)}));function Uu(e,t){if(null==e)return{};var n=It(ro(e),(function(e){return[e]}));return t=uo(t),Kr(e,n,(function(e,n){return t(e,n[0])}))}var Vu=$i(Ou),Bu=$i(Lu);function zu(e){return null==e?[]:Wt(e,Ou(e))}var qu=Pi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ku(t):t)}));function Ku(e){return Ju(wu(e).toLowerCase())}function Wu(e){return(e=wu(e))&&e.replace(be,Yt).replace(Qe,"")}var Qu=Pi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hu=Pi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Gu=Li("toLowerCase"),$u=Pi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Yu=Pi((function(e,t,n){return e+(n?" ":"")+Ju(t)})),Xu=Pi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ju=Li("toUpperCase");function Zu(e,t,n){return e=wu(e),(t=n?o:t)===o?function(e){return Ye.test(e)}(e)?function(e){return e.match(Ge)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var es=$r((function(e,t){try{return mt(e,o,t)}catch(e){return Ja(e)?e:new Ee(e)}})),ts=to((function(e,t){return wt(t,(function(t){t=Uo(t),or(e,t,Da(e[t],e))})),e}));function ns(e){return function(){return e}}var rs=ji(),is=ji(!0);function os(e){return e}function as(e){return Pr("function"==typeof e?e:sr(e,1))}var us=$r((function(e,t){return function(n){return Nr(n,e,t)}})),ss=$r((function(e,t){return function(n){return Nr(e,n,t)}}));function cs(e,t,n){var r=Ou(t),i=Er(t,r);null!=n||nu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Er(t,Ou(t)));var o=!(nu(n)&&"chain"in n&&!n.chain),a=Za(e);return wt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=xi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Tt([this.value()],arguments))})})),e}function ls(){}var fs=zi(It),hs=zi(Et),ds=zi(Nt);function ps(e){return wo(e)?jt(Uo(e)):function(e){return function(t){return Sr(t,e)}}(e)}var vs=Ki(),ys=Ki(!0);function gs(){return[]}function ms(){return!1}var bs,ws=Bi((function(e,t){return e+t}),0),_s=Hi("ceil"),Es=Bi((function(e,t){return e/t}),1),Ss=Hi("floor"),As=Bi((function(e,t){return e*t}),1),ks=Hi("round"),Is=Bi((function(e,t){return e-t}),0);return Vn.after=function(e,t){if("function"!=typeof t)throw new xe(a);return e=yu(e),function(){if(--e<1)return t.apply(this,arguments)}},Vn.ary=Ca,Vn.assign=_u,Vn.assignIn=Eu,Vn.assignInWith=Su,Vn.assignWith=Au,Vn.at=ku,Vn.before=Na,Vn.bind=Da,Vn.bindAll=ts,Vn.bindKey=Ra,Vn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Qa(e)?e:[e]},Vn.chain=pa,Vn.chunk=function(e,t,n){t=(n?bo(e,t,n):t===o)?1:mn(yu(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,u=0,s=r(fn(i/t));a<i;)s[u++]=ni(e,a,a+=t);return s},Vn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Vn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Tt(Qa(n)?xi(n):[n],gr(t,1))},Vn.cond=function(e){var t=null==e?0:e.length,n=uo();return e=t?It(e,(function(e){if("function"!=typeof e[1])throw new xe(a);return[n(e[0]),e[1]]})):[],$r((function(n){for(var r=-1;++r<t;){var i=e[r];if(mt(i[0],this,n))return mt(i[1],this,n)}}))},Vn.conforms=function(e){return function(e){var t=Ou(e);return function(n){return cr(n,e,t)}}(sr(e,1))},Vn.constant=ns,Vn.countBy=ga,Vn.create=function(e,t){var n=Bn(e);return null==t?n:ir(n,t)},Vn.curry=function e(t,n,r){var i=Yi(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Vn.curryRight=function e(t,n,r){var i=Yi(t,16,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Vn.debounce=Oa,Vn.defaults=Iu,Vn.defaultsDeep=Tu,Vn.defer=La,Vn.delay=Pa,Vn.difference=zo,Vn.differenceBy=qo,Vn.differenceWith=Ko,Vn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ni(e,(t=n||t===o?1:yu(t))<0?0:t,r):[]},Vn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ni(e,0,(t=r-(t=n||t===o?1:yu(t)))<0?0:t):[]},Vn.dropRightWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!0,!0):[]},Vn.dropWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!0):[]},Vn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&bo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=yu(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:yu(r))<0&&(r+=i),r=n>r?0:gu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Vn.filter=function(e,t){return(Qa(e)?St:yr)(e,uo(t,3))},Vn.flatMap=function(e,t){return gr(ka(e,t),1)},Vn.flatMapDeep=function(e,t){return gr(ka(e,t),f)},Vn.flatMapDepth=function(e,t,n){return n=n===o?1:yu(n),gr(ka(e,t),n)},Vn.flatten=Ho,Vn.flattenDeep=function(e){return null!=e&&e.length?gr(e,f):[]},Vn.flattenDepth=function(e,t){return null!=e&&e.length?gr(e,t=t===o?1:yu(t)):[]},Vn.flip=function(e){return Yi(e,512)},Vn.flow=rs,Vn.flowRight=is,Vn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Vn.functions=function(e){return null==e?[]:Er(e,Ou(e))},Vn.functionsIn=function(e){return null==e?[]:Er(e,Lu(e))},Vn.groupBy=Ea,Vn.initial=function(e){return null!=e&&e.length?ni(e,0,-1):[]},Vn.intersection=$o,Vn.intersectionBy=Yo,Vn.intersectionWith=Xo,Vn.invert=Nu,Vn.invertBy=Du,Vn.invokeMap=Sa,Vn.iteratee=as,Vn.keyBy=Aa,Vn.keys=Ou,Vn.keysIn=Lu,Vn.map=ka,Vn.mapKeys=function(e,t){var n={};return t=uo(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Vn.mapValues=function(e,t){var n={};return t=uo(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Vn.matches=function(e){return Ur(sr(e,1))},Vn.matchesProperty=function(e,t){return Vr(e,sr(t,1))},Vn.memoize=Ma,Vn.merge=Pu,Vn.mergeWith=Mu,Vn.method=us,Vn.methodOf=ss,Vn.mixin=cs,Vn.negate=Fa,Vn.nthArg=function(e){return e=yu(e),$r((function(t){return zr(t,e)}))},Vn.omit=Fu,Vn.omitBy=function(e,t){return Uu(e,Fa(uo(t)))},Vn.once=function(e){return Na(2,e)},Vn.orderBy=function(e,t,n,r){return null==e?[]:(Qa(t)||(t=null==t?[]:[t]),Qa(n=r?o:n)||(n=null==n?[]:[n]),qr(e,t,n))},Vn.over=fs,Vn.overArgs=ja,Vn.overEvery=hs,Vn.overSome=ds,Vn.partial=Ua,Vn.partialRight=Va,Vn.partition=Ia,Vn.pick=ju,Vn.pickBy=Uu,Vn.property=ps,Vn.propertyOf=function(e){return function(t){return null==e?o:Sr(e,t)}},Vn.pull=Zo,Vn.pullAll=ea,Vn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,uo(n,2)):e},Vn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,o,n):e},Vn.pullAt=ta,Vn.range=vs,Vn.rangeRight=ys,Vn.rearg=Ba,Vn.reject=function(e,t){return(Qa(e)?St:yr)(e,Fa(uo(t,3)))},Vn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=uo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Qr(e,i),n},Vn.rest=function(e,t){if("function"!=typeof e)throw new xe(a);return $r(e,t=t===o?t:yu(t))},Vn.reverse=na,Vn.sampleSize=function(e,t,n){return t=(n?bo(e,t,n):t===o)?1:yu(t),(Qa(e)?Jn:Xr)(e,t)},Vn.set=function(e,t,n){return null==e?e:Jr(e,t,n)},Vn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Jr(e,t,n,r)},Vn.shuffle=function(e){return(Qa(e)?Zn:ti)(e)},Vn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bo(e,t,n)?(t=0,n=r):(t=null==t?0:yu(t),n=n===o?r:yu(n)),ni(e,t,n)):[]},Vn.sortBy=Ta,Vn.sortedUniq=function(e){return e&&e.length?ai(e):[]},Vn.sortedUniqBy=function(e,t){return e&&e.length?ai(e,uo(t,2)):[]},Vn.split=function(e,t,n){return n&&"number"!=typeof n&&bo(e,t,n)&&(t=n=o),(n=n===o?p:n>>>0)?(e=wu(e))&&("string"==typeof t||null!=t&&!uu(t))&&!(t=si(t))&&Zt(e)?wi(un(e),0,n):e.split(t,n):[]},Vn.spread=function(e,t){if("function"!=typeof e)throw new xe(a);return t=null==t?0:mn(yu(t),0),$r((function(n){var r=n[t],i=wi(n,0,t);return r&&Tt(i,r),mt(e,this,i)}))},Vn.tail=function(e){var t=null==e?0:e.length;return t?ni(e,1,t):[]},Vn.take=function(e,t,n){return e&&e.length?ni(e,0,(t=n||t===o?1:yu(t))<0?0:t):[]},Vn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ni(e,(t=r-(t=n||t===o?1:yu(t)))<0?0:t,r):[]},Vn.takeRightWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!1,!0):[]},Vn.takeWhile=function(e,t){return e&&e.length?hi(e,uo(t,3)):[]},Vn.tap=function(e,t){return t(e),e},Vn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new xe(a);return nu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Oa(e,t,{leading:r,maxWait:t,trailing:i})},Vn.thru=va,Vn.toArray=pu,Vn.toPairs=Vu,Vn.toPairsIn=Bu,Vn.toPath=function(e){return Qa(e)?It(e,Uo):lu(e)?[e]:xi(jo(wu(e)))},Vn.toPlainObject=bu,Vn.transform=function(e,t,n){var r=Qa(e),i=r||Ya(e)||fu(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:nu(e)&&Za(o)?Bn(He(e)):{}}return(i?wt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Vn.unary=function(e){return Ca(e,1)},Vn.union=ra,Vn.unionBy=ia,Vn.unionWith=oa,Vn.uniq=function(e){return e&&e.length?ci(e):[]},Vn.uniqBy=function(e,t){return e&&e.length?ci(e,uo(t,2)):[]},Vn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?ci(e,o,t):[]},Vn.unset=function(e,t){return null==e||li(e,t)},Vn.unzip=aa,Vn.unzipWith=ua,Vn.update=function(e,t,n){return null==e?e:fi(e,t,gi(n))},Vn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:fi(e,t,gi(n),r)},Vn.values=zu,Vn.valuesIn=function(e){return null==e?[]:Wt(e,Lu(e))},Vn.without=sa,Vn.words=Zu,Vn.wrap=function(e,t){return Ua(gi(t),e)},Vn.xor=ca,Vn.xorBy=la,Vn.xorWith=fa,Vn.zip=ha,Vn.zipObject=function(e,t){return vi(e||[],t||[],tr)},Vn.zipObjectDeep=function(e,t){return vi(e||[],t||[],Jr)},Vn.zipWith=da,Vn.entries=Vu,Vn.entriesIn=Bu,Vn.extend=Eu,Vn.extendWith=Su,cs(Vn,Vn),Vn.add=ws,Vn.attempt=es,Vn.camelCase=qu,Vn.capitalize=Ku,Vn.ceil=_s,Vn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=mu(n))==n?n:0),t!==o&&(t=(t=mu(t))==t?t:0),ur(mu(e),t,n)},Vn.clone=function(e){return sr(e,4)},Vn.cloneDeep=function(e){return sr(e,5)},Vn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:o)},Vn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:o)},Vn.conformsTo=function(e,t){return null==t||cr(e,t,Ou(t))},Vn.deburr=Wu,Vn.defaultTo=function(e,t){return null==e||e!=e?t:e},Vn.divide=Es,Vn.endsWith=function(e,t,n){e=wu(e),t=si(t);var r=e.length,i=n=n===o?r:ur(yu(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Vn.eq=za,Vn.escape=function(e){return(e=wu(e))&&$.test(e)?e.replace(H,Xt):e},Vn.escapeRegExp=function(e){return(e=wu(e))&&re.test(e)?e.replace(ne,"\\$&"):e},Vn.every=function(e,t,n){var r=Qa(e)?Et:pr;return n&&bo(e,t,n)&&(t=o),r(e,uo(t,3))},Vn.find=ma,Vn.findIndex=Wo,Vn.findKey=function(e,t){return Rt(e,uo(t,3),wr)},Vn.findLast=ba,Vn.findLastIndex=Qo,Vn.findLastKey=function(e,t){return Rt(e,uo(t,3),_r)},Vn.floor=Ss,Vn.forEach=wa,Vn.forEachRight=_a,Vn.forIn=function(e,t){return null==e?e:mr(e,uo(t,3),Lu)},Vn.forInRight=function(e,t){return null==e?e:br(e,uo(t,3),Lu)},Vn.forOwn=function(e,t){return e&&wr(e,uo(t,3))},Vn.forOwnRight=function(e,t){return e&&_r(e,uo(t,3))},Vn.get=xu,Vn.gt=qa,Vn.gte=Ka,Vn.has=function(e,t){return null!=e&&vo(e,t,Tr)},Vn.hasIn=Cu,Vn.head=Go,Vn.identity=os,Vn.includes=function(e,t,n,r){e=Ga(e)?e:zu(e),n=n&&!r?yu(n):0;var i=e.length;return n<0&&(n=mn(i+n,0)),cu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Lt(e,t,n)>-1},Vn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:yu(n);return i<0&&(i=mn(r+i,0)),Lt(e,t,i)},Vn.inRange=function(e,t,n){return t=vu(t),n===o?(n=t,t=0):n=vu(n),function(e,t,n){return e>=bn(t,n)&&e<mn(t,n)}(e=mu(e),t,n)},Vn.invoke=Ru,Vn.isArguments=Wa,Vn.isArray=Qa,Vn.isArrayBuffer=Ha,Vn.isArrayLike=Ga,Vn.isArrayLikeObject=$a,Vn.isBoolean=function(e){return!0===e||!1===e||ru(e)&&kr(e)==m},Vn.isBuffer=Ya,Vn.isDate=Xa,Vn.isElement=function(e){return ru(e)&&1===e.nodeType&&!au(e)},Vn.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(Qa(e)||"string"==typeof e||"function"==typeof e.splice||Ya(e)||fu(e)||Wa(e)))return!e.length;var t=po(e);if(t==S||t==x)return!e.size;if(So(e))return!Mr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Vn.isEqual=function(e,t){return Rr(e,t)},Vn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Rr(e,t,o,n):!!r},Vn.isError=Ja,Vn.isFinite=function(e){return"number"==typeof e&&vn(e)},Vn.isFunction=Za,Vn.isInteger=eu,Vn.isLength=tu,Vn.isMap=iu,Vn.isMatch=function(e,t){return e===t||Or(e,t,co(t))},Vn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Or(e,t,co(t),n)},Vn.isNaN=function(e){return ou(e)&&e!=+e},Vn.isNative=function(e){if(Eo(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Vn.isNil=function(e){return null==e},Vn.isNull=function(e){return null===e},Vn.isNumber=ou,Vn.isObject=nu,Vn.isObjectLike=ru,Vn.isPlainObject=au,Vn.isRegExp=uu,Vn.isSafeInteger=function(e){return eu(e)&&e>=-9007199254740991&&e<=h},Vn.isSet=su,Vn.isString=cu,Vn.isSymbol=lu,Vn.isTypedArray=fu,Vn.isUndefined=function(e){return e===o},Vn.isWeakMap=function(e){return ru(e)&&po(e)==D},Vn.isWeakSet=function(e){return ru(e)&&"[object WeakSet]"==kr(e)},Vn.join=function(e,t){return null==e?"":yn.call(e,t)},Vn.kebabCase=Qu,Vn.last=Jo,Vn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=yu(n))<0?mn(r+i,0):bn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Ot(e,Mt,i,!0)},Vn.lowerCase=Hu,Vn.lowerFirst=Gu,Vn.lt=hu,Vn.lte=du,Vn.max=function(e){return e&&e.length?vr(e,os,Ir):o},Vn.maxBy=function(e,t){return e&&e.length?vr(e,uo(t,2),Ir):o},Vn.mean=function(e){return Ft(e,os)},Vn.meanBy=function(e,t){return Ft(e,uo(t,2))},Vn.min=function(e){return e&&e.length?vr(e,os,Fr):o},Vn.minBy=function(e,t){return e&&e.length?vr(e,uo(t,2),Fr):o},Vn.stubArray=gs,Vn.stubFalse=ms,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=As,Vn.nth=function(e,t){return e&&e.length?zr(e,yu(t)):o},Vn.noConflict=function(){return at._===this&&(at._=Ue),this},Vn.noop=ls,Vn.now=xa,Vn.pad=function(e,t,n){e=wu(e);var r=(t=yu(t))?an(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return qi(hn(i),n)+e+qi(fn(i),n)},Vn.padEnd=function(e,t,n){e=wu(e);var r=(t=yu(t))?an(e):0;return t&&r<t?e+qi(t-r,n):e},Vn.padStart=function(e,t,n){e=wu(e);var r=(t=yu(t))?an(e):0;return t&&r<t?qi(t-r,n)+e:e},Vn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(wu(e).replace(ie,""),t||0)},Vn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=vu(e),t===o?(t=e,e=0):t=vu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=En();return bn(e+i*(t-e+nt("1e-"+((i+"").length-1))),t)}return Hr(e,t)},Vn.reduce=function(e,t,n){var r=Qa(e)?xt:Vt,i=arguments.length<3;return r(e,uo(t,4),n,i,hr)},Vn.reduceRight=function(e,t,n){var r=Qa(e)?Ct:Vt,i=arguments.length<3;return r(e,uo(t,4),n,i,dr)},Vn.repeat=function(e,t,n){return t=(n?bo(e,t,n):t===o)?1:yu(t),Gr(wu(e),t)},Vn.replace=function(){var e=arguments,t=wu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vn.result=function(e,t,n){var r=-1,i=(t=mi(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Uo(t[r])];a===o&&(r=i,a=n),e=Za(a)?a.call(e):a}return e},Vn.round=ks,Vn.runInContext=e,Vn.sample=function(e){return(Qa(e)?Xn:Yr)(e)},Vn.size=function(e){if(null==e)return 0;if(Ga(e))return cu(e)?an(e):e.length;var t=po(e);return t==S||t==x?e.size:Mr(e).length},Vn.snakeCase=$u,Vn.some=function(e,t,n){var r=Qa(e)?Nt:ri;return n&&bo(e,t,n)&&(t=o),r(e,uo(t,3))},Vn.sortedIndex=function(e,t){return ii(e,t)},Vn.sortedIndexBy=function(e,t,n){return oi(e,t,uo(n,2))},Vn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ii(e,t);if(r<n&&za(e[r],t))return r}return-1},Vn.sortedLastIndex=function(e,t){return ii(e,t,!0)},Vn.sortedLastIndexBy=function(e,t,n){return oi(e,t,uo(n,2),!0)},Vn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ii(e,t,!0)-1;if(za(e[n],t))return n}return-1},Vn.startCase=Yu,Vn.startsWith=function(e,t,n){return e=wu(e),n=null==n?0:ur(yu(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},Vn.subtract=Is,Vn.sum=function(e){return e&&e.length?Bt(e,os):0},Vn.sumBy=function(e,t){return e&&e.length?Bt(e,uo(t,2)):0},Vn.template=function(e,t,n){var r=Vn.templateSettings;n&&bo(e,t,n)&&(t=o),e=wu(e),t=Su({},t,r,Xi);var i,a,u=Su({},t.imports,r.imports,Xi),s=Ou(u),c=Wt(u,s),l=0,f=t.interpolate||we,h="__p += '",d=Ie((t.escape||we).source+"|"+f.source+"|"+(f===J?he:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Je+"]")+"\n";e.replace(d,(function(t,n,r,o,u,s){return r||(r=o),h+=e.slice(l,s).replace(_e,Jt),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),h+="';\n";var v=Le.call(t,"variable")&&t.variable;if(v){if(le.test(v))throw new Ee("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(q,""):h).replace(K,"$1").replace(W,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=es((function(){return Se(s,p+"return "+h).apply(o,c)}));if(y.source=h,Ja(y))throw y;return y},Vn.times=function(e,t){if((e=yu(e))<1||e>h)return[];var n=p,r=bn(e,p);t=uo(t),e-=p;for(var i=zt(r,t);++n<e;)t(n);return i},Vn.toFinite=vu,Vn.toInteger=yu,Vn.toLength=gu,Vn.toLower=function(e){return wu(e).toLowerCase()},Vn.toNumber=mu,Vn.toSafeInteger=function(e){return e?ur(yu(e),-9007199254740991,h):0===e?e:0},Vn.toString=wu,Vn.toUpper=function(e){return wu(e).toUpperCase()},Vn.trim=function(e,t,n){if((e=wu(e))&&(n||t===o))return qt(e);if(!e||!(t=si(t)))return e;var r=un(e),i=un(t);return wi(r,Ht(r,i),Gt(r,i)+1).join("")},Vn.trimEnd=function(e,t,n){if((e=wu(e))&&(n||t===o))return e.slice(0,sn(e)+1);if(!e||!(t=si(t)))return e;var r=un(e);return wi(r,0,Gt(r,un(t))+1).join("")},Vn.trimStart=function(e,t,n){if((e=wu(e))&&(n||t===o))return e.replace(ie,"");if(!e||!(t=si(t)))return e;var r=un(e);return wi(r,Ht(r,un(t))).join("")},Vn.truncate=function(e,t){var n=30,r="...";if(nu(t)){var i="separator"in t?t.separator:i;n="length"in t?yu(t.length):n,r="omission"in t?si(t.omission):r}var a=(e=wu(e)).length;if(Zt(e)){var u=un(e);a=u.length}if(n>=a)return e;var s=n-an(r);if(s<1)return r;var c=u?wi(u,0,s).join(""):e.slice(0,s);if(i===o)return c+r;if(u&&(s+=c.length-s),uu(i)){if(e.slice(s).search(i)){var l,f=c;for(i.global||(i=Ie(i.source,wu(de.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;c=c.slice(0,h===o?s:h)}}else if(e.indexOf(si(i),s)!=s){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r},Vn.unescape=function(e){return(e=wu(e))&&G.test(e)?e.replace(Q,cn):e},Vn.uniqueId=function(e){var t=++Pe;return wu(e)+t},Vn.upperCase=Xu,Vn.upperFirst=Ju,Vn.each=wa,Vn.eachRight=_a,Vn.first=Go,cs(Vn,(bs={},wr(Vn,(function(e,t){Le.call(Vn.prototype,t)||(bs[t]=e)})),bs),{chain:!1}),Vn.VERSION="4.17.21",wt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vn[e].placeholder=Vn})),wt(["drop","take"],(function(e,t){Kn.prototype[e]=function(n){n=n===o?1:mn(yu(n),0);var r=this.__filtered__&&!t?new Kn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,p),type:e+(r.__dir__<0?"Right":"")}),r},Kn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),wt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Kn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),wt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Kn.prototype[e]=function(){return this[n](1).value()[0]}})),wt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Kn.prototype[e]=function(){return this.__filtered__?new Kn(this):this[n](1)}})),Kn.prototype.compact=function(){return this.filter(os)},Kn.prototype.find=function(e){return this.filter(e).head()},Kn.prototype.findLast=function(e){return this.reverse().find(e)},Kn.prototype.invokeMap=$r((function(e,t){return"function"==typeof e?new Kn(this):this.map((function(n){return Nr(n,e,t)}))})),Kn.prototype.reject=function(e){return this.filter(Fa(uo(e)))},Kn.prototype.slice=function(e,t){e=yu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Kn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=yu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Kn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Kn.prototype.toArray=function(){return this.take(p)},wr(Kn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Vn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Vn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Kn,c=u[0],l=s||Qa(t),f=function(e){var t=i.apply(Vn,Tt([e],u));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,v=s&&!d;if(!a&&l){t=v?t:new Kn(this);var y=e.apply(t,u);return y.__actions__.push({func:va,args:[f],thisArg:o}),new qn(y,h)}return p&&v?e.apply(this,u):(y=this.thru(f),p?r?y.value()[0]:y.value():y)})})),wt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ce[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Vn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Qa(i)?i:[],e)}return this[n]((function(n){return t.apply(Qa(n)?n:[],e)}))}})),wr(Kn.prototype,(function(e,t){var n=Vn[t];if(n){var r=n.name+"";Le.call(Dn,r)||(Dn[r]=[]),Dn[r].push({name:t,func:n})}})),Dn[Ui(o,2).name]=[{name:"wrapper",func:o}],Kn.prototype.clone=function(){var e=new Kn(this.__wrapped__);return e.__actions__=xi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=xi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=xi(this.__views__),e},Kn.prototype.reverse=function(){if(this.__filtered__){var e=new Kn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Kn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Qa(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=mn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,h=0,d=bn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return di(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var v=-1,y=e[c+=t];++v<f;){var g=l[v],m=g.iteratee,b=g.type,w=m(y);if(2==b)y=w;else if(!w){if(1==b)continue e;break e}}p[h++]=y}return p},Vn.prototype.at=ya,Vn.prototype.chain=function(){return pa(this)},Vn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===o&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Bo(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Kn){var t=e;return this.__actions__.length&&(t=new Kn(this)),(t=t.reverse()).__actions__.push({func:va,args:[na],thisArg:o}),new qn(t,this.__chain__)}return this.thru(na)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,ut&&(Vn.prototype[ut]=function(){return this}),Vn}();"object"==i(n.amdO)&&n.amdO?(at._=ln,(r=function(){return ln}.call(t,n,t,e))===o||(e.exports=r)):st?((st.exports=ln)._=ln,ut._=ln):at._=ln}.call(this)},535:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,u,s=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(s[l]=a[l]);if(t){u=t(a);for(var f=0;f<u.length;f++)r.call(a,u[f])&&(s[u[f]]=a[u[f]])}}return s}},534:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(684),o=n(535),a=n(756);function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(u(227));var s=new Set,c={};function l(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,v={},y={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function _(e,t,n,i){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0===o.type:!i&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(r(t)){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,i)&&(n=null),i||null===o?function(e){return!!p.call(y,e)||!p.call(v,e)&&(d.test(e)?y[e]=!0:(v[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,i=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,w);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,w);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,w);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,A=60106,k=60107,I=60108,T=60114,x=60109,C=60110,N=60112,D=60113,R=60120,O=60115,L=60116,P=60121,M=60128,F=60129,j=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;S=V("react.element"),A=V("react.portal"),k=V("react.fragment"),I=V("react.strict_mode"),T=V("react.profiler"),x=V("react.provider"),C=V("react.context"),N=V("react.forward_ref"),D=V("react.suspense"),R=V("react.suspense_list"),O=V("react.memo"),L=V("react.lazy"),P=V("react.block"),V("react.scope"),M=V("react.opaque.id"),F=V("react.debug_trace_mode"),j=V("react.offscreen"),U=V("react.legacy_hidden")}var B,z="function"==typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==r(e)?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function K(e){if(void 0===B)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var W=!1;function Q(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}else{try{throw Error()}catch(e){i=e}e()}}catch(e){if(e&&i&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),a=i.stack.split("\n"),u=o.length-1,s=a.length-1;1<=u&&0<=s&&o[u]!==a[s];)s--;for(;1<=u&&0<=s;u--,s--)if(o[u]!==a[s]){if(1!==u||1!==s)do{if(u--,0>--s||o[u]!==a[s])return"\n"+o[u].replace(" at new "," at ")}while(1<=u&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?K(e):""}function H(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return Q(e.type,!1);case 11:return Q(e.type.render,!1);case 22:return Q(e.type._render,!1);case 1:return Q(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case A:return"Portal";case T:return"Profiler";case I:return"StrictMode";case D:return"Suspense";case R:return"SuspenseList"}if("object"===r(e))switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case P:return G(e._render);case L:t=e._payload,e=e._init;try{return G(e(t))}catch(e){}}return null}function $(e){switch(r(e)){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ee(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ne(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function re(e,t){ne(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ue(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(u(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(u(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(u(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function le(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function fe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,ge=(ye=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(u(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(u(60));if("object"!==r(t.dangerouslySetInnerHTML)||!("__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=t.style&&"object"!==r(t.style))throw Error(u(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,xe=null,Ce=null;function Ne(e){if(e=Zr(e)){if("function"!=typeof Te)throw Error(u(280));var t=e.stateNode;t&&(t=ti(t),Te(e.stateNode,e.type,t))}}function De(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Re(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function Pe(){}var Me=Oe,Fe=!1,je=!1;function Ue(){null===xe&&null===Ce||(Pe(),Re())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var i=ti(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(u(231,t,r(n)));return n}var Be=!1;if(h)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ye){Be=!1}function qe(e,t,n,r,i,o,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ke=!1,We=null,Qe=!1,He=null,Ge={onError:function(e){Ke=!0,We=e}};function $e(e,t,n,r,i,o,a,u,s){Ke=!1,We=null,qe.apply(Ge,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(u(188))}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,ut=null,st=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=Zr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=Jr(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function mt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Zr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&gt(at)&&(at=null),null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),ct.forEach(mt),lt.forEach(mt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==ut&&wt(ut,e),null!==st&&wt(st,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},At={},kt={};function It(e){if(At[e])return At[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return At[e]=n[t];return e}h&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Tt=It("animationend"),xt=It("animationiteration"),Ct=It("animationstart"),Nt=It("transitionend"),Dt=new Map,Rt=new Map,Ot=["abort","abort",Tt,"animationEnd",xt,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Dt.set(r,i),l(i,[r])}}(0,a.unstable_now)();var Pt=8;function Mt(e){if(0!=(1&e))return Pt=15,1;if(0!=(2&e))return Pt=14,2;if(0!=(4&e))return Pt=13,4;var t=24&e;return 0!==t?(Pt=12,t):0!=(32&e)?(Pt=11,32):0!=(t=192&e)?(Pt=10,t):0!=(256&e)?(Pt=9,256):0!=(t=3584&e)?(Pt=8,t):0!=(4096&e)?(Pt=7,4096):0!=(t=4186112&e)?(Pt=6,t):0!=(t=62914560&e)?(Pt=5,t):67108864&e?(Pt=4,67108864):0!=(134217728&e)?(Pt=3,134217728):0!=(t=805306368&e)?(Pt=2,t):0!=(1073741824&e)?(Pt=1,1073741824):(Pt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Pt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,u=e.pingedLanes;if(0!==o)r=o,i=Pt=15;else if(0!=(o=134217727&n)){var s=o&~a;0!==s?(r=Mt(s),i=Pt):0!=(u&=o)&&(r=Mt(u),i=Pt)}else 0!=(o=n&~a)?(r=Mt(o),i=Pt):0!==u&&(r=Mt(u),i=Pt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Mt(t),i<=Pt)return t;Pt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&0===(e=Vt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(u(358,e))}function Vt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2,Qt=a.unstable_UserBlockingPriority,Ht=a.unstable_runWithPriority,Gt=!0;function $t(e,t,n,r){Fe||Pe();var i=Xt,o=Fe;Fe=!0;try{Le(i,e,t,n,r)}finally{(Fe=o)||Ue()}}function Yt(e,t,n,r){Ht(Qt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=vt(at,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return st=vt(st,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,vt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Ie(r);if(null!==(i=Jr(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var sn,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(fn),dn=o({},fn,{view:0,detail:0}),pn=un(dn),vn=o({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=un(vn),gn=un(o({},vn,{dataTransfer:0})),mn=un(o({},dn,{relatedTarget:0})),bn=un(o({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=un(o({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=un(o({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function In(){return kn}var Tn=un(o({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=un(o({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=un(o({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=un(o({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=un(o({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],On=h&&"CompositionEvent"in window,Ln=null;h&&"documentMode"in document&&(Ln=document.documentMode);var Pn=h&&"TextEvent"in window&&!Ln,Mn=h&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===r(e=e.detail)&&"data"in e?e.data:null}var Bn=!1,zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){De(r),0<(t=Or(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Qn=null;function Hn(e){kr(e,0)}function Gn(e){if(J(ei(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(h){var Xn;if(h){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"==typeof Zn.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Wn&&(Wn.detachEvent("onpropertychange",tr),Qn=Wn=null)}function tr(e){if("value"===e.propertyName&&Gn(Qn)){var t=[];if(Kn(t,Qn,e,Ie(e)),e=Hn,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,Ue()}}}}function nr(e,t,n){"focusin"===e?(er(),Qn=n,(Wn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Qn)}function ir(e,t){if("click"===e)return Gn(t)}function or(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ur=Object.prototype.hasOwnProperty;function sr(e,t){if(ar(e,t))return!0;if("object"!==r(e)||null===e||"object"!==r(t)||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!ur.call(t,n[i])||!ar(e[n[i]],t[n[i]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,gr=null,mr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==vr||vr!==Z(r)||(r="selectionStart"in(r=vr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Or(yr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Ot,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<wr.length;_r++)Rt.set(wr[_r],0);f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,c){if($e.apply(this,arguments),Ke){if(!Ke)throw Error(u(198));var l=We;Ke=!1,We=null,Qe||(Qe=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function kr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==o&&i.isPropagationStopped())break e;Ar(i,u,c),o=s}else for(a=0;a<r.length;a++){if(s=(u=r[a]).instance,c=u.currentTarget,u=u.listener,s!==o&&i.isPropagationStopped())break e;Ar(i,u,c),o=s}}}if(Qe)throw e=He,Qe=!1,He=null,e}function Ir(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Nr(t,e,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function xr(e){e[Tr]||(e[Tr]=!0,s.forEach((function(t){Sr.has(t)||Cr(t,!1,e,null),Cr(t,!0,e,null)})))}function Cr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ni(o),u=e+"__"+(t?"capture":"bubble");a.has(u)||(t&&(i|=4),Nr(o,e,i,t),a.add(u))}function Nr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==u;){if(null===(a=Jr(u)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(je)return e();je=!0;try{Me(e,t,n)}finally{je=!1,Ue()}}((function(){var r=o,i=Ie(n),a=[];e:{var u=Dt.get(e);if(void 0!==u){var s=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Tt:case xt:case Ct:s=bn;break;case Nt:s=Nn;break;case"scroll":s=pn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=xn}var l=0!=(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&null!=(v=Ve(p,h))&&l.push(Rr(p,v,d))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),a.push({event:u,listeners:l}))}}if(0==(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Jr(c)&&!c[Yr])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?Jr(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ei(s),d=null==c?u:ei(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,Jr(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Lr(d))p++;for(d=0,v=h;v;v=Lr(v))d++;for(;0<p-d;)l=Lr(l),p--;for(;0<d-p;)h=Lr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Lr(l),h=Lr(h)}l=null}else l=null;null!==s&&Pr(a,u,s,l,!1),null!==c&&null!==f&&Pr(a,f,c,l,!0)}if("select"===(s=(u=r?ei(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=$n;else if(qn(u))if(Yn)y=or;else{y=rr;var g=nr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ir);switch(y&&(y=y(e,r))?Kn(a,y,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&oe(u,"number",u.value)),g=r?ei(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(vr=g,yr=r,gr=null);break;case"focusout":gr=yr=vr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var m;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(m=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Bn=!0)),0<(g=Or(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:g}),(m||null!==(m=Vn(n)))&&(b.data=m))),(m=Pn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Un(e,t)?(e=nn(),tn=en=Zt=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Or(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m)}kr(a,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Or(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ve(e,n))&&r.unshift(Rr(e,o,i)),null!=(o=Ve(e,t))&&r.push(Rr(e,o,i))),e=e.return}return r}function Lr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Pr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,o))&&a.unshift(Rr(n,s,u)):i||null!=(s=Ve(n,o))&&a.push(Rr(n,s,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Mr(){}var Fr=null,jr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"===r(t.dangerouslySetInnerHTML)&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Br="function"==typeof setTimeout?setTimeout:void 0,zr="function"==typeof clearTimeout?clearTimeout:void 0;function qr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Wr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0,Hr=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Hr,$r="__reactProps$"+Hr,Yr="__reactContainer$"+Hr,Xr="__reactEvents$"+Hr;function Jr(e){var t=e[Gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Wr(e);null!==e;){if(n=e[Gr])return n;e=Wr(e)}return t}n=(e=n).parentNode}return null}function Zr(e){return!(e=e[Gr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(u(33))}function ti(e){return e[$r]||null}function ni(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function ai(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function ui(e,t){ii++,ri[ii]=e.current,e.current=t}var si={},ci=oi(si),li=oi(!1),fi=si;function hi(e,t){var n=e.type.contextTypes;if(!n)return si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function di(e){return null!=e.childContextTypes}function pi(){ai(li),ai(ci)}function vi(e,t,n){if(ci.current!==si)throw Error(u(168));ui(ci,t),ui(li,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(u(108,G(t)||"Unknown",i));return o({},n,r)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,fi=ci.current,ui(ci,e),ui(li,li.current),!0}function mi(e,t,n){var r=e.stateNode;if(!r)throw Error(u(169));n?(e=yi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,ai(li),ai(ci),ui(ci,e)):ai(li),ui(li,n)}var bi=null,wi=null,_i=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ai=a.unstable_shouldYield,ki=a.unstable_requestPaint,Ii=a.unstable_now,Ti=a.unstable_getCurrentPriorityLevel,xi=a.unstable_ImmediatePriority,Ci=a.unstable_UserBlockingPriority,Ni=a.unstable_NormalPriority,Di=a.unstable_LowPriority,Ri=a.unstable_IdlePriority,Oi={},Li=void 0!==ki?ki:function(){},Pi=null,Mi=null,Fi=!1,ji=Ii(),Ui=1e4>ji?Ii:function(){return Ii()-ji};function Vi(){switch(Ti()){case xi:return 99;case Ci:return 98;case Ni:return 97;case Di:return 96;case Ri:return 95;default:throw Error(u(332))}}function Bi(e){switch(e){case 99:return xi;case 98:return Ci;case 97:return Ni;case 96:return Di;case 95:return Ri;default:throw Error(u(332))}}function zi(e,t){return e=Bi(e),_i(e,t)}function qi(e,t,n){return e=Bi(e),Ei(e,t,n)}function Ki(){if(null!==Mi){var e=Mi;Mi=null,Si(e)}Wi()}function Wi(){if(!Fi&&null!==Pi){Fi=!0;var e=0;try{var t=Pi;zi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Pi=null}catch(t){throw null!==Pi&&(Pi=Pi.slice(e+1)),Ei(xi,Ki),t}finally{Fi=!1}}}var Qi=E.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=oi(null),$i=null,Yi=null,Xi=null;function Ji(){Xi=Yi=$i=null}function Zi(e){var t=Gi.current;ai(Gi),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){$i=e,Xi=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Oa=!0),e.firstContext=null)}function no(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===$i)throw Error(u(308));Yi=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function so(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var i=e.updateQueue;ro=!1;var a=i.firstBaseUpdate,u=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?a=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=i.baseState,u=0,f=l=c=null;;){s=a.lane;var d=a.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(s=t,d=n,v.tag){case 1:if("function"==typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(s="function"==typeof(p=v.payload)?p.call(d,h,s):p))break e;h=o({},h,s);break e;case 2:ro=!0}}null!==a.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[a]:s.push(a))}else d={eventTime:d,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(a=a.next)){if(null===(s=i.shared.pending))break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===f&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,Pu|=u,e.lanes=u,e.memoizedState=h}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(u(191,i));i.call(r)}}}var fo=(new i.Component).refs;function ho(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=as(),i=us(e),o=ao(r,i);o.payload=t,null!=n&&(o.callback=n),uo(e,o),ss(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=as(),i=us(e),o=ao(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),uo(e,o),ss(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=as(),r=us(e),i=ao(n,r);i.tag=2,null!=t&&(i.callback=t),uo(e,i),ss(e,r,n)}};function vo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&sr(n,r)&&sr(i,o))}function yo(e,t,n){var i=!1,o=si,a=t.contextType;return"object"===r(a)&&null!==a?a=no(a):(o=di(t)?fi:ci.current,a=(i=null!=(i=t.contextTypes))?hi(e,o):si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function go(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function mo(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=fo,io(e);var a=t.contextType;"object"===r(a)&&null!==a?o.context=no(a):(a=di(t)?fi:ci.current,o.context=hi(e,a)),co(e,n,o,i),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ho(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&po.enqueueReplaceState(o,o.state,null),co(e,n,o,i),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!==r(e)){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(u(309));var i=n.stateNode}if(!i)throw Error(u(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===fo&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(u(284));if(!n._owner)throw Error(u(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=js(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=zs(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Us(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qs(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Vs(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=zs(""+t,e.mode,n)).return=e,t;if("object"===r(t)&&null!==t){switch(t.$$typeof){case S:return(n=Us(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case A:return(t=qs(t,e.mode,n)).return=e,t}if(bo(t)||q(t))return(t=Vs(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function p(e,t,n,i){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:c(e,t,""+n,i);if("object"===r(n)&&null!==n){switch(n.$$typeof){case S:return n.key===o?n.type===k?h(e,t,n.props.children,i,o):l(e,t,n,i):null;case A:return n.key===o?f(e,t,n,i):null}if(bo(n)||q(n))return null!==o?null:h(e,t,n,i,null);_o(e,n)}return null}function v(e,t,n,i,o){if("string"==typeof i||"number"==typeof i)return c(t,e=e.get(n)||null,""+i,o);if("object"===r(i)&&null!==i){switch(i.$$typeof){case S:return e=e.get(null===i.key?n:i.key)||null,i.type===k?h(t,e,i.props.children,o,i.key):l(t,e,i,o);case A:return f(t,e=e.get(null===i.key?n:i.key)||null,i,o)}if(bo(i)||q(i))return h(t,e=e.get(n)||null,i,o,null);_o(t,i)}return null}function y(r,o,u,s){for(var c=null,l=null,f=o,h=o=0,y=null;null!==f&&h<u.length;h++){f.index>h?(y=f,f=null):y=f.sibling;var g=p(r,f,u[h],s);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(r,f),o=a(g,o,h),null===l?c=g:l.sibling=g,l=g,f=y}if(h===u.length)return n(r,f),c;if(null===f){for(;h<u.length;h++)null!==(f=d(r,u[h],s))&&(o=a(f,o,h),null===l?c=f:l.sibling=f,l=f);return c}for(f=i(r,f);h<u.length;h++)null!==(y=v(f,r,h,u[h],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),o=a(y,o,h),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(r,e)})),c}function g(r,o,s,c){var l=q(s);if("function"!=typeof l)throw Error(u(150));if(null==(s=l.call(s)))throw Error(u(151));for(var f=l=null,h=o,y=o=0,g=null,m=s.next();null!==h&&!m.done;y++,m=s.next()){h.index>y?(g=h,h=null):g=h.sibling;var b=p(r,h,m.value,c);if(null===b){null===h&&(h=g);break}e&&h&&null===b.alternate&&t(r,h),o=a(b,o,y),null===f?l=b:f.sibling=b,f=b,h=g}if(m.done)return n(r,h),l;if(null===h){for(;!m.done;y++,m=s.next())null!==(m=d(r,m.value,c))&&(o=a(m,o,y),null===f?l=m:f.sibling=m,f=m);return l}for(h=i(r,h);!m.done;y++,m=s.next())null!==(m=v(h,r,y,m.value,c))&&(e&&null!==m.alternate&&h.delete(null===m.key?y:m.key),o=a(m,o,y),null===f?l=m:f.sibling=m,f=m);return e&&h.forEach((function(e){return t(r,e)})),l}return function(e,i,a,c){var l="object"===r(a)&&null!==a&&a.type===k&&null===a.key;l&&(a=a.props.children);var f="object"===r(a)&&null!==a;if(f)switch(a.$$typeof){case S:e:{for(f=a.key,l=i;null!==l;){if(l.key===f){switch(l.tag){case 7:if(a.type===k){n(e,l.sibling),(i=o(l,a.props.children)).return=e,e=i;break e}break;default:if(l.elementType===a.type){n(e,l.sibling),(i=o(l,a.props)).ref=wo(e,l,a),i.return=e,e=i;break e}}n(e,l);break}t(e,l),l=l.sibling}a.type===k?((i=Vs(a.props.children,e.mode,c,a.key)).return=e,e=i):((c=Us(a.type,a.key,a.props,null,e.mode,c)).ref=wo(e,i,a),c.return=e,e=c)}return s(e);case A:e:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),(i=o(i,a.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=qs(a,e.mode,c)).return=e,e=i}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),(i=o(i,a)).return=e,e=i):(n(e,i),(i=zs(a,e.mode,c)).return=e,e=i),s(e);if(bo(a))return y(e,i,a,c);if(q(a))return g(e,i,a,c);if(f&&_o(e,a),void 0===a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(u(152,G(e.type)||"Component"))}return n(e,i)}}var So=Eo(!0),Ao=Eo(!1),ko={},Io=oi(ko),To=oi(ko),xo=oi(ko);function Co(e){if(e===ko)throw Error(u(174));return e}function No(e,t){switch(ui(xo,t),ui(To,e),ui(Io,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(Io),ui(Io,t)}function Do(){ai(Io),ai(To),ai(xo)}function Ro(e){Co(xo.current);var t=Co(Io.current),n=pe(t,e.type);t!==n&&(ui(To,e),ui(Io,n))}function Oo(e){To.current===e&&(ai(Io),ai(To))}var Lo=oi(0);function Po(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Fo=null,jo=!1;function Uo(e,t){var n=Ms(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Bo(e){if(jo){var t=Fo;if(t){var n=t;if(!Vo(e,t)){if(!(t=Kr(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,jo=!1,void(Mo=e);Uo(Mo,n)}Mo=e,Fo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,jo=!1,Mo=e}}function zo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function qo(e){if(e!==Mo)return!1;if(!jo)return zo(e),jo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Fo;t;)Uo(e,t),t=Kr(t.nextSibling);if(zo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Mo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Fo=Mo=null,jo=!1}var Wo=[];function Qo(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var Ho=E.ReactCurrentDispatcher,Go=E.ReactCurrentBatchConfig,$o=0,Yo=null,Xo=null,Jo=null,Zo=!1,ea=!1;function ta(){throw Error(u(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){if($o=o,Yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ho.current=null===e||null===e.memoizedState?Ca:Na,e=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(u(301));o+=1,Jo=Xo=null,t.updateQueue=null,Ho.current=Da,e=n(r,i)}while(ea)}if(Ho.current=xa,t=null!==Xo&&null!==Xo.next,$o=0,Jo=Xo=Yo=null,Zo=!1,t)throw Error(u(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jo?Yo.memoizedState=Jo=e:Jo=Jo.next=e,Jo}function oa(){if(null===Xo){var e=Yo.alternate;e=null!==e?e.memoizedState:null}else e=Xo.next;var t=null===Jo?Yo.memoizedState:Jo.next;if(null!==t)Jo=t,Xo=e;else{if(null===e)throw Error(u(310));e={memoizedState:(Xo=e).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Jo?Yo.memoizedState=Jo=e:Jo=Jo.next=e}return Jo}function aa(e,t){return"function"==typeof t?t(e):t}function ua(e){var t=oa(),n=t.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=e;var r=Xo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,c=i;do{var l=c.lane;if(($o&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(a=s=f,o=r):s=s.next=f,Yo.lanes|=l,Pu|=l}c=c.next}while(null!==c&&c!==i);null===s?o=r:s.next=a,ar(r,t.memoizedState)||(Oa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(Oa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,Wo.push(t))),e)return n(t._source);throw Wo.push(t),Error(u(350))}function la(e,t,n,r){var i=Tu;if(null===i)throw Error(u(349));var o=t._getVersion,a=o(t._source),s=Ho.current,c=s.useState((function(){return ca(i,t,n)})),l=c[1],f=c[0];c=Jo;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Yo;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!ar(a,e)){e=n(t._source),ar(f,e)||(l(e),e=us(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,u=e;0<u;){var s=31-qt(u),c=1<<s;r[s]|=e,u&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=us(y);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(p,n)&&ar(v,t)&&ar(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:f}).dispatch=l=Ta.bind(null,Yo,e),c.queue=e,c.baseQueue=null,f=ca(i,t,n),c.memoizedState=c.baseState=f),f}function fa(e,t,n){return la(oa(),e,t,n)}function ha(e){var t=ia();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e}).dispatch=Ta.bind(null,Yo,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yo.updateQueue)?(t={lastEffect:null},Yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function va(){return oa().memoizedState}function ya(e,t,n,r){var i=ia();Yo.flags|=e,i.memoizedState=da(1|t,n,void 0,void 0===r?null:r)}function ga(e,t,n,r){var i=oa();r=void 0===r?null:r;var o=void 0;if(null!==Xo){var a=Xo.memoizedState;if(o=a.destroy,null!==r&&na(r,a.deps))return void da(t,n,o,r)}Yo.flags|=e,i.memoizedState=da(1|t,n,o,r)}function ma(e,t){return ya(516,4,e,t)}function ba(e,t){return ga(516,4,e,t)}function wa(e,t){return ga(4,2,e,t)}function _a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(e,t,n){return n=null!=n?n.concat([e]):null,ga(4,2,_a.bind(null,t,e),n)}function Sa(){}function Aa(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ka(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ia(e,t){var n=Vi();zi(98>n?98:n,(function(){e(!0)})),zi(97<n?97:n,(function(){var n=Go.transition;Go.transition=1;try{e(!1),t()}finally{Go.transition=n}}))}function Ta(e,t,n){var r=as(),i=us(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Yo||null!==a&&a===Yo)ea=Zo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=a(u,n);if(o.eagerReducer=a,o.eagerState=s,ar(s,u))return}catch(e){}ss(e,i,r)}}var xa={readContext:no,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Ca={readContext:no,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ma,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ya(4,2,_a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ta.bind(null,Yo,e),[r.memoizedState,e]},useRef:pa,useState:ha,useDebugValue:Sa,useDeferredValue:function(e){var t=ha(e),n=t[0],r=t[1];return ma((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=ha(!1),t=e[0];return pa(e=Ia.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},la(r,e,t,n)},useOpaqueIdentifier:function(){if(jo){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(u(355))})),n=ha(t)[1];return 0==(2&Yo.mode)&&(Yo.flags|=516,da(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return ha(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Na={readContext:no,useCallback:Aa,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:ka,useReducer:ua,useRef:va,useState:function(){return ua(aa)},useDebugValue:Sa,useDeferredValue:function(e){var t=ua(aa),n=t[0],r=t[1];return ba((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=ua(aa)[0];return[va().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(aa)[0]},unstable_isNewReconciler:!1},Da={readContext:no,useCallback:Aa,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:ka,useReducer:sa,useRef:va,useState:function(){return sa(aa)},useDebugValue:Sa,useDeferredValue:function(e){var t=sa(aa),n=t[0],r=t[1];return ba((function(){var t=Go.transition;Go.transition=1;try{r(e)}finally{Go.transition=t}}),[e]),n},useTransition:function(){var e=sa(aa)[0];return[va().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return sa(aa)[0]},unstable_isNewReconciler:!1},Ra=E.ReactCurrentOwner,Oa=!1;function La(e,t,n,r){t.child=null===e?Ao(t,null,n,r):So(t,e.child,n,r)}function Pa(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=ra(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,La(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Za(e,t,i))}function Ma(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Fs(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Us(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:sr)(i,r)&&e.ref===t.ref)?Za(e,t,o):(t.flags|=1,(e=js(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){if(null!==e&&sr(e.memoizedProps,r)&&e.ref===t.ref){if(Oa=!1,0==(o&i))return t.lanes=e.lanes,Za(e,t,o);0!=(16384&e.flags)&&(Oa=!0)}return Va(e,t,n,r,o)}function ja(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},ps(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ps(0,e),null;t.memoizedState={baseLanes:0},ps(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ps(0,r);return La(e,t,i,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Va(e,t,n,r,i){var o=di(n)?fi:ci.current;return o=hi(t,o),to(t,i),n=ra(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,La(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Za(e,t,i))}function Ba(e,t,n,i,o){if(di(n)){var a=!0;gi(t)}else a=!1;if(to(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yo(t,n,i),mo(t,n,i,o),i=!0;else if(null===e){var u=t.stateNode,s=t.memoizedProps;u.props=s;var c=u.context,l=n.contextType;l="object"===r(l)&&null!==l?no(l):hi(t,l=di(n)?fi:ci.current);var f=n.getDerivedStateFromProps,h="function"==typeof f||"function"==typeof u.getSnapshotBeforeUpdate;h||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(s!==i||c!==l)&&go(t,u,i,l),ro=!1;var d=t.memoizedState;u.state=d,co(t,i,u,o),c=t.memoizedState,s!==i||d!==c||li.current||ro?("function"==typeof f&&(ho(t,n,f,i),c=t.memoizedState),(s=ro||vo(t,n,s,i,d,c,l))?(h||"function"!=typeof u.UNSAFE_componentWillMount&&"function"!=typeof u.componentWillMount||("function"==typeof u.componentWillMount&&u.componentWillMount(),"function"==typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount()),"function"==typeof u.componentDidMount&&(t.flags|=4)):("function"==typeof u.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=c),u.props=i,u.state=c,u.context=l,i=s):("function"==typeof u.componentDidMount&&(t.flags|=4),i=!1)}else{u=t.stateNode,oo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Hi(t.type,s),u.props=l,h=t.pendingProps,d=u.context,c="object"===r(c=n.contextType)&&null!==c?no(c):hi(t,c=di(n)?fi:ci.current);var p=n.getDerivedStateFromProps;(f="function"==typeof p||"function"==typeof u.getSnapshotBeforeUpdate)||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(s!==h||d!==c)&&go(t,u,i,c),ro=!1,d=t.memoizedState,u.state=d,co(t,i,u,o);var v=t.memoizedState;s!==h||d!==v||li.current||ro?("function"==typeof p&&(ho(t,n,p,i),v=t.memoizedState),(l=ro||vo(t,n,l,i,d,v,c))?(f||"function"!=typeof u.UNSAFE_componentWillUpdate&&"function"!=typeof u.componentWillUpdate||("function"==typeof u.componentWillUpdate&&u.componentWillUpdate(i,v,c),"function"==typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(i,v,c)),"function"==typeof u.componentDidUpdate&&(t.flags|=4),"function"==typeof u.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof u.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof u.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=v),u.props=i,u.state=v,u.context=c,i=l):("function"!=typeof u.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof u.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),i=!1)}return za(e,t,n,i,a,o)}function za(e,t,n,r,i,o){Ua(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&mi(t,n,!1),Za(e,t,o);r=t.stateNode,Ra.current=t;var u=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,u,o)):La(e,t,u,o),t.memoizedState=r.state,i&&mi(t,n,!0),t.child}function qa(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),No(e,t.containerInfo)}var Ka,Wa,Qa,Ha={dehydrated:null,retryLane:0};function Ga(e,t,n){var r,i=t.pendingProps,o=Lo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Lo,1&o),null===e?(void 0!==i.fallback&&Bo(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ha,e):"number"==typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ha,t.lanes=33554432,e):((n=Bs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var u={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=u,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=js(a,u),null!==e?r=js(e,r):(r=Vs(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ha,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=js(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Bs(t,i,0,null),n=Vs(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ya(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Xa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(La(e,t,r.children,n),0!=(2&(r=Lo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n);else if(19===e.tag)Ya(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Lo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Po(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Po(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xa(t,!0,n,null,o,t.lastEffect);break;case"together":Xa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Pu|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(u(153));if(null!==t.child){for(n=js(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=js(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function eu(e,t){if(!jo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(t.type)&&pi(),null;case 3:return Do(),ai(li),ai(ci),Qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Oo(t);var i=Co(xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Wa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(u(166));return null}if(e=Co(Io.current),qo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Gr]=t,r[$r]=a,n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Ir(Er[e],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":te(r,a),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ir("invalid",r);break;case"textarea":ce(r,a),Ir("invalid",r)}for(var s in Ae(n,a),e=null,a)a.hasOwnProperty(s)&&(i=a[s],"children"===s?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):c.hasOwnProperty(s)&&null!=i&&"onScroll"===s&&Ir("scroll",r));switch(n){case"input":X(r),ie(r,a,!0);break;case"textarea":X(r),fe(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(s=9===i.nodeType?i:i.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Gr]=t,e[$r]=r,Ka(e,t),t.stateNode=e,s=ke(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),i=r;break;case"iframe":case"object":case"embed":Ir("load",e),i=r;break;case"video":case"audio":for(i=0;i<Er.length;i++)Ir(Er[i],e);i=r;break;case"source":Ir("error",e),i=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),i=r;break;case"details":Ir("toggle",e),i=r;break;case"input":te(e,r),i=ee(e,r),Ir("invalid",e);break;case"option":i=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=o({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":ce(e,r),i=se(e,r),Ir("invalid",e);break;default:i=r}Ae(n,i);var l=i;for(a in l)if(l.hasOwnProperty(a)){var f=l[a];"style"===a?Ee(e,f):"dangerouslySetInnerHTML"===a?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===a?"string"==typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"==typeof f&&me(e,""+f):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(c.hasOwnProperty(a)?null!=f&&"onScroll"===a&&Ir("scroll",e):null!=f&&_(e,a,f,s))}switch(n){case"input":X(e),ie(e,r,!1);break;case"textarea":X(e),fe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ue(e,!!r.multiple,a,!1):null!=r.defaultValue&&ue(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Mr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qa(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(u(166));n=Co(xo.current),Co(Io.current),qo(t)?(r=t.stateNode,n=t.memoizedProps,r[Gr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=t,t.stateNode=r)}return null;case 13:return ai(Lo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Lo.current)?0===Ru&&(Ru=3):(0!==Ru&&3!==Ru||(Ru=4),null===Tu||0==(134217727&Pu)&&0==(134217727&Mu)||hs(Tu,Cu))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&xr(t.stateNode.containerInfo),null;case 10:return Zi(t),null;case 17:return di(t.type)&&pi(),null;case 19:if(ai(Lo),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(s=r.rendering))if(a)eu(r,!1);else{if(0!==Ru||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(s=Po(e))){for(t.flags|=64,eu(r,!1),null!==(a=s.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Lo,1&Lo.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>Vu&&(t.flags|=64,a=!0,eu(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Po(s))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),eu(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!jo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=64,a=!0,eu(r,!1),t.lanes=33554432);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Lo.current,ui(Lo,a?1&t|2:1&t),n):null;case 23:case 24:return vs(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(u(156,t.tag))}function nu(e){switch(e.tag){case 1:di(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ai(li),ai(ci),Qo(),0!=(64&(t=e.flags)))throw Error(u(285));return e.flags=-4097&t|64,e;case 5:return Oo(e),null;case 13:return ai(Lo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Lo),null;case 4:return Do(),null;case 10:return Zi(e),null;case 23:case 24:return vs(),null;default:return null}}function ru(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function iu(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,Co(Io.current);var u,s=null;switch(n){case"input":a=ee(e,a),i=ee(e,i),s=[];break;case"option":a=ae(e,a),i=ae(e,i),s=[];break;case"select":a=o({},a,{value:void 0}),i=o({},i,{value:void 0}),s=[];break;case"textarea":a=se(e,a),i=se(e,i),s=[];break;default:"function"!=typeof a.onClick&&"function"==typeof i.onClick&&(e.onclick=Mr)}for(h in Ae(n,i),n=null,a)if(!i.hasOwnProperty(h)&&a.hasOwnProperty(h)&&null!=a[h])if("style"===h){var l=a[h];for(u in l)l.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(c.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var f=i[h];if(l=null!=a?a[h]:void 0,i.hasOwnProperty(h)&&f!==l&&(null!=f||null!=l))if("style"===h)if(l){for(u in l)!l.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in f)f.hasOwnProperty(u)&&l[u]!==f[u]&&(n||(n={}),n[u]=f[u])}else n||(s||(s=[]),s.push(h,n)),n=f;else"dangerouslySetInnerHTML"===h?(f=f?f.__html:void 0,l=l?l.__html:void 0,null!=f&&l!==f&&(s=s||[]).push(h,f)):"children"===h?"string"!=typeof f&&"number"!=typeof f||(s=s||[]).push(h,""+f):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(c.hasOwnProperty(h)?(null!=f&&"onScroll"===h&&Ir("scroll",e),s||l===f||(s=[])):"object"===r(f)&&null!==f&&f.$$typeof===M?f.toString():(s=s||[]).push(h,f))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var ou="function"==typeof WeakMap?WeakMap:Map;function au(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Wu=r),iu(0,t)},n}function uu(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return iu(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Qu?Qu=new Set([this]):Qu.add(this),iu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var su="function"==typeof WeakSet?WeakSet:Set;function cu(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Rs(e,t)}else t.current=null}function lu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Hi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(u(163))}function fu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Cs(n,e),xs(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Hi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&lo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}lo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(u(163))}function hu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function du(e,t){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Cs(t,n);else{r=t;try{i()}catch(e){Rs(r,e)}}n=n.next}while(n!==e)}break;case 1:if(cu(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Rs(t,e)}break;case 5:cu(t);break;case 4:bu(e,t)}}function pu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vu(e){return 5===e.tag||3===e.tag||4===e.tag}function yu(e){e:{for(var t=e.return;null!==t;){if(vu(t))break e;t=t.return}throw Error(u(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(u(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?gu(e,n,t):mu(e,n,t)}function gu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(gu(e,t,n),e=e.sibling;null!==e;)gu(e,t,n),e=e.sibling}function mu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(mu(e,t,n),e=e.sibling;null!==e;)mu(e,t,n),e=e.sibling}function bu(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(u(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,s=i,c=s;;)if(du(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,s=i.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(du(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function wu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ne(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?Ee(n,s):"dangerouslySetInnerHTML"===a?ge(n,s):"children"===a?me(n,s):_(n,a,s,t)}switch(e){case"input":re(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ue(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ue(n,!!r.multiple,r.defaultValue,!0):ue(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(u(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Uu=Ui(),hu(t.child,!0)),void _u(t);case 19:return void _u(t);case 17:return;case 23:case 24:return void hu(t,null!==t.memoizedState)}throw Error(u(163))}function _u(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new su),t.forEach((function(t){var r=Ls.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Eu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Su=Math.ceil,Au=E.ReactCurrentDispatcher,ku=E.ReactCurrentOwner,Iu=0,Tu=null,xu=null,Cu=0,Nu=0,Du=oi(0),Ru=0,Ou=null,Lu=0,Pu=0,Mu=0,Fu=0,ju=null,Uu=0,Vu=1/0;function Bu(){Vu=Ui()+500}var zu,qu=null,Ku=!1,Wu=null,Qu=null,Hu=!1,Gu=null,$u=90,Yu=[],Xu=[],Ju=null,Zu=0,es=null,ts=-1,ns=0,rs=0,is=null,os=!1;function as(){return 0!=(48&Iu)?Ui():-1!==ts?ts:ts=Ui()}function us(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Vi()?1:2;if(0===ns&&(ns=Lu),0!==Qi.transition){0!==rs&&(rs=null!==ju?ju.pendingLanes:0),e=ns;var t=4186112&~rs;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Vi(),e=Ut(0!=(4&Iu)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ns)}function ss(e,t,n){if(50<Zu)throw Zu=0,es=null,Error(u(185));if(null===(e=cs(e,t)))return null;zt(e,t,n),e===Tu&&(Mu|=t,4===Ru&&hs(e,Cu));var r=Vi();1===t?0!=(8&Iu)&&0==(48&Iu)?ds(e):(ls(e,n),0===Iu&&(Bu(),Ki())):(0==(4&Iu)||98!==r&&99!==r||(null===Ju?Ju=new Set([e]):Ju.add(e)),ls(e,n)),ju=e}function cs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ls(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-qt(a),c=1<<s,l=o[s];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Mt(c);var f=Pt;o[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);a&=~c}if(r=Ft(e,e===Tu?Cu:0),t=Pt,0===r)null!==n&&(n!==Oi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Oi&&Si(n)}15===t?(n=ds.bind(null,e),null===Pi?(Pi=[n],Mi=Ei(xi,Wi)):Pi.push(n),n=Oi):n=14===t?qi(99,ds.bind(null,e)):qi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(u(358,e))}}(t),fs.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function fs(e){if(ts=-1,rs=ns=0,0!=(48&Iu))throw Error(u(327));var t=e.callbackNode;if(Ts()&&e.callbackNode!==t)return null;var n=Ft(e,e===Tu?Cu:0);if(0===n)return null;var r=n,i=Iu;Iu|=16;var o=ms();for(Tu===e&&Cu===r||(Bu(),ys(e,r));;)try{_s();break}catch(t){gs(e,t)}if(Ji(),Au.current=o,Iu=i,null!==xu?r=0:(Tu=null,Cu=0,r=Ru),0!=(Lu&Mu))ys(e,0);else if(0!==r){if(2===r&&(Iu|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=jt(e))&&(r=bs(e,n))),1===r)throw t=Ou,ys(e,0),hs(e,n),ls(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(u(345));case 2:As(e);break;case 3:if(hs(e,n),(62914560&n)===n&&10<(r=Uu+500-Ui())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){as(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Br(As.bind(null,e),r);break}As(e);break;case 4:if(hs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-qt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Su(n/1960))-n)){e.timeoutHandle=Br(As.bind(null,e),n);break}As(e);break;case 5:As(e);break;default:throw Error(u(329))}}return ls(e,Ui()),e.callbackNode===t?fs.bind(null,e):null}function hs(e,t){for(t&=~Fu,t&=~Mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function ds(e){if(0!=(48&Iu))throw Error(u(327));if(Ts(),e===Tu&&0!=(e.expiredLanes&Cu)){var t=Cu,n=bs(e,t);0!=(Lu&Mu)&&(n=bs(e,t=Ft(e,t)))}else n=bs(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Iu|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=jt(e))&&(n=bs(e,t))),1===n)throw n=Ou,ys(e,0),hs(e,t),ls(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,As(e),ls(e,Ui()),null}function ps(e,t){ui(Du,Nu),Nu|=t,Lu|=t}function vs(){Nu=Du.current,ai(Du)}function ys(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,zr(n)),null!==xu)for(n=xu.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Do(),ai(li),ai(ci),Qo();break;case 5:Oo(r);break;case 4:Do();break;case 13:case 19:ai(Lo);break;case 10:Zi(r);break;case 23:case 24:vs()}n=n.return}Tu=e,xu=js(e.current,null),Cu=Nu=Lu=t,Ru=0,Ou=null,Fu=Mu=Pu=0}function gs(e,t){for(;;){var n=xu;try{if(Ji(),Ho.current=xa,Zo){for(var i=Yo.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}Zo=!1}if($o=0,Jo=Xo=Yo=null,ea=!1,ku.current=null,null===n||null===n.return){Ru=1,Ou=t,xu=null;break}e:{var a=e,u=n.return,s=n,c=t;if(t=Cu,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"===r(c)&&"function"==typeof c.then){var l=c;if(0==(2&s.mode)){var f=s.alternate;f?(s.updateQueue=f.updateQueue,s.memoizedState=f.memoizedState,s.lanes=f.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Lo.current),d=u;do{var p;if(p=13===d.tag){var v=d.memoizedState;if(null!==v)p=null!==v.dehydrated;else{var y=d.memoizedProps;p=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!h)}}if(p){var g=d.updateQueue;if(null===g){var m=new Set;m.add(l),d.updateQueue=m}else g.add(l);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var b=ao(-1,1);b.tag=2,uo(s,b)}s.lanes|=1;break e}c=void 0,s=t;var w=a.pingCache;if(null===w?(w=a.pingCache=new ou,c=new Set,w.set(l,c)):void 0===(c=w.get(l))&&(c=new Set,w.set(l,c)),!c.has(s)){c.add(s);var _=Os.bind(null,a,l,s);l.then(_,_)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);c=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ru&&(Ru=2),c=ru(c,s),d=u;do{switch(d.tag){case 3:a=c,d.flags|=4096,t&=-t,d.lanes|=t,so(d,au(0,a,t));break e;case 1:a=c;var E=d.type,S=d.stateNode;if(0==(64&d.flags)&&("function"==typeof E.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Qu||!Qu.has(S)))){d.flags|=4096,t&=-t,d.lanes|=t,so(d,uu(d,a,t));break e}}d=d.return}while(null!==d)}Ss(n)}catch(e){t=e,xu===n&&null!==n&&(xu=n=n.return);continue}break}}function ms(){var e=Au.current;return Au.current=xa,null===e?xa:e}function bs(e,t){var n=Iu;Iu|=16;var r=ms();for(Tu===e&&Cu===t||ys(e,t);;)try{ws();break}catch(t){gs(e,t)}if(Ji(),Iu=n,Au.current=r,null!==xu)throw Error(u(261));return Tu=null,Cu=0,Ru}function ws(){for(;null!==xu;)Es(xu)}function _s(){for(;null!==xu&&!Ai();)Es(xu)}function Es(e){var t=zu(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?Ss(e):xu=t,ku.current=null}function Ss(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=tu(n,t,Nu)))return void(xu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Nu)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=nu(t)))return n.flags&=2047,void(xu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(xu=t);xu=t=e}while(null!==t);0===Ru&&(Ru=5)}function As(e){var t=Vi();return zi(99,ks.bind(null,e,t)),null}function ks(e,t){do{Ts()}while(null!==Gu);if(0!=(48&Iu))throw Error(u(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(u(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var c=31-qt(o),l=1<<c;i[c]=0,a[c]=-1,s[c]=-1,o&=~l}if(null!==Ju&&0==(24&r)&&Ju.has(e)&&Ju.delete(e),e===Tu&&(xu=Tu=null,Cu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Iu,Iu|=32,ku.current=null,Fr=Gt,dr(a=hr())){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(e){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=a,g=null;t:for(;;){for(var m;y!==s||0!==o&&3!==y.nodeType||(h=f+o),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(m=y.firstChild);)g=y,y=m;for(;;){if(y===a)break t;if(g===s&&++p===o&&(h=f),g===c&&++v===l&&(d=f),null!==(m=y.nextSibling))break;g=(y=g).parentNode}y=m}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;jr={focusedElem:a,selectionRange:s},Gt=!1,is=null,os=!1,qu=r;do{try{Is()}catch(e){if(null===qu)throw Error(u(330));Rs(qu,e),qu=qu.nextEffect}}while(null!==qu);is=null,qu=r;do{try{for(a=e;null!==qu;){var b=qu.flags;if(16&b&&me(qu.stateNode,""),128&b){var w=qu.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:yu(qu),qu.flags&=-3;break;case 6:yu(qu),qu.flags&=-3,wu(qu.alternate,qu);break;case 1024:qu.flags&=-1025;break;case 1028:qu.flags&=-1025,wu(qu.alternate,qu);break;case 4:wu(qu.alternate,qu);break;case 8:bu(a,s=qu);var E=s.alternate;pu(s),null!==E&&pu(E)}qu=qu.nextEffect}}catch(e){if(null===qu)throw Error(u(330));Rs(qu,e),qu=qu.nextEffect}}while(null!==qu);if(_=jr,w=hr(),b=_.focusedElem,a=_.selectionRange,w!==b&&b&&b.ownerDocument&&fr(b.ownerDocument.documentElement,b)){null!==a&&dr(b)&&(w=a.start,void 0===(_=a.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),s=b.textContent.length,E=Math.min(a.start,s),a=void 0===a.end?E:Math.min(a.end,s),!_.extend&&E>a&&(s=a,a=E,E=s),s=lr(b,E),o=lr(b,a),s&&o&&(1!==_.rangeCount||_.anchorNode!==s.node||_.anchorOffset!==s.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(s.node,s.offset),_.removeAllRanges(),E>a?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Gt=!!Fr,jr=Fr=null,e.current=n,qu=r;do{try{for(b=e;null!==qu;){var S=qu.flags;if(36&S&&fu(b,qu.alternate,qu),128&S){w=void 0;var A=qu.ref;if(null!==A){var k=qu.stateNode;switch(qu.tag){case 5:w=k;break;default:w=k}"function"==typeof A?A(w):A.current=w}}qu=qu.nextEffect}}catch(e){if(null===qu)throw Error(u(330));Rs(qu,e),qu=qu.nextEffect}}while(null!==qu);qu=null,Li(),Iu=i}else e.current=n;if(Hu)Hu=!1,Gu=e,$u=t;else for(qu=r;null!==qu;)t=qu.nextEffect,qu.nextEffect=null,8&qu.flags&&((S=qu).sibling=null,S.stateNode=null),qu=t;if(0===(r=e.pendingLanes)&&(Qu=null),1===r?e===es?Zu++:(Zu=0,es=e):Zu=0,n=n.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64==(64&n.current.flags))}catch(e){}if(ls(e,Ui()),Ku)throw Ku=!1,e=Wu,Wu=null,e;return 0!=(8&Iu)||Ki(),null}function Is(){for(;null!==qu;){var e=qu.alternate;os||null===is||(0!=(8&qu.flags)?Ze(qu,is)&&(os=!0):13===qu.tag&&Eu(e,qu)&&Ze(qu,is)&&(os=!0));var t=qu.flags;0!=(256&t)&&lu(e,qu),0==(512&t)||Hu||(Hu=!0,qi(97,(function(){return Ts(),null}))),qu=qu.nextEffect}}function Ts(){if(90!==$u){var e=97<$u?97:$u;return $u=90,zi(e,Ns)}return!1}function xs(e,t){Yu.push(t,e),Hu||(Hu=!0,qi(97,(function(){return Ts(),null})))}function Cs(e,t){Xu.push(t,e),Hu||(Hu=!0,qi(97,(function(){return Ts(),null})))}function Ns(){if(null===Gu)return!1;var e=Gu;if(Gu=null,0!=(48&Iu))throw Error(u(331));var t=Iu;Iu|=32;var n=Xu;Xu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(u(330));Rs(o,e)}}for(n=Yu,Yu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(e){if(null===o)throw Error(u(330));Rs(o,e)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Iu=t,Ki(),!0}function Ds(e,t,n){uo(e,t=au(0,t=ru(n,t),1)),t=as(),null!==(e=cs(e,1))&&(zt(e,1,t),ls(e,t))}function Rs(e,t){if(3===e.tag)Ds(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ds(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Qu||!Qu.has(r))){var i=uu(n,e=ru(t,e),1);if(uo(n,i),i=as(),null!==(n=cs(n,1)))zt(n,1,i),ls(n,i);else if("function"==typeof r.componentDidCatch&&(null===Qu||!Qu.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Os(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=as(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(Cu&n)===n&&(4===Ru||3===Ru&&(62914560&Cu)===Cu&&500>Ui()-Uu?ys(e,0):Fu|=n),ls(e,t)}function Ls(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Vi()?1:2:(0===ns&&(ns=Lu),0===(t=Vt(62914560&~ns))&&(t=4194304))),n=as(),null!==(e=cs(e,t))&&(zt(e,t,n),ls(e,n))}function Ps(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(e,t,n,r){return new Ps(e,t,n,r)}function Fs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function js(e,t){var n=e.alternate;return null===n?((n=Ms(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Us(e,t,n,i,o,a){var s=2;if(i=e,"function"==typeof e)Fs(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case k:return Vs(n.children,o,a,t);case F:s=8,o|=16;break;case I:s=8,o|=1;break;case T:return(e=Ms(12,n,t,8|o)).elementType=T,e.type=T,e.lanes=a,e;case D:return(e=Ms(13,n,t,o)).type=D,e.elementType=D,e.lanes=a,e;case R:return(e=Ms(19,n,t,o)).elementType=R,e.lanes=a,e;case j:return Bs(n,o,a,t);case U:return(e=Ms(24,n,t,o)).elementType=U,e.lanes=a,e;default:if("object"===r(e)&&null!==e)switch(e.$$typeof){case x:s=10;break e;case C:s=9;break e;case N:s=11;break e;case O:s=14;break e;case L:s=16,i=null;break e;case P:s=22;break e}throw Error(u(130,null==e?e:r(e),""))}return(t=Ms(s,n,t,o)).elementType=e,t.type=i,t.lanes=a,t}function Vs(e,t,n,r){return(e=Ms(7,e,r,t)).lanes=n,e}function Bs(e,t,n,r){return(e=Ms(23,e,r,t)).elementType=j,e.lanes=n,e}function zs(e,t,n){return(e=Ms(6,e,null,t)).lanes=n,e}function qs(e,t,n){return(t=Ms(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ks(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Ws(e,t,n,r){var i=t.current,o=as(),a=us(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(u(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(di(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(u(171))}if(1===n.tag){var c=n.type;if(di(c)){n=yi(n,c,s);break e}}n=s}else n=si;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),ss(i,a,o),a}function Qs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Hs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gs(e,t){Hs(e,t),(e=e.alternate)&&Hs(e,t)}function $s(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ks(e,t,null!=n&&!0===n.hydrate),t=Ms(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Yr]=n.current,xr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Ys(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var u=i;i=function(){var e=Qs(a);u.call(e)}}Ws(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new $s(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var s=i;i=function(){var e=Qs(a);s.call(e)}}!function(e,t){var n=Iu;Iu&=-2,Iu|=8;try{e(t)}finally{0===(Iu=n)&&(Bu(),Ki())}}((function(){Ws(t,a,e,i)}))}return Qs(a)}zu=function(e,t,n){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||li.current)Oa=!0;else{if(0==(n&i)){switch(Oa=!1,t.tag){case 3:qa(t),Ko();break;case 5:Ro(t);break;case 1:di(t.type)&&gi(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var o=t.type._context;ui(Gi,o._currentValue),o._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ga(e,t,n):(ui(Lo,1&Lo.current),null!==(t=Za(e,t,n))?t.sibling:null);ui(Lo,1&Lo.current);break;case 19:if(i=0!=(n&t.childLanes),0!=(64&e.flags)){if(i)return Ja(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),ui(Lo,Lo.current),i)break;return null;case 23:case 24:return t.lanes=0,ja(e,t,n)}return Za(e,t,n)}Oa=0!=(16384&e.flags)}else Oa=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=hi(t,ci.current),to(t,n),o=ra(null,t,i,e,o,n),t.flags|=1,"object"===r(o)&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(i)){var a=!0;gi(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,io(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&ho(t,i,s,e),o.updater=po,t.stateNode=o,o._reactInternals=t,mo(t,i,e,n),t=za(null,t,i,!0,a,n)}else t.tag=0,La(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(a=o._init)(o._payload),t.type=o,a=t.tag=function(e){if("function"==typeof e)return Fs(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(o),e=Hi(o,e),a){case 0:t=Va(null,t,o,e,n);break e;case 1:t=Ba(null,t,o,e,n);break e;case 11:t=Pa(null,t,o,e,n);break e;case 14:t=Ma(null,t,o,Hi(o.type,e),i,n);break e}throw Error(u(306,o,""))}return t;case 0:return i=t.type,o=t.pendingProps,Va(e,t,i,o=t.elementType===i?o:Hi(i,o),n);case 1:return i=t.type,o=t.pendingProps,Ba(e,t,i,o=t.elementType===i?o:Hi(i,o),n);case 3:if(qa(t),i=t.updateQueue,null===e||null===i)throw Error(u(282));if(i=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,oo(e,t),co(t,i,null,n),(i=t.memoizedState.element)===o)Ko(),t=Za(e,t,n);else{if((a=(o=t.stateNode).hydrate)&&(Fo=Kr(t.stateNode.containerInfo.firstChild),Mo=t,a=jo=!0),a){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(a=e[o])._workInProgressVersionPrimary=e[o+1],Wo.push(a);for(n=Ao(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else La(e,t,i,n),Ko();t=t.child}return t;case 5:return Ro(t),null===e&&Bo(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,Vr(i,o)?s=null:null!==a&&Vr(i,a)&&(t.flags|=16),Ua(e,t),La(e,t,s,n),t.child;case 6:return null===e&&Bo(t),null;case 13:return Ga(e,t,n);case 4:return No(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=So(t,null,i,n):La(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,Pa(e,t,i,o=t.elementType===i?o:Hi(i,o),n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value;var c=t.type._context;if(ui(Gi,c._currentValue),c._currentValue=a,null!==s)if(c=s.value,0==(a=ar(c,a)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(c,a):1073741823))){if(s.children===o.children&&!li.current){t=Za(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var f=l.firstContext;null!==f;){if(f.context===i&&0!=(f.observedBits&a)){1===c.tag&&((f=ao(-1,n&-n)).tag=2,uo(c,f)),c.lanes|=n,null!==(f=c.alternate)&&(f.lanes|=n),eo(c.return,n),l.lanes|=n;break}f=f.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}La(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=(a=t.pendingProps).children,to(t,n),i=i(o=no(o,a.unstable_observedBits)),t.flags|=1,La(e,t,i,n),t.child;case 14:return a=Hi(o=t.type,t.pendingProps),Ma(e,t,o,a=Hi(o.type,a),i,n);case 15:return Fa(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Hi(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,di(i)?(e=!0,gi(t)):e=!1,to(t,n),yo(t,i,o),mo(t,i,o,n),za(null,t,i,!0,e,n);case 19:return Ja(e,t,n);case 23:case 24:return ja(e,t,n)}throw Error(u(156,t.tag))},$s.prototype.render=function(e){Ws(e,this._internalRoot,null,null)},$s.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ws(null,e,null,(function(){t[Yr]=null}))},et=function(e){13===e.tag&&(ss(e,4,as()),Gs(e,4))},tt=function(e){13===e.tag&&(ss(e,67108864,as()),Gs(e,67108864))},nt=function(e){if(13===e.tag){var t=as(),n=us(e);ss(e,n,t),Gs(e,n)}},rt=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(re(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(u(90));J(r),re(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ue(e,!!n.multiple,t,!1)}},Oe=function(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Bu(),Ki())}},Le=function(e,t,n,r,i){var o=Iu;Iu|=4;try{return zi(98,e.bind(null,t,n,r,i))}finally{0===(Iu=o)&&(Bu(),Ki())}},Pe=function(){0==(49&Iu)&&(function(){if(null!==Ju){var e=Ju;Ju=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ls(e,Ui())}))}Ki()}(),Ts())},Me=function(e,t){var n=Iu;Iu|=2;try{return e(t)}finally{0===(Iu=n)&&(Bu(),Ki())}};var Js={findFiberByHostInstance:Jr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Zs={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=function(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{bi=ec.inject(Zs),wi=ec}catch(ye){}}t.render=function(e,t,n){if(!Ys(t))throw Error(u(200));return Xs(null,e,t,!1,n)}},202:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(534)},488:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(535),o=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var u=60109,s=60110,c=60112;t.Suspense=60113;var l=60115,f=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;o=h("react.element"),a=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),u=h("react.provider"),s=h("react.context"),c=h("react.forward_ref"),t.Suspense=h("react.suspense"),l=h("react.memo"),f=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}function m(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==r(e)&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var w=b.prototype=new m;w.constructor=b,i(w,g.prototype),w.isPureReactComponent=!0;var _={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,i={},a=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:o,type:e,key:a,ref:u,props:i,_owner:_.current}}function k(e){return"object"===r(e)&&null!==e&&e.$$typeof===o}var I=/\/+/g;function T(e,t){return"object"===r(e)&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,i,u){var s=r(e);"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case o:case a:c=!0}}if(c)return u=u(c=e),e=""===i?"."+T(c,0):i,Array.isArray(u)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),x(u,t,n,"",(function(e){return e}))):null!=u&&(k(u)&&(u=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(u,n+(!u.key||c&&c.key===u.key?"":(""+u.key).replace(I,"$&/")+"/")+e)),t.push(u)),1;if(c=0,i=""===i?".":i+":",Array.isArray(e))for(var l=0;l<e.length;l++){var f=i+T(s=e[l],l);c+=x(s,t,n,f,u)}else if("function"==typeof(f=function(e){return null===e||"object"!==r(e)?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=f.call(e),l=0;!(s=e.next()).done;)c+=x(s=s.value,t,n,f=i+T(s,l++),u);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function C(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var D={current:null};function R(){var e=D.current;if(null===e)throw Error(p(321));return e}var O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(p(143));return e}},t.Component=g,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var r=i({},e.props),a=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!S.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];r.children=c}return{$$typeof:o,type:e.type,key:a,ref:u,props:r,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},684:(e,t,n)=>{"use strict";e.exports=n(488)},236:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw o;return D()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=I(a,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=f(e,t,n);if("normal"===s.type){if(r=n.done?v:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=v,n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};c(w,a,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(N([])));E&&E!==n&&i.call(E,a)&&(w=E);var S=b.prototype=g.prototype=Object.create(w);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,a,u,s){var c=f(e[o],e,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"===r(h)&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(h).then((function(e){l.value=e,u(l)}),(function(e){return n("throw",e,u,s)}))}s(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=f(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:D}}function D(){return{value:t,done:!0}}return m.prototype=b,c(S,"constructor",b),c(b,"constructor",m),m.displayName=c(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},A(k.prototype),c(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),c(S,s,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}("object"===r(e=n.nmd(e))?e.exports:{});try{regeneratorRuntime=i}catch(e){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},977:(e,t)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,i,o,a;if("object"===("undefined"==typeof performance?"undefined":n(performance))&&"function"==typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,f=null,h=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(t){throw setTimeout(e,0),t}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(h,0))},i=function(e,t){f=setTimeout(e,t)},o=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,g=null,m=-1,b=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,E=_.port2;_.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+b;try{g(!0,e)?E.postMessage(null):(y=!1,g=null)}catch(e){throw E.postMessage(null),e}}else y=!1},r=function(e){g=e,y||(y=!0,E.postMessage(null))},i=function(e,n){m=d((function(){e(t.unstable_now())}),n)},o=function(){p(m),m=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function A(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],u=o+1,s=e[u];if(void 0!==a&&0>I(a,n))void 0!==s&&0>I(s,a)?(e[r]=s,e[u]=n,r=u):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],x=[],C=1,N=null,D=3,R=!1,O=!1,L=!1;function P(e){for(var t=A(x);null!==t;){if(null===t.callback)k(x);else{if(!(t.startTime<=e))break;k(x),t.sortIndex=t.expirationTime,S(T,t)}t=A(x)}}function M(e){if(L=!1,P(e),!O)if(null!==A(T))O=!0,r(F);else{var t=A(x);null!==t&&i(M,t.startTime-e)}}function F(e,n){O=!1,L&&(L=!1,o()),R=!0;var r=D;try{for(P(n),N=A(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"==typeof a){N.callback=null,D=N.priorityLevel;var u=a(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?N.callback=u:N===A(T)&&k(T),P(n)}else k(T);N=A(T)}if(null!==N)var s=!0;else{var c=A(x);null!==c&&i(M,c.startTime-n),s=!1}return s}finally{N=null,D=r,R=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,r(F))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return A(T)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,a,u){var s=t.unstable_now();switch(u="object"===n(u)&&null!==u&&"number"==typeof(u=u.delay)&&0<u?s+u:s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:u,expirationTime:c=u+c,sortIndex:-1},u>s?(e.sortIndex=u,S(x,e),null===A(T)&&e===A(x)&&(L?o():L=!0,i(M,u-s))):(e.sortIndex=c,S(T,e),O||R||(O=!0,r(F))),e},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},756:(e,t,n)=>{"use strict";e.exports=n(977)},935:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(266),i=n.n(r),o=n(788),a=n.n(o)()(i());a.push([e.id,"html,\nbody,\n#root,\n.wrapper {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #ddd;\n}\n#root {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.modal-wrapper {\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 2;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n.modal-wrapper.hidden {\n  display: none;\n}\n.modal-wrapper .modal-container {\n  width: 500px;\n  height: 300px;\n  background-color: white;\n}\n.modal-wrapper .modal-container * {\n  margin: 5px;\n}\n.modal-wrapper .modal-container input {\n  width: 250px;\n}\n.wrapper {\n  height: 100%;\n  width: 100%;\n  background-color: white;\n  z-index: 0;\n}\n.container {\n  min-width: 70px;\n  width: auto;\n  height: 90vh;\n  display: grid;\n  grid-template-columns: 1fr 2fr 1fr;\n}\n.container .notification-wrapper {\n  position: fixed;\n  bottom: 10px;\n  left: 10px;\n  height: 250px;\n  width: 400px;\n  background-color: white;\n  z-index: 2;\n  text-align: center;\n}\n.container .notification-wrapper .notification-buttons-container > button {\n  display: inline;\n}\n.container .notification-wrapper .notification-buttons-container > button#acceptButton {\n  background-color: green;\n}\n.container .notification-wrapper .notification-buttons-container > button#declineButton {\n  background-color: red;\n}\n.container .videos-wrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.container .videos-wrapper * {\n  margin: 10px;\n}\n.container .videos-wrapper video {\n  background-color: black;\n}\n.container .buttons-wrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.container .buttons-wrapper .buttons-container {\n  background-color: #ddd;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 40px 10px;\n}\n.container .buttons-wrapper .buttons-container * {\n  border: solid black 1px;\n  border-radius: 5px;\n  width: 200px;\n  height: 30px;\n  padding: 0;\n  margin: 5px 0px;\n}\n.container .buttons-wrapper .buttons-container input {\n  border: solid black 1px;\n}\n","",{version:3,sources:["webpack://./src/style.less"],names:[],mappings:"AAAA;;;;EACI,YAAA;EACA,SAAA;EACA,UAAA;EACA,sBAAA;AAIJ;AADA;EACI,aAAA;EACA,uBAAA;EACA,mBAAA;AAGJ;AAAA;EAMI,YAAA;EACA,WAAA;EAEA,SAAA;EACA,UAAA;EAEA,kBAAA;EAEA,aAAA;EACA,uBAAA;EACA,mBAAA;EAEA,UAAA;EAEA,oCAAA;AARJ;AAVI;EACI,aAAA;AAYR;AAfA;EAwBQ,YAAA;EACA,aAAA;EAEA,uBAAA;AAPR;AApBA;EA8BY,WAAA;AAPZ;AAvBA;EAkCY,YAAA;AARZ;AAaA;EACI,YAAA;EACA,WAAA;EAEA,uBAAA;EAEA,UAAA;AAbJ;AAgBA;EACI,eAAA;EACA,WAAA;EACA,YAAA;EAEA,aAAA;EACA,kCAAA;AAfJ;AASA;EAUQ,eAAA;EACA,YAAA;EACA,UAAA;EAEA,aAAA;EACA,YAAA;EAEA,uBAAA;EAEA,UAAA;EACA,kBAAA;AAnBR;AADA;EAsBY,eAAA;AAlBZ;AAoBY;EACI,uBAAA;AAlBhB;AAqBY;EACI,qBAAA;AAnBhB;AAVA;EAmCQ,aAAA;EACA,sBAAA;EAEA,uBAAA;EACA,mBAAA;AAvBR;AAhBA;EA0CY,YAAA;AAvBZ;AAnBA;EA8CY,uBAAA;AAxBZ;AAtBA;EAmDQ,aAAA;EACA,sBAAA;EAEA,uBAAA;EACA,mBAAA;AA3BR;AA5BA;EA0DY,sBAAA;EAEA,aAAA;EACA,sBAAA;EAEA,uBAAA;EACA,mBAAA;EAEA,kBAAA;AA9BZ;AApCA;EAsEgB,uBAAA;EACA,kBAAA;EAEA,YAAA;EACA,YAAA;EAEA,UAAA;EACA,eAAA;AAjChB;AA5CA;EAiFgB,uBAAA;AAlChB",sourcesContent:["html, body, #root, .wrapper{\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    background-color: #ddd;\n}\n\n#root {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.modal-wrapper {\n\n    &.hidden {\n        display: none;\n    }\n    \n    height: 100%;\n    width: 100%;\n\n    margin: 0;\n    padding: 0;\n\n    position: absolute;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    z-index: 2;\n    \n    background-color: rgba(0,0,0,.5);\n\n    .modal-container{\n\n        width: 500px;\n        height: 300px;\n\n        background-color: white;\n\n        *{\n            margin: 5px;\n        }\n    \n        input {\n            width: 250px;\n        }\n    }\n}\n\n.wrapper {\n    height: 100%;\n    width: 100%;\n\n    background-color: white;\n\n    z-index: 0;\n}\n\n.container {\n    min-width: 70px;\n    width: auto;\n    height: 90vh;\n    \n    display: grid;\n    grid-template-columns: 1fr 2fr 1fr;\n\n    .notification-wrapper {\n        \n        position: fixed;\n        bottom: 10px;\n        left: 10px;\n\n        height: 250px;\n        width: 400px;\n\n        background-color: white;\n\n        z-index: 2;\n        text-align: center;\n        .notification-buttons-container > button{\n            display: inline;\n\n            &#acceptButton{\n                background-color: green;\n            }\n\n            &#declineButton{\n                background-color: red;\n            }\n        }\n    }\n\n    .videos-wrapper {\n        display: flex;\n        flex-direction: column;\n    \n        justify-content: center;\n        align-items: center;\n    \n        * {\n            margin: 10px;\n        }\n    \n        video {\n            background-color: black;\n        }\n    }\n    \n    .buttons-wrapper {\n        display: flex;\n        flex-direction: column;\n\n        justify-content: center;\n        align-items: center;\n\n        .buttons-container {\n            background-color: #ddd;\n        \n            display: flex;\n            flex-direction: column;\n        \n            justify-content: center;\n            align-items: center;\n        \n            padding: 40px 10px;\n\n            *{\n\n                border: solid black 1px;\n                border-radius: 5px;\n            \n                width: 200px;\n                height: 30px;\n            \n                padding: 0;\n                margin: 5px 0px;\n            }\n    \n            input {\n                border: solid black 1px;\n            }\n        }\n    }\n}\n\n\n"],sourceRoot:""}]);const u=a},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],u=0;u<e.length;u++){var s=e[u],c=r.base?s[0]+r.base:s[0],l=o[c]||0,f="".concat(c," ").concat(l);o[c]=l+1;var h=n(f),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(t[h].references++,t[h].updater(d)):t.push({identifier:f,updater:i(d,r),references:1}),a.push(f)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var u=n(o[a]);t[u].references--}for(var s=r(e,i),c=0;c<o.length;c++){var l=n(o[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=s}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=n(379),t=n.n(e),r=n(795),i=n.n(r),o=n(569),a=n.n(o),u=n(565),s=n.n(u),c=n(216),l=n.n(c),f=n(589),h=n.n(f),d=n(935),p={};p.styleTagTransform=h(),p.setAttributes=s(),p.insert=a().bind(null,"head"),p.domAPI=i(),p.insertStyleElement=l(),t()(d.Z,p),d.Z&&d.Z.locals&&d.Z.locals;var v=n(684),y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function b(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function w(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function _(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function E(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function S(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.create,Object.create;var k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,u=a?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=o>>2,f=(3&o)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(u=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==s)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==u){var l=a<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function I(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=I(e[n],t[n]));return e}var T=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function x(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function C(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}var N=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,D.prototype.create),o}return g(t,e),t}(Error),D=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?R(o,r):"Error",u=this.serviceName+": "+a+" ("+i+").",s=new N(i,u,r);return s},e}();function R(e,t){return e.replace(O,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function P(e,t){var n=new M(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,u=this.chain_[0],s=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^s&(c^l),a=1518500249):(o=s^c^l,a=1859775393):r<60?(o=s&c|l&(s|c),a=2400959708):(o=s^c^l,a=3395469782),i=(u<<5|u>>>27)+o+f+a+n[r]&4294967295,f=l,l=c,c=4294967295&(s<<30|s>>>2),s=u,u=i;this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var M=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==A(e)||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=F),void 0===r.error&&(r.error=F),void 0===r.complete&&(r.complete=F);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function F(){}function j(e){return e&&e._delegate?e._delegate:e}var U,V=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),B="[DEFAULT]",z=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new T;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:B})}catch(e){}try{for(var r=_(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=E(i.value,2),a=o[0],u=o[1],s=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:s});u.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=B),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return b(this,void 0,void 0,(function(){var e;return w(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(S(S([],E(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),E(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=B),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var u=_(this.instancesDeferred.entries()),s=u.next();!s.done;s=u.next()){var c=E(s.value,2),l=c[0],f=c[1];o===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=_(i),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===B?void 0:t),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=B),this.component?this.component.multipleInstances?e:B:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),q=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new z(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function K(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}var W,Q=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(W||(W={}));var H,G={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},$=W.INFO,Y=((U={})[W.DEBUG]="log",U[W.VERBOSE]="log",U[W.INFO]="info",U[W.WARN]="warn",U[W.ERROR]="error",U),X=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Y[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,K(["["+i+"]  "+e.name+":"],n))}},J=function(){function e(e){this.name=e,this._logLevel=$,this._logHandler=X,this._userLogHandler=null,Q.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in W))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?G[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,K([this,W.DEBUG],e)),this._logHandler.apply(this,K([this,W.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,K([this,W.VERBOSE],e)),this._logHandler.apply(this,K([this,W.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,K([this,W.INFO],e)),this._logHandler.apply(this,K([this,W.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,K([this,W.WARN],e)),this._logHandler.apply(this,K([this,W.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,K([this,W.ERROR],e)),this._logHandler.apply(this,K([this,W.ERROR],e))},e}();function Z(e){Q.forEach((function(t){t.setLogLevel(e)}))}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var te,ne=((H={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",H["bad-app-name"]="Illegal App name: '{$appName}",H["duplicate-app"]="Firebase App named '{$appName}' already exists",H["app-deleted"]="Firebase App named '{$appName}' already deleted",H["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",H["invalid-log-argument"]="First argument to `onLog` must be null or a function.",H),re=new D("app","Firebase",ne),ie="@firebase/app",oe="[DEFAULT]",ae=((te={})[ie]="fire-core",te["@firebase/analytics"]="fire-analytics",te["@firebase/app-check"]="fire-app-check",te["@firebase/auth"]="fire-auth",te["@firebase/database"]="fire-rtdb",te["@firebase/functions"]="fire-fn",te["@firebase/installations"]="fire-iid",te["@firebase/messaging"]="fire-fcm",te["@firebase/performance"]="fire-perf",te["@firebase/remote-config"]="fire-rc",te["@firebase/storage"]="fire-gcs",te["@firebase/firestore"]="fire-fst",te["fire-js"]="fire-js",te["firebase-wrapper"]="fire-js-all",te),ue=new J("@firebase/app"),se=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=I(void 0,e),this.container=new q(t.name),this._addComponent(new V("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=oe),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=oe),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){ue.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw re.create("app-deleted",{appName:this.name_})},e}();se.prototype.name&&se.prototype.options||se.prototype.delete||console.log("dc");var ce=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===ee(i)&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=oe);var a=o.name;if("string"!=typeof a||!a)throw re.create("bad-app-name",{appName:String(a)});if(L(t,a))throw re.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=ae[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var s=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&s.push("and"),u&&s.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void ue.warn(s.join(" "))}o(new V(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:Z,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw re.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=G[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:W[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=Q;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!L(t,e=e||oe))throw re.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return ue.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw re.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&I(u,o.serviceProps),r[a]=u,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var s=0,c=Object.keys(t);s<c.length;s++){var l=c[s];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(se);return t.INTERNAL=m(m({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){I(t,e)},createSubscribe:P,ErrorFactory:D,deepExtend:I}),t}(),le=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===("undefined"==typeof self?"undefined":A(self))&&self.self===self&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var he=ce.initializeApp;ce.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return C()&&ue.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),he.apply(void 0,e)};var de=ce;!function(e,t){e.INTERNAL.registerComponent(new V("platform-logger",(function(e){return new le(e)}),"PRIVATE")),e.registerVersion(ie,"0.6.29",void 0),e.registerVersion("fire-js","")}(de);const pe=de;var ve="8.9.0";function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}pe.registerVersion("firebase",ve,"app"),pe.SDK_VERSION=ve;var ge=function(e,t){return(ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function me(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var be,we="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},_e=_e||{},Ee=we||self;function Se(){}function Ae(e){var t=ye(e);return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ke(e){var t=ye(e);return"object"==t&&null!=e||"function"==t}var Ie="closure_uid_"+(1e9*Math.random()>>>0),Te=0;function xe(e,t,n){return e.call.apply(e.bind,arguments)}function Ce(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ne(e,t,n){return(Ne=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xe:Ce).apply(null,arguments)}function De(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Re(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Oe(){this.s=this.s,this.o=this.o}var Le={};Oe.prototype.s=!1,Oe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ie)&&e[Ie]||(e[Ie]=++Te)}(this);delete Le[e]}},Oe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Pe=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Me=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Fe(e){return Array.prototype.concat.apply([],arguments)}function je(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ue(e){return/^[\s\xa0]*$/.test(e)}var Ve,Be=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ze(e,t){return-1!=e.indexOf(t)}function qe(e,t){return e<t?-1:e>t?1:0}e:{var Ke=Ee.navigator;if(Ke){var We=Ke.userAgent;if(We){Ve=We;break e}}Ve=""}function Qe(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function He(e){var t={};for(var n in e)t[n]=e[n];return t}var Ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Ge.length;o++)n=Ge[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ye(e){return Ye[" "](e),e}Ye[" "]=Se;var Xe,Je,Ze=ze(Ve,"Opera"),et=ze(Ve,"Trident")||ze(Ve,"MSIE"),tt=ze(Ve,"Edge"),nt=tt||et,rt=ze(Ve,"Gecko")&&!(ze(Ve.toLowerCase(),"webkit")&&!ze(Ve,"Edge"))&&!(ze(Ve,"Trident")||ze(Ve,"MSIE"))&&!ze(Ve,"Edge"),it=ze(Ve.toLowerCase(),"webkit")&&!ze(Ve,"Edge");function ot(){var e=Ee.document;return e?e.documentMode:void 0}e:{var at="",ut=(Je=Ve,rt?/rv:([^\);]+)(\)|;)/.exec(Je):tt?/Edge\/([\d\.]+)/.exec(Je):et?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Je):it?/WebKit\/(\S+)/.exec(Je):Ze?/(?:Version)[ \/]?(\S+)/.exec(Je):void 0);if(ut&&(at=ut?ut[1]:""),et){var st=ot();if(null!=st&&st>parseFloat(at)){Xe=String(st);break e}}Xe=at}var ct,lt={};function ft(){return e=lt,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=Be(String(Xe)).split("."),n=Be("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=qe(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||qe(0==o[2].length,0==a[2].length)||qe(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}();var e}Ee.document&&et?ct=ot()||parseInt(Xe,10)||void 0:ct=void 0;var ht=ct,dt=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ee.addEventListener("test",Se,t),Ee.removeEventListener("test",Se,t)}catch(e){}return e}();function pt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function vt(e,t){if(pt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(rt){e:{try{Ye(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:yt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&vt.Z.h.call(this)}}pt.prototype.h=function(){this.defaultPrevented=!0},Re(vt,pt);var yt={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),mt=0;function bt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++mt,this.ca=this.fa=!1}function wt(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function _t(e){this.src=e,this.g={},this.h=0}function Et(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Pe(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(wt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function St(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}_t.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=St(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new bt(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var At="closure_lm_"+(1e6*Math.random()|0),kt={};function It(e,t,n,r,i){if(r&&r.once)return xt(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)It(e,t[o],n,r,i);return null}return n=Pt(n),e&&e[gt]?e.N(t,n,ke(r)?!!r.capture:!!r,i):Tt(e,t,n,!1,r,i)}function Tt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=ke(i)?!!i.capture:!!i,u=Ot(e);if(u||(e[At]=u=new _t(e)),(n=u.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Rt;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)dt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Dt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xt(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)xt(e,t[o],n,r,i);return null}return n=Pt(n),e&&e[gt]?e.O(t,n,ke(r)?!!r.capture:!!r,i):Tt(e,t,n,!0,r,i)}function Ct(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ct(e,t[o],n,r,i);else r=ke(r)?!!r.capture:!!r,n=Pt(n),e&&e[gt]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=St(o=e.g[t],n,r,i))&&(wt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Ot(e))&&(t=e.g[t.toString()],e=-1,t&&(e=St(t,n,r,i)),(n=-1<e?t[e]:null)&&Nt(n))}function Nt(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[gt])Et(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Dt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ot(t))?(Et(n,e),0==n.h&&(n.src=null,t[At]=null)):wt(e)}}}function Dt(e){return e in kt?kt[e]:kt[e]="on"+e}function Rt(e,t){if(e.ca)e=!0;else{t=new vt(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Nt(e),e=n.call(r,t)}return e}function Ot(e){return(e=e[At])instanceof _t?e:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pt(e){return"function"==typeof e?e:(e[Lt]||(e[Lt]=function(t){return e.handleEvent(t)}),e[Lt])}function Mt(){Oe.call(this),this.i=new _t(this),this.P=this,this.I=null}function Ft(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new pt(t,e);else if(t instanceof pt)t.target=t.target||e;else{var i=t;$e(t=new pt(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=jt(a,r,!0,t)&&i}if(i=jt(a=t.g=e,r,!0,t)&&i,i=jt(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=jt(a=t.g=n[o],r,!1,t)&&i}function jt(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,s=a.ia||a.src;a.fa&&Et(e.i,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Re(Mt,Oe),Mt.prototype[gt]=!0,Mt.prototype.removeEventListener=function(e,t,n,r){Ct(this,e,t,n,r)},Mt.prototype.M=function(){if(Mt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wt(n[r]);delete t.g[e],t.h--}}this.I=null},Mt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Mt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ut=Ee.JSON.stringify;function Vt(){var e=Gt,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Bt,zt=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=qt.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),qt=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Kt}),(function(e){return e.reset()})),Kt=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Wt(e){Ee.setTimeout((function(){throw e}),0)}function Qt(e,t){Bt||function(){var e=Ee.Promise.resolve(void 0);Bt=function(){e.then($t)}}(),Ht||(Bt(),Ht=!0),Gt.add(e,t)}var Ht=!1,Gt=new zt;function $t(){for(var e;e=Vt();){try{e.h.call(e.g)}catch(e){Wt(e)}var t=qt;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ht=!1}function Yt(e,t){Mt.call(this),this.h=e||1,this.g=t||Ee,this.j=Ne(this.kb,this),this.l=Date.now()}function Xt(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Jt(e,t,n){if("function"==typeof e)n&&(e=Ne(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ne(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ee.setTimeout(e,t||0)}function Zt(e){e.g=Jt((function(){e.g=null,e.i&&(e.i=!1,Zt(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Re(Yt,Mt),(be=Yt.prototype).da=!1,be.S=null,be.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ft(this,"tick"),this.da&&(Xt(this),this.start()))}},be.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},be.M=function(){Yt.Z.M.call(this),Xt(this),delete this.g};var en=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ge(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Zt(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Oe);function tn(e){Oe.call(this),this.h=e,this.g={}}Re(tn,Oe);var nn=[];function rn(e,t,n,r){Array.isArray(n)||(n&&(nn[0]=n.toString()),n=nn);for(var i=0;i<n.length;i++){var o=It(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function on(e){Qe(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Nt(e)}),e),e.g={}}function an(){this.g=!0}function un(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ut(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}tn.prototype.M=function(){tn.Z.M.call(this),on(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},an.prototype.Aa=function(){this.g=!1},an.prototype.info=function(){};var sn={},cn=null;function ln(){return cn=cn||new Mt}function fn(e){pt.call(this,sn.Ma,e)}function hn(e){var t=ln();Ft(t,new fn(t,e))}function dn(e,t){pt.call(this,sn.STAT_EVENT,e),this.stat=t}function pn(e){var t=ln();Ft(t,new dn(t,e))}function vn(e,t){pt.call(this,sn.Na,e),this.size=t}function yn(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Ee.setTimeout((function(){e()}),t)}sn.Ma="serverreachability",Re(fn,pt),sn.STAT_EVENT="statevent",Re(dn,pt),sn.Na="timingevent",Re(vn,pt);var gn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bn(){}function wn(e){return e.h||(e.h=e.i())}function _n(){}bn.prototype.h=null;var En,Sn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function An(){pt.call(this,"d")}function kn(){pt.call(this,"c")}function In(){}function Tn(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new tn(this),this.P=Cn,e=nt?125:void 0,this.W=new Yt(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}Re(An,pt),Re(kn,pt),Re(In,bn),In.prototype.g=function(){return new XMLHttpRequest},In.prototype.i=function(){return{}},En=new In;var Cn=45e3,Nn={},Dn={};function Rn(e,t,n){e.K=1,e.v=tr($n(t)),e.s=n,e.U=!0,On(e,null)}function On(e,t){e.F=Date.now(),Fn(e),e.A=$n(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),pr(n.h,"t",r),e.C=0,n=e.l.H,e.h=new xn,e.g=vi(e.l,n?t:null,!e.s),0<e.O&&(e.L=new en(Ne(e.Ia,e,e.g),e.O)),rn(e.V,e.g,"readystatechange",e.gb),t=e.H?He(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),hn(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",u=o.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ln(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Pn(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Mn(e,n))==Dn){4==t&&(e.o=4,pn(14),i=!1),un(e.j,e.m,null,"[Incomplete Response]");break}if(r==Nn){e.o=4,pn(15),un(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}un(e.j,e.m,r,null),zn(e,r)}Ln(e)&&r!=Dn&&r!=Nn&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ui(t),t.L=!0,pn(11))):(un(e.j,e.m,n,"[Invalid Chunked Response]"),Bn(e),Vn(e))}function Mn(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Dn:(n=Number(t.substring(n,r)),isNaN(n)?Nn:(r+=1)+n>t.length?Dn:(t=t.substr(r,n),e.C=r+n,t))}function Fn(e){e.Y=Date.now()+e.P,jn(e,e.P)}function jn(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=yn(Ne(e.eb,e),t)}function Un(e){e.B&&(Ee.clearTimeout(e.B),e.B=null)}function Vn(e){0==e.l.G||e.I||li(e.l,e)}function Bn(e){Un(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Xt(e.W),on(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function zn(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||_r(n.i,e)))if(n.I=e.N,!e.J&&_r(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ci(n),Jr(n)}ai(n),pn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=yn(Ne(n.ab,n),6e3));if(1>=wr(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else hi(n,11)}else if((e.J||n.g==e)&&ci(n),!Ue(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=o[5];null!=s&&"number"==typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(ze(l,"spdy")||ze(l,"quic")||ze(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Er(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,er(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=pi(r,r.H?r.la:null,r.W),d.J){Sr(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Un(p),Fn(p)),r.g=d}else oi(r);0<n.l.length&&ti(n)}else"stop"!=o[0]&&"close"!=o[0]||hi(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?hi(n,7):Xr(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}hn(4)}catch(o){}}function qn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ae(e)||"string"==typeof e)Me(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ae(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Ae(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Kn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Kn)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Wn(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Qn(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Qn(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Qn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(be=Tn.prototype).setTimeout=function(e){this.P=e},be.gb=function(e){e=e.target;var t=this.L;t&&3==Qr(e)?t.l():this.Ia(e)},be.Ia=function(e){try{if(e==this.g)e:{var t=Qr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||nt||this.g&&(this.h.h||this.g.ga()||Hr(this.g)))){this.I||4!=t||7==n||hn(8==n||0>=r?3:2),Un(this);var i=this.g.ba();this.N=i;t:if(Ln(this)){var o=Hr(this.g);e="";var a=o.length,u=4==Qr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Bn(this),Vn(this);var s="";break t}this.h.i=new Ee.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ue(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,pn(12),Bn(this),Vn(this);break e}un(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zn(this,i)}this.U?(Pn(this,t,s),nt&&this.i&&3==t&&(rn(this.V,this.W,"tick",this.fb),this.W.start())):(un(this.j,this.m,s,null),zn(this,s)),4==t&&Bn(this),this.i&&!this.I&&(4==t?li(this.l,this):(this.i=!1,Fn(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,pn(12)):(this.o=0,pn(13)),Bn(this),Vn(this)}}}catch(t){}},be.fb=function(){if(this.g){var e=Qr(this.g),t=this.g.ga();this.C<t.length&&(Un(this),Pn(this,e,t),this.i&&4!=e&&Fn(this))}},be.cancel=function(){this.I=!0,Bn(this)},be.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(hn(3),pn(17)),Bn(this),this.o=2,Vn(this)):jn(this,this.Y-e)},(be=Kn.prototype).R=function(){Wn(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},be.T=function(){return Wn(this),this.g.concat()},be.get=function(e,t){return Qn(this.h,e)?this.h[e]:t},be.set=function(e,t){Qn(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},be.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Hn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Gn(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Gn){this.g=void 0!==t?t:e.g,Yn(this,e.j),this.s=e.s,Xn(this,e.i),Jn(this,e.m),this.l=e.l,t=e.h;var n=new lr;n.i=t.i,t.g&&(n.g=new Kn(t.g),n.h=t.h),Zn(this,n),this.o=e.o}else e&&(n=String(e).match(Hn))?(this.g=!!t,Yn(this,n[1]||"",!0),this.s=nr(n[2]||""),Xn(this,n[3]||"",!0),Jn(this,n[4]),this.l=nr(n[5]||"",!0),Zn(this,n[6]||"",!0),this.o=nr(n[7]||"")):(this.g=!!t,this.h=new lr(null,this.g))}function $n(e){return new Gn(e)}function Yn(e,t,n){e.j=n?nr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xn(e,t,n){e.i=n?nr(t,!0):t}function Jn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zn(e,t,n){t instanceof lr?(e.h=t,function(e,t){t&&!e.j&&(fr(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(hr(this,t),pr(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=rr(t,sr)),e.h=new lr(t,e.g))}function er(e,t,n){e.h.set(t,n)}function tr(e){return er(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rr(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ir),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ir(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Gn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(rr(t,or,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(rr(t,or,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(rr(n,"/"==n.charAt(0)?ur:ar,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",rr(n,cr)),e.join("")};var or=/[#\/\?@]/g,ar=/[#\?:]/g,ur=/[#\?]/g,sr=/[#\?@]/g,cr=/#/g;function lr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fr(e){e.g||(e.g=new Kn,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function hr(e,t){fr(e),t=vr(e,t),Qn(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Qn((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Wn(e)))}function dr(e,t){return fr(e),t=vr(e,t),Qn(e.g.h,t)}function pr(e,t,n){hr(e,t),0<n.length&&(e.i=null,e.g.set(vr(e,t),je(n)),e.h+=n.length)}function vr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(be=lr.prototype).add=function(e,t){fr(this),this.i=null,e=vr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},be.forEach=function(e,t){fr(this),this.g.forEach((function(n,r){Me(n,(function(n){e.call(t,n,r,this)}),this)}),this)},be.T=function(){fr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},be.R=function(e){fr(this);var t=[];if("string"==typeof e)dr(this,e)&&(t=Fe(t,this.g.get(vr(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Fe(t,e[n])}return t},be.set=function(e,t){return fr(this),this.i=null,dr(this,e=vr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},be.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},be.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var yr=function(e,t){this.h=e,this.g=t};function gr(e){this.l=e||mr,e=Ee.PerformanceNavigationTiming?0<(e=Ee.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Ee.g&&Ee.g.Ea&&Ee.g.Ea()&&Ee.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mr=10;function br(e){return!!e.h||!!e.g&&e.g.size>=e.j}function wr(e){return e.h?1:e.g?e.g.size:0}function _r(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Er(e,t){e.g?e.g.add(t):e.h=t}function Sr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ar(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=me(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return je(e.i)}function kr(){}function Ir(){this.g=new kr}function Tr(e,t,n){var r=n||"";try{qn(e,(function(e,n){var i=e;ke(e)&&(i=Ut(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function xr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Cr(e){this.l=e.$b||null,this.j=e.ib||!1}function Nr(e,t){Mt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Dr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gr.prototype.cancel=function(){var e,t;if(this.i=Ar(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=me(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},kr.prototype.stringify=function(e){return Ee.JSON.stringify(e,void 0)},kr.prototype.parse=function(e){return Ee.JSON.parse(e,void 0)},Re(Cr,bn),Cr.prototype.g=function(){return new Nr(this.l,this.j)},Cr.prototype.i=function(e){return function(){return e}}({}),Re(Nr,Mt);var Dr=0;function Rr(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Or(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Lr(e)}function Lr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(be=Nr.prototype).open=function(e,t){if(this.readyState!=Dr)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Lr(this)},be.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ee).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Or(this)),this.readyState=Dr},be.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ee.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rr(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},be.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Or(this):Lr(this),3==this.readyState&&Rr(this)}},be.Ua=function(e){this.g&&(this.response=this.responseText=e,Or(this))},be.Ta=function(e){this.g&&(this.response=e,Or(this))},be.ha=function(){this.g&&Or(this)},be.setRequestHeader=function(e,t){this.v.append(e,t)},be.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},be.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Pr=Ee.JSON.parse;function Mr(e){Mt.call(this),this.headers=new Kn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fr,this.K=this.L=!1}Re(Mr,Mt);var Fr="",jr=/^https?$/i,Ur=["POST","PUT"];function Vr(e){return"content-type"==e.toLowerCase()}function Br(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zr(e),Kr(e)}function zr(e){e.D||(e.D=!0,Ft(e,"complete"),Ft(e,"error"))}function qr(e){if(e.h&&void 0!==_e&&(!e.C[1]||4!=Qr(e)||2!=e.ba()))if(e.v&&4==Qr(e))Jt(e.Fa,0,e);else if(Ft(e,"readystatechange"),4==Qr(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Hn)[1]||null;if(!o&&Ee.self&&Ee.self.location){var a=Ee.self.location.protocol;o=a.substr(0,a.length-1)}i=!jr.test(o?o.toLowerCase():"")}t=i}if(t)Ft(e,"complete"),Ft(e,"success");else{e.m=6;try{var u=2<Qr(e)?e.g.statusText:""}catch(e){u=""}e.j=u+" ["+e.ba()+"]",zr(e)}}finally{Kr(e)}}}function Kr(e,t){if(e.g){Wr(e);var n=e.g,r=e.C[0]?Se:null;e.g=null,e.C=null,t||Ft(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Wr(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ee.clearTimeout(e.A),e.A=null)}function Qr(e){return e.g?e.g.readyState:0}function Hr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Fr:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Gr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Qe(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):er(e,t,n))}function $r(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yr(e){this.za=0,this.l=[],this.h=new an,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$r("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$r("baseRetryDelayMs",5e3,e),this.$a=$r("retryDelaySeedMs",1e4,e),this.Ya=$r("forwardChannelMaxRetries",2,e),this.ra=$r("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new gr(e&&e.concurrentRequestLimit),this.Ca=new Ir,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Xr(e){if(Zr(e),3==e.G){var t=e.V++,n=$n(e.F);er(n,"SID",e.J),er(n,"RID",t),er(n,"TYPE","terminate"),ri(e,n),(t=new Tn(e,e.h,t,void 0)).K=2,t.v=tr($n(n)),n=!1,Ee.navigator&&Ee.navigator.sendBeacon&&(n=Ee.navigator.sendBeacon(t.v.toString(),"")),!n&&Ee.Image&&((new Image).src=t.v,n=!0),n||(t.g=vi(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Fn(t)}di(e)}function Jr(e){e.g&&(ui(e),e.g.cancel(),e.g=null)}function Zr(e){Jr(e),e.u&&(Ee.clearTimeout(e.u),e.u=null),ci(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Ee.clearTimeout(e.m),e.m=null)}function ei(e,t){e.l.push(new yr(e.Za++,t)),3==e.G&&ti(e)}function ti(e){br(e.i)||e.m||(e.m=!0,Qt(e.Ha,e),e.C=0)}function ni(e,t){var n;n=t?t.m:e.V++;var r=$n(e.F);er(r,"SID",e.J),er(r,"RID",n),er(r,"AID",e.U),ri(e,r),e.o&&e.s&&Gr(r,e.o,e.s),n=new Tn(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ii(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Er(e.i,n),Rn(n,r,t)}function ri(e,t){e.j&&qn({},(function(e,n){er(t,n,e)}))}function ii(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ne(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=o))o=Math.max(0,i[s].h-100),u=!1;else try{Tr(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(u){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function oi(e){e.g||e.u||(e.Y=1,Qt(e.Ga,e),e.A=0)}function ai(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=yn(Ne(e.Ga,e),fi(e,e.A)),e.A++,0))}function ui(e){null!=e.B&&(Ee.clearTimeout(e.B),e.B=null)}function si(e){e.g=new Tn(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=$n(e.oa);er(t,"RID","rpc"),er(t,"SID",e.J),er(t,"CI",e.N?"0":"1"),er(t,"AID",e.U),ri(e,t),er(t,"TYPE","xmlhttp"),e.o&&e.s&&Gr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tr($n(t)),n.s=null,n.U=!0,On(n,e)}function ci(e){null!=e.v&&(Ee.clearTimeout(e.v),e.v=null)}function li(e,t){var n=null;if(e.g==t){ci(e),ui(e),e.g=null;var r=2}else{if(!_r(e.i,t))return;n=t.D,Sr(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ft(r=ln(),new vn(r,n,t,i)),ti(e)}else oi(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(wr(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=yn(Ne(e.Ha,e,t),fi(e,e.C)),e.C++,0)))}(e,t)||2==r&&ai(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:hi(e,5);break;case 4:hi(e,10);break;case 3:hi(e,6);break;default:hi(e,2)}}function fi(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function hi(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ne(e.jb,e);n||(n=new Gn("//www.google.com/images/cleardot.gif"),Ee.location&&"http"==Ee.location.protocol||Yn(n,"https"),tr(n)),function(e,t){var n=new an;if(Ee.Image){var r=new Image;r.onload=De(xr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=De(xr,n,r,"TestLoadImage: error",!1,t),r.onabort=De(xr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=De(xr,n,r,"TestLoadImage: timeout",!1,t),Ee.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else pn(2);e.G=0,e.j&&e.j.va(t),di(e),Zr(e)}function di(e){e.G=0,e.I=-1,e.j&&(0==Ar(e.i).length&&0==e.l.length||(e.i.i.length=0,je(e.l),e.l.length=0),e.j.ua())}function pi(e,t,n){var r=function(e){return e instanceof Gn?$n(e):new Gn(e,void 0)}(n);if(""!=r.i)t&&Xn(r,t+"."+r.i),Jn(r,r.m);else{var i=Ee.location;r=function(e,t,n,r){var i=new Gn(null,void 0);return e&&Yn(i,e),t&&Xn(i,t),n&&Jn(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Qe(e.aa,(function(e,t){er(r,t,e)})),t=e.D,n=e.sa,t&&n&&er(r,t,n),er(r,"VER",e.ma),ri(e,r),r}function vi(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Mr(new Cr({ib:!0})):new Mr(e.qa)).L=e.H,t}function yi(){}function gi(){if(et&&!(10<=Number(ht)))throw Error("Environmental error: no available transport.")}function mi(e,t){Mt.call(this),this.g=new Yr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ue(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ue(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new _i(this)}function bi(e){An.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function wi(){kn.call(this),this.status=1}function _i(e){this.g=e}(be=Mr.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():En.g(),this.C=this.u?wn(this.u):wn(En),this.g.onreadystatechange=Ne(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Br(this,e)}e=n||"";var i=new Kn(this.headers);r&&qn(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Vr,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Ee.FormData&&e instanceof Ee.FormData,!(0<=Pe(Ur,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wr(this),0<this.B&&((this.K=function(e){return et&&ft()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ne(this.pa,this)):this.A=Jt(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Br(this,e)}},be.pa=function(){void 0!==_e&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))},be.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ft(this,"complete"),Ft(this,"abort"),Kr(this))},be.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kr(this,!0)),Mr.Z.M.call(this)},be.Fa=function(){this.s||(this.F||this.v||this.l?qr(this):this.cb())},be.cb=function(){qr(this)},be.ba=function(){try{return 2<Qr(this)?this.g.status:-1}catch(e){return-1}},be.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},be.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Pr(t)}},be.Da=function(){return this.m},be.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(be=Yr.prototype).ma=8,be.G=1,be.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},be.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Tn(this,this.h,e,void 0),n=this.s;if(this.P&&(n?$e(n=He(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ii(this,t,r),er(i=$n(this.F),"RID",e),er(i,"CVER",22),this.D&&er(i,"X-HTTP-Session-Id",this.D),ri(this,i),this.o&&n&&Gr(i,this.o,n),Er(this.i,t),this.Ra&&er(i,"TYPE","init"),this.ja?(er(i,"$req",r),er(i,"SID","null"),t.$=!0,Rn(t,i,null)):Rn(t,i,r),this.G=2}}else 3==this.G&&(e?ni(this,e):0==this.l.length||br(this.i)||ni(this))},be.Ga=function(){if(this.u=null,si(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=yn(Ne(this.bb,this),e)}},be.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pn(10),Jr(this),si(this))},be.ab=function(){null!=this.v&&(this.v=null,Jr(this),ai(this),pn(19))},be.jb=function(e){e?(this.h.info("Successfully pinged google.com"),pn(2)):(this.h.info("Failed to ping google.com"),pn(1))},(be=yi.prototype).xa=function(){},be.wa=function(){},be.va=function(){},be.ua=function(){},be.Oa=function(){},gi.prototype.g=function(e,t){return new mi(e,t)},Re(mi,Mt),mi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Qt(Ne(e.hb,e,t))),pn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=pi(e,null,e.W),ti(e)},mi.prototype.close=function(){Xr(this.g)},mi.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,ei(this.g,t)}else this.v?((t={}).__data__=Ut(e),ei(this.g,t)):ei(this.g,e)},mi.prototype.M=function(){this.g.j=null,delete this.j,Xr(this.g),delete this.g,mi.Z.M.call(this)},Re(bi,An),Re(wi,kn),Re(_i,yi),_i.prototype.xa=function(){Ft(this.g,"a")},_i.prototype.wa=function(e){Ft(this.g,new bi(e))},_i.prototype.va=function(e){Ft(this.g,new wi(e))},_i.prototype.ua=function(){Ft(this.g,"b")},gi.prototype.createWebChannel=gi.prototype.g,mi.prototype.send=mi.prototype.u,mi.prototype.open=mi.prototype.m,mi.prototype.close=mi.prototype.close,gn.NO_ERROR=0,gn.TIMEOUT=8,gn.HTTP_ERROR=6,mn.COMPLETE="complete",_n.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",Mt.prototype.listen=Mt.prototype.N,Mr.prototype.listenOnce=Mr.prototype.O,Mr.prototype.getLastError=Mr.prototype.La,Mr.prototype.getLastErrorCode=Mr.prototype.Da,Mr.prototype.getStatus=Mr.prototype.ba,Mr.prototype.getResponseJson=Mr.prototype.Qa,Mr.prototype.getResponseText=Mr.prototype.ga,Mr.prototype.send=Mr.prototype.ea;var Ei=gn,Si=mn,Ai=sn,ki=10,Ii=11,Ti=Cr,xi=_n,Ci=Mr;function Ni(e){return(Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Di=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Di.o=-1;var Ri={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Oi=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return g(t,e),t}(Error),Li=new J("@firebase/firestore");function Pi(){return Li.logLevel}function Mi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Li.logLevel<=W.DEBUG){var r=t.map(Ui);Li.debug.apply(Li,S(["Firestore (8.8.1): "+e],r))}}function Fi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Li.logLevel<=W.ERROR){var r=t.map(Ui);Li.error.apply(Li,S(["Firestore (8.8.1): "+e],r))}}function ji(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Li.logLevel<=W.WARN){var r=t.map(Ui);Li.warn.apply(Li,S(["Firestore (8.8.1): "+e],r))}}function Ui(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Vi(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+e;throw Fi(t),new Error(t)}function Bi(e,t){e||Vi()}function zi(e,t){return e}function qi(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ki=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=qi(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Wi(e,t){return e<t?-1:e>t?1:0}function Qi(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Hi(e){return e+"\0"}var Gi=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oi(Ri.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oi(Ri.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oi(Ri.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oi(Ri.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Wi(this.nanoseconds,e.nanoseconds):Wi(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),$i=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Gi(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Yi(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ji(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Zi=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Vi(),void 0===n?n=e.length-t:n>e.length-t&&Vi(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Zi),to=/^[_a-zA-Z][_a-zA-Z0-9]*$/,no=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return to.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Oi(Ri.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Oi(Ri.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new Oi(Ri.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Zi),ro=function(){function e(e){this.fields=e,e.sort(no.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Qi(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),io=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Wi(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();io.EMPTY_BYTE_STRING=new io("");var oo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(e){if(Bi(!!e),"string"==typeof e){var t=0,n=oo.exec(e);if(Bi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:uo(e.seconds),nanos:uo(e.nanos)}}function uo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function so(e){return"string"==typeof e?io.fromBase64String(e):io.fromUint8Array(e)}function co(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lo(e){var t=e.mapValue.fields.__previous_value__;return co(t)?lo(t):t}function fo(e){var t=ao(e.mapValue.fields.__local_write_time__.timestampValue);return new Gi(t.seconds,t.nanos)}function ho(e){return null==e}function po(e){return 0===e&&1/e==-1/0}function vo(e){return"number"==typeof e&&Number.isInteger(e)&&!po(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var yo=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(eo.fromString(t))},e.fromName=function(t){return new e(eo.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===eo.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return eo.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new eo(t.slice()))},e}();function go(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?co(e)?4:10:Vi()}function mo(e,t){var n=go(e);if(n!==go(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fo(e).isEqual(fo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ao(e.timestampValue),r=ao(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return so(e.bytesValue).isEqual(so(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return uo(e.geoPointValue.latitude)===uo(t.geoPointValue.latitude)&&uo(e.geoPointValue.longitude)===uo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return uo(e.integerValue)===uo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=uo(e.doubleValue),r=uo(t.doubleValue);return n===r?po(n)===po(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Qi(e.arrayValue.values||[],t.arrayValue.values||[],mo);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Yi(n)!==Yi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!mo(n[i],r[i])))return!1;return!0}(e,t);default:return Vi()}}function bo(e,t){return void 0!==(e.values||[]).find((function(e){return mo(e,t)}))}function wo(e,t){var n=go(e),r=go(t);if(n!==r)return Wi(n,r);switch(n){case 0:return 0;case 1:return Wi(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=uo(e.integerValue||e.doubleValue),r=uo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _o(e.timestampValue,t.timestampValue);case 4:return _o(fo(e),fo(t));case 5:return Wi(e.stringValue,t.stringValue);case 6:return function(e,t){var n=so(e),r=so(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Wi(n[i],r[i]);if(0!==o)return o}return Wi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Wi(uo(e.latitude),uo(t.latitude));return 0!==n?n:Wi(uo(e.longitude),uo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=wo(n[i],r[i]);if(o)return o}return Wi(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var u=Wi(r[a],o[a]);if(0!==u)return u;var s=wo(n[r[a]],i[o[a]]);if(0!==s)return s}return Wi(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Vi()}}function _o(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Wi(e,t);var n=ao(e),r=ao(t),i=Wi(n.seconds,r.seconds);return 0!==i?i:Wi(n.nanos,r.nanos)}function Eo(e){return So(e)}function So(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ao(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?so(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,yo.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=So(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+So(e.fields[o])}return t+"}"}(e.mapValue):Vi();var t,n}function Ao(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ko(e){return!!e&&"integerValue"in e}function Io(e){return!!e&&"arrayValue"in e}function To(e){return!!e&&"nullValue"in e}function xo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Co(e){return!!e&&"mapValue"in e}function No(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==Ni(e.timestampValue))return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Xi(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=No(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=No(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Do=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Co(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=No(t)},e.prototype.setAll=function(e){var t=this,n=no.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=No(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Co(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return mo(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Co(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Xi(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(No(this.value))},e}();function Ro(e){var t=[];return Xi(e.fields,(function(e,n){var r=new no([e]);if(Co(n)){var i=Ro(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var u=a[o];t.push(r.child(u))}}else t.push(r)})),new ro(t)}var Oo=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,$i.min(),Do.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Do.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Do.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Do.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Do.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Lo=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Po(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Lo(e,t,n,r,i,o,a)}function Mo(e){var t=zi(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Eo(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ho(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=$o(t.startAt)),t.endAt&&(n+="|ub:",n+=$o(t.endAt)),t.h=n}return t.h}function Fo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Xo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!mo(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zo(e.startAt,t.startAt)&&Zo(e.endAt,t.endAt)}function jo(e){return yo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Uo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return g(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Vo(e,n,r):"array-contains"===n?new Ko(e,r):"in"===n?new Wo(e,r):"not-in"===n?new Qo(e,r):"array-contains-any"===n?new Ho(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Bo(e,n):new zo(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(wo(t,this.value)):null!==t&&go(this.value)===go(t)&&this.m(wo(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vi()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Vo=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=yo.fromName(r.referenceValue),i}return g(t,e),t.prototype.matches=function(e){var t=yo.comparator(e.key,this.key);return this.m(t)},t}(Uo),Bo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=qo(0,n),r}return g(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Uo),zo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=qo(0,n),r}return g(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Uo);function qo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return yo.fromName(e.referenceValue)}))}var Ko=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return g(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Io(t)&&bo(t.arrayValue,this.value)},t}(Uo),Wo=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return g(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&bo(this.value.arrayValue,t)},t}(Uo),Qo=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return g(t,e),t.prototype.matches=function(e){if(bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!bo(this.value.arrayValue,t)},t}(Uo),Ho=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return g(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Io(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return bo(t.value.arrayValue,e)}))},t}(Uo),Go=function(e,t){this.position=e,this.before=t};function $o(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Eo(e)})).join(",")}var Yo=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Xo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Jo(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?yo.comparator(yo.fromName(a.referenceValue),n.key):wo(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Zo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!mo(e.position[n],t.position[n]))return!1;return!0}var ea=function(e,t,n,r,i,o,a,u){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===u&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function ta(e,t,n,r,i,o,a,u){return new ea(e,t,n,r,i,o,a,u)}function na(e){return new ea(e)}function ra(e){return!ho(e.limit)&&"F"===e.limitType}function ia(e){return!ho(e.limit)&&"L"===e.limitType}function oa(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function aa(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function ua(e){return null!==e.collectionGroup}function sa(e){var t=zi(e);if(null===t.p){t.p=[];var n=aa(t),r=oa(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Yo(n)),t.p.push(new Yo(no.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var u=a[o];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Yo(no.keyField(),s))}}}return t.p}function ca(e){var t=zi(e);if(!t.T)if("F"===t.limitType)t.T=Po(t.path,t.collectionGroup,sa(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=sa(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Yo(o.field,a))}var u=t.endAt?new Go(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Go(t.startAt.position,!t.startAt.before):null;t.T=Po(t.path,t.collectionGroup,n,t.filters,t.limit,u,s)}return t.T}function la(e,t,n){return new ea(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fa(e,t){return Fo(ca(e),ca(t))&&e.limitType===t.limitType}function ha(e){return Mo(ca(e))+"|lt:"+e.limitType}function da(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Eo(t.value);var t})).join(", ")+"]"),ho(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+$o(e.startAt)),e.endAt&&(t+=", endAt: "+$o(e.endAt)),"Target("+t+")"}(ca(e))+"; limitType="+e.limitType+")"}function pa(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):yo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Jo(e.startAt,sa(e),t)||e.endAt&&Jo(e.endAt,sa(e),t))}(e,t)}function va(e){return function(t,n){for(var r=!1,i=0,o=sa(e);i<o.length;i++){var a=o[i],u=ya(a,t,n);if(0!==u)return u;r=r||a.field.isKeyField()}return 0}}function ya(e,t,n){var r=e.field.isKeyField()?yo.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wo(r,i):Vi()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Vi()}}function ga(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:po(t)?"-0":t}}function ma(e){return{integerValue:""+e}}function ba(e,t){return vo(t)?ma(t):ga(e,t)}var wa=function(){this._=void 0};function _a(e,t,n){return e instanceof Aa?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ka?Ia(e,t):e instanceof Ta?xa(e,t):function(e,t){var n=Sa(e,t),r=Na(n)+Na(e.A);return ko(n)&&ko(e.A)?ma(r):ga(e.R,r)}(e,t)}function Ea(e,t,n){return e instanceof ka?Ia(e,t):e instanceof Ta?xa(e,t):n}function Sa(e,t){return e instanceof Ca?ko(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Aa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t}(wa),ka=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return g(t,e),t}(wa);function Ia(e,t){for(var n=Da(t),r=function(e){n.some((function(t){return mo(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ta=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return g(t,e),t}(wa);function xa(e,t){for(var n=Da(t),r=function(e){n=n.filter((function(t){return!mo(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ca=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return g(t,e),t}(wa);function Na(e){return uo(e.integerValue||e.doubleValue)}function Da(e){return Io(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ra=function(e,t){this.field=e,this.transform=t},Oa=function(e,t){this.version=e,this.transformResults=t},La=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Pa(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ma=function(){};function Fa(e,t,n){e instanceof za?function(e,t,n){var r=e.value.clone(),i=Wa(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qa?function(e,t,n){if(Pa(e.precondition,t)){var r=Wa(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ka(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ja(e,t,n){e instanceof za?function(e,t,n){if(Pa(e.precondition,t)){var r=e.value.clone(),i=Qa(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ba(t),r).setHasLocalMutations()}}(e,t,n):e instanceof qa?function(e,t,n){if(Pa(e.precondition,t)){var r=Qa(e.fieldTransforms,n,t),i=t.data;i.setAll(Ka(e)),i.setAll(r),t.convertToFoundDocument(Ba(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Pa(e.precondition,t)&&t.convertToNoDocument($i.min())}(e,t)}function Ua(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),u=Sa(o.transform,a||null);null!=u&&(null==n&&(n=Do.empty()),n.set(o.field,u))}return n||null}function Va(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Qi(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ka&&t instanceof ka||e instanceof Ta&&t instanceof Ta?Qi(e.elements,t.elements,mo):e instanceof Ca&&t instanceof Ca?mo(e.A,t.A):e instanceof Aa&&t instanceof Aa}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ba(e){return e.isFoundDocument()?e.version:$i.min()}var za=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return g(t,e),t}(Ma),qa=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return g(t,e),t}(Ma);function Ka(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Wa(e,t,n){var r=new Map;Bi(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,u=t.data.field(o.field);r.set(o.field,Ea(a,u,n[i]))}return r}function Qa(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],u=a.transform,s=n.data.field(a.field);r.set(a.field,_a(u,s,t))}return r}var Ha,Ga,$a=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return g(t,e),t}(Ma),Ya=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return g(t,e),t}(Ma),Xa=function(e){this.count=e};function Ja(e){switch(e){case Ri.OK:return Vi();case Ri.CANCELLED:case Ri.UNKNOWN:case Ri.DEADLINE_EXCEEDED:case Ri.RESOURCE_EXHAUSTED:case Ri.INTERNAL:case Ri.UNAVAILABLE:case Ri.UNAUTHENTICATED:return!1;case Ri.INVALID_ARGUMENT:case Ri.NOT_FOUND:case Ri.ALREADY_EXISTS:case Ri.PERMISSION_DENIED:case Ri.FAILED_PRECONDITION:case Ri.ABORTED:case Ri.OUT_OF_RANGE:case Ri.UNIMPLEMENTED:case Ri.DATA_LOSS:return!0;default:return Vi()}}function Za(e){if(void 0===e)return Fi("GRPC error has no .code"),Ri.UNKNOWN;switch(e){case Ha.OK:return Ri.OK;case Ha.CANCELLED:return Ri.CANCELLED;case Ha.UNKNOWN:return Ri.UNKNOWN;case Ha.DEADLINE_EXCEEDED:return Ri.DEADLINE_EXCEEDED;case Ha.RESOURCE_EXHAUSTED:return Ri.RESOURCE_EXHAUSTED;case Ha.INTERNAL:return Ri.INTERNAL;case Ha.UNAVAILABLE:return Ri.UNAVAILABLE;case Ha.UNAUTHENTICATED:return Ri.UNAUTHENTICATED;case Ha.INVALID_ARGUMENT:return Ri.INVALID_ARGUMENT;case Ha.NOT_FOUND:return Ri.NOT_FOUND;case Ha.ALREADY_EXISTS:return Ri.ALREADY_EXISTS;case Ha.PERMISSION_DENIED:return Ri.PERMISSION_DENIED;case Ha.FAILED_PRECONDITION:return Ri.FAILED_PRECONDITION;case Ha.ABORTED:return Ri.ABORTED;case Ha.OUT_OF_RANGE:return Ri.OUT_OF_RANGE;case Ha.UNIMPLEMENTED:return Ri.UNIMPLEMENTED;case Ha.DATA_LOSS:return Ri.DATA_LOSS;default:return Vi()}}(Ga=Ha||(Ha={}))[Ga.OK=0]="OK",Ga[Ga.CANCELLED=1]="CANCELLED",Ga[Ga.UNKNOWN=2]="UNKNOWN",Ga[Ga.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ga[Ga.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ga[Ga.NOT_FOUND=5]="NOT_FOUND",Ga[Ga.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ga[Ga.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ga[Ga.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ga[Ga.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ga[Ga.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ga[Ga.ABORTED=10]="ABORTED",Ga[Ga.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ga[Ga.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ga[Ga.INTERNAL=13]="INTERNAL",Ga[Ga.UNAVAILABLE=14]="UNAVAILABLE",Ga[Ga.DATA_LOSS=15]="DATA_LOSS";var eu=function(){function e(e,t){this.comparator=e,this.root=t||nu.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,nu.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nu.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new tu(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new tu(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new tu(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new tu(this.root,e,this.comparator,!0)},e}(),tu=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),nu=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Vi();if(this.right.isRed())throw Vi();var e=this.left.check();if(e!==this.right.check())throw Vi();return e+(this.isRed()?0:1)},e}();nu.EMPTY=null,nu.RED=!0,nu.BLACK=!1,nu.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Vi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Vi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Vi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Vi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Vi()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new nu(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var ru=function(){function e(e){this.comparator=e,this.data=new eu(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new iu(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new iu(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),iu=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),ou=new eu(yo.comparator);function au(){return ou}var uu=new eu(yo.comparator);function su(){return uu}var cu=new eu(yo.comparator);function lu(){return cu}var fu=new ru(yo.comparator);function hu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=fu,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var du=new ru(Wi);function pu(){return du}var vu=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,yu.createSynthesizedTargetChangeForCurrentChange(t,n)),new e($i.min(),r,pu(),au(),hu())},e}(),yu=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(io.EMPTY_BYTE_STRING,n,hu(),hu(),hu())},e}(),gu=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},mu=function(e,t){this.targetId=e,this.V=t},bu=function(e,t,n,r){void 0===n&&(n=io.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},wu=function(){function e(){this.S=0,this.D=Su(),this.C=io.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=hu(),t=hu(),n=hu();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Vi()}})),new yu(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=Su()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),_u=function(){function e(e){this.W=e,this.G=new Map,this.H=au(),this.J=Eu(),this.Y=new ru(Wi)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Vi()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(jo(i))if(0===n){var o=new yo(i.path);this.tt(t,o,Oo.newNoDocument(o,$i.min()))}else Bi(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&jo(o.target)){var a=new yo(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Oo.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=hu();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new vu(e,n,this.Y,this.H,r);return this.H=au(),this.J=Eu(),this.Y=new ru(Wi),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new wu,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new ru(Wi),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Mi("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new wu),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Eu(){return new eu(yo.comparator)}function Su(){return new eu(yo.comparator)}var Au={asc:"ASCENDING",desc:"DESCENDING"},ku={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iu=function(e,t){this.databaseId=e,this.I=t};function Tu(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function xu(e,t){return e.I?t.toBase64():t.toUint8Array()}function Cu(e,t){return Tu(e,t.toTimestamp())}function Nu(e){return Bi(!!e),$i.fromTimestamp(function(e){var t=ao(e);return new Gi(t.seconds,t.nanos)}(e))}function Du(e,t){return function(e){return new eo(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ru(e){var t=eo.fromString(e);return Bi(ns(t)),t}function Ou(e,t){return Du(e.databaseId,t.path)}function Lu(e,t){var n=Ru(t);if(n.get(1)!==e.databaseId.projectId)throw new Oi(Ri.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Oi(Ri.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yo(ju(n))}function Pu(e,t){return Du(e.databaseId,t)}function Mu(e){var t=Ru(e);return 4===t.length?eo.emptyPath():ju(t)}function Fu(e){return new eo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ju(e){return Bi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Uu(e,t,n){return{name:Ou(e,t),fields:n.value.mapValue.fields}}function Vu(e,t,n){var r=Lu(e,t.name),i=Nu(t.updateTime),o=new Do({mapValue:{fields:t.fields}}),a=Oo.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Bu(e,t){var n;if(t instanceof za)n={update:Uu(e,t.key,t.value)};else if(t instanceof $a)n={delete:Ou(e,t.key)};else if(t instanceof qa)n={update:Uu(e,t.key,t.data),updateMask:ts(t.fieldMask)};else{if(!(t instanceof Ya))return Vi();n={verify:Ou(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Aa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ka)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ta)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ca)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Vi()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Cu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Vi()}(e,t.precondition)),n}function zu(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?La.updateTime(Nu(e.updateTime)):void 0!==e.exists?La.exists(e.exists):La.none()}(t.currentDocument):La.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Bi("REQUEST_TIME"===t.setToServerValue),n=new Aa;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ka(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ta(i)}else"increment"in t?n=new Ca(e,t.increment):Vi();var o=no.fromServerFormat(t.fieldPath);return new Ra(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Lu(e,t.update.name),o=new Do({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new ro(t.map((function(e){return no.fromServerFormat(e)})))}(t.updateMask);return new qa(i,o,a,n,r)}return new za(i,o,n,r)}if(t.delete){var u=Lu(e,t.delete);return new $a(u,n)}if(t.verify){var s=Lu(e,t.verify);return new Ya(s,n)}return Vi()}function qu(e,t){return{documents:[Pu(e,t.path)]}}function Ku(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Pu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(xo(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NAN"}};if(To(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xo(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NOT_NAN"}};if(To(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(e.field),op:Yu(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Xu(e.field),direction:$u(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||ho(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Hu(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Hu(t.endAt)),n}function Wu(e){var t=Mu(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Bi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Qu(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Yo(Ju(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ho(t="object"==Ni(e)?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Gu(n.startAt));var l=null;return n.endAt&&(l=Gu(n.endAt)),ta(t,i,u,a,s,"F",c,l)}function Qu(e){return e?void 0!==e.unaryFilter?[es(e)]:void 0!==e.fieldFilter?[Zu(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Qu(e)})).reduce((function(e,t){return e.concat(t)})):Vi():[]}function Hu(e){return{before:e.before,values:e.position}}function Gu(e){var t=!!e.before,n=e.values||[];return new Go(n,t)}function $u(e){return Au[e]}function Yu(e){return ku[e]}function Xu(e){return{fieldPath:e.canonicalString()}}function Ju(e){return no.fromServerFormat(e.fieldPath)}function Zu(e){return Uo.create(Ju(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Vi()}}(e.fieldFilter.op),e.fieldFilter.value)}function es(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ju(e.unaryFilter.field);return Uo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ju(e.unaryFilter.field);return Uo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ju(e.unaryFilter.field);return Uo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ju(e.unaryFilter.field);return Uo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Vi()}}function ts(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ns(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function rs(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=os(t)),t=is(e.get(n),t);return os(t)}function is(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function os(e){return e+""}function as(e){var t=e.length;if(Bi(t>=2),2===t)return Bi(""===e.charAt(0)&&""===e.charAt(1)),eo.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&Vi(),e.charAt(a+1)){case"":var u=e.substring(o,a),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:Vi()}o=a+2}return new eo(r)}var us=function(e,t){this.seconds=e,this.nanoseconds=t},ss=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ss.store="owner",ss.key="owner";var cs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};cs.store="mutationQueues",cs.keyPath="userId";var ls=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ls.store="mutations",ls.keyPath="batchId",ls.userMutationsIndex="userMutationsIndex",ls.userMutationsKeyPath=["userId","batchId"];var fs=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,rs(t)]},e.key=function(e,t,n){return[e,rs(t),n]},e}();fs.store="documentMutations",fs.PLACEHOLDER=new fs;var hs=function(e,t){this.path=e,this.readTime=t},ds=function(e,t){this.path=e,this.version=t},ps=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ps.store="remoteDocuments",ps.readTimeIndex="readTimeIndex",ps.readTimeIndexPath="readTime",ps.collectionReadTimeIndex="collectionReadTimeIndex",ps.collectionReadTimeIndexPath=["parentPath","readTime"];var vs=function(e){this.byteSize=e};vs.store="remoteDocumentGlobal",vs.key="remoteDocumentGlobalKey";var ys=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ys.store="targets",ys.keyPath="targetId",ys.queryTargetsIndexName="queryTargetsIndex",ys.queryTargetsKeyPath=["canonicalId","targetId"];var gs=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};gs.store="targetDocuments",gs.keyPath=["targetId","path"],gs.documentTargetsIndex="documentTargetsIndex",gs.documentTargetsKeyPath=["path","targetId"];var ms=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ms.key="targetGlobalKey",ms.store="targetGlobal";var bs=function(e,t){this.collectionId=e,this.parent=t};bs.store="collectionParents",bs.keyPath=["collectionId","parent"];var ws=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ws.store="clientMetadata",ws.keyPath="clientId";var _s=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};_s.store="bundles",_s.keyPath="bundleId";var Es=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Es.store="namedQueries",Es.keyPath="name";var Ss=S(S([],S(S([],S(S([],S(S([],[cs.store,ls.store,fs.store,ps.store,ys.store,ss.store,ms.store,gs.store]),[ws.store])),[vs.store])),[bs.store])),[_s.store,Es.store]),As="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ks=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Is=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Ts=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Vi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),xs=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Is,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Ds(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Ms(t.target.error);n.ft.reject(new Ds(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ds(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Mi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Os(t)},e}(),Cs=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(x())&&Fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Mi("SimpleDb","Removing database:",e),Ls(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=x(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return b(this,void 0,void 0,(function(){var t,n=this;return w(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Mi("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Ds(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Oi(Ri.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Ds(e,n))},i.onupgradeneeded=function(e){Mi("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Mi("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return b(this,void 0,void 0,(function(){var i,o,a,u,s;return w(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,s,c,l;return w(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=f.sent(),t=xs.open(u.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Ts.reject(e)})).toPromise(),s={},a.catch((function(){})),[4,t.dt];case 3:return[2,(s.value=(f.sent(),a),s)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,Mi("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==Ni(s=c.sent()))return[2,s.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Ns=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Ls(this.Pt.delete())},e}(),Ds=function(e){function t(t,n){var r=this;return(r=e.call(this,Ri.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return g(t,e),t}(Oi);function Rs(e){return"IndexedDbTransactionError"===e.name}var Os=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Mi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Mi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ls(n)},e.prototype.add=function(e){return Mi("SimpleDb","ADD",this.store.name,e,e),Ls(this.store.add(e))},e.prototype.get=function(e){var t=this;return Ls(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Mi("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Mi("SimpleDb","DELETE",this.store.name,e),Ls(this.store.delete(e))},e.prototype.count=function(){return Mi("SimpleDb","COUNT",this.store.name),Ls(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){Mi("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Ts((function(n,r){t.onerror=function(e){var t=Ms(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Ts((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Ns(i),a=t(i.primaryKey,i.value,o);if(a instanceof Ts){var u=a.catch((function(e){return o.done(),Ts.reject(e)}));n.push(u)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Ts.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Ls(e){return new Ts((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ms(e.target.error);n(t)}}))}var Ps=!1;function Ms(e){var t=Cs._t(x());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Oi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ps||(Ps=!0,setTimeout((function(){throw r}),0)),r}}return e}var Fs=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return g(t,e),t}(ks);function js(e,t){var n=zi(e);return Cs.It(n.Mt,t)}var Us=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Fa(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&ja(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&ja(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument($i.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),hu())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Qi(this.mutations,e.mutations,(function(e,t){return Va(e,t)}))&&Qi(this.baseMutations,e.baseMutations,(function(e,t){return Va(e,t)}))},e}(),Vs=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Bi(t.mutations.length===r.length);for(var i=lu(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Bs=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=$i.min()),void 0===o&&(o=$i.min()),void 0===a&&(a=io.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),zs=function(e){this.Lt=e};function qs(e,t){if(t.document)return Vu(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=yo.fromSegments(t.noDocument.path),r=Gs(t.noDocument.readTime),i=Oo.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=yo.fromSegments(t.unknownDocument.path);return r=Gs(t.unknownDocument.version),Oo.newUnknownDocument(o,r)}return Vi()}function Ks(e,t,n){var r=Ws(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Ou(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Tu(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new ps(null,null,o,a,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=Hs(t.version);return a=t.hasCommittedMutations,new ps(null,new hs(u,s),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Hs(t.version);return new ps(new ds(c,l),null,null,!0,r,i)}return Vi()}function Ws(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Qs(e){var t=new Gi(e[0],e[1]);return $i.fromTimestamp(t)}function Hs(e){var t=e.toTimestamp();return new us(t.seconds,t.nanoseconds)}function Gs(e){var t=new Gi(e.seconds,e.nanoseconds);return $i.fromTimestamp(t)}function $s(e,t){for(var n=(t.baseMutations||[]).map((function(t){return zu(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return zu(e.Lt,t)})),u=Gi.fromMillis(t.localWriteTimeMs);return new Us(t.batchId,u,n,a)}function Ys(e){var t,n,r=Gs(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Gs(e.lastLimboFreeSnapshotVersion):$i.min();return void 0!==e.query.documents?(Bi(1===(n=e.query).documents.length),t=ca(na(Mu(n.documents[0])))):t=function(e){return ca(Wu(e))}(e.query),new Bs(t,e.targetId,0,e.lastListenSequenceNumber,r,i,io.fromBase64String(e.resumeToken))}function Xs(e,t){var n,r=Hs(t.snapshotVersion),i=Hs(t.lastLimboFreeSnapshotVersion);n=jo(t.target)?qu(e.Lt,t.target):Ku(e.Lt,t.target);var o=t.resumeToken.toBase64();return new ys(t.targetId,Mo(t.target),r,o,t.sequenceNumber,i,n)}function Js(e){var t=Wu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?la(t,t.limit,"L"):t}var Zs=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return ec(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Gs(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return ec(e).put({bundleId:(n=t).id,createTime:Hs(Nu(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return tc(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Js(t.bundledQuery),readTime:Gs(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return tc(e).put(function(e){return{name:e.name,readTime:Hs(Nu(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function ec(e){return js(e,_s.store)}function tc(e){return js(e,Es.store)}var nc=function(){function e(){this.Bt=new rc}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Ts.resolve()},e.prototype.getCollectionParents=function(e,t){return Ts.resolve(this.Bt.getEntries(t))},e}(),rc=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ru(eo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new ru(eo.comparator)).toArray()},e}(),ic=function(){function e(){this.qt=new rc}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:rs(i)};return oc(e).put(o)}return Ts.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Hi(t),""],!1,!0);return oc(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(as(o.parent))}return n}))},e}();function oc(e){return js(e,bs.store)}var ac={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uc=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function sc(e,t,n){var r=e.store(ls.store),i=e.store(fs.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,s=r.$t({range:a},(function(e,t,n){return u++,n.delete()}));o.push(s.next((function(){Bi(1===u)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=fs.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Ts.waitFor(o).next((function(){return c}))}function cc(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Vi();t=e.noDocument}return JSON.stringify(t).length}uc.DEFAULT_COLLECTION_PERCENTILE=10,uc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uc.DEFAULT=new uc(41943040,uc.DEFAULT_COLLECTION_PERCENTILE,uc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uc.DISABLED=new uc(-1,0,0);var lc=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Bi(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hc(e).$t({index:ls.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=dc(e),a=hc(e);return a.add({}).next((function(u){Bi("number"==typeof u);for(var s=new Us(u,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Bu(e.Lt,t)})),i=n.mutations.map((function(t){return Bu(e.Lt,t)}));return new ls(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,s),l=[],f=new ru((function(e,t){return Wi(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=fs.key(i.userId,p.key.path,u);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,fs.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[u]=s.keys()})),Ts.waitFor(l).next((function(){return s}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return hc(e).get(t).next((function(e){return e?(Bi(e.userId===n.userId),$s(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Ts.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return hc(e).$t({index:ls.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Bi(t.batchId>=r),o=$s(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hc(e).$t({index:ls.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hc(e).Nt(ls.userMutationsIndex,n).next((function(e){return e.map((function(e){return $s(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=fs.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return dc(e).$t({range:i},(function(r,i,a){var u=r[0],s=r[1],c=r[2],l=as(s);if(u===n.userId&&t.path.isEqual(l))return hc(e).get(c).next((function(e){if(!e)throw Vi();Bi(e.userId===n.userId),o.push($s(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ru(Wi),i=[];return t.forEach((function(t){var o=fs.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),u=dc(e).$t({range:a},(function(e,i,o){var a=e[0],u=e[1],s=e[2],c=as(u);a===n.userId&&t.path.isEqual(c)?r=r.add(s):o.done()}));i.push(u)})),Ts.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=fs.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),u=new ru(Wi);return dc(e).$t({range:a},(function(e,t,o){var a=e[0],s=e[1],c=e[2],l=as(s);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(u=u.add(c)):o.done()})).next((function(){return n.Wt(e,u)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(hc(e).get(t).next((function(e){if(null===e)throw Vi();Bi(e.userId===n.userId),r.push($s(n.R,e))})))})),Ts.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return sc(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Ts.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ts.resolve();var r=IDBKeyRange.lowerBound(fs.prefixForUser(t.userId)),i=[];return dc(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=as(e[1]);i.push(o)}else r.done()})).next((function(){Bi(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return fc(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return pc(e).get(this.userId).next((function(e){return e||new cs(t.userId,-1,"")}))},e}();function fc(e,t,n){var r=fs.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return dc(e).$t({range:o,kt:!0},(function(e,n,r){var o=e[0],u=e[1];e[2],o===t&&u===i&&(a=!0),r.done()})).next((function(){return a}))}function hc(e){return js(e,ls.store)}function dc(e){return js(e,fs.store)}function pc(e){return js(e,cs.store)}var vc=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),yc=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new vc(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return $i.fromTimestamp(new Gi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return gc(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Bi(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return gc(e).$t((function(a,u){var s=Ys(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return Ts.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return gc(e).$t((function(e,n){var r=Ys(n);t(r)}))},e.prototype.Xt=function(e){return mc(e).get(ms.key).next((function(e){return Bi(null!==e),e}))},e.prototype.Zt=function(e,t){return mc(e).put(ms.key,t)},e.prototype.te=function(e,t){return gc(e).put(Xs(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Mo(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return gc(e).$t({range:r,index:ys.queryTargetsIndexName},(function(e,n,r){var o=Ys(n);Fo(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=bc(e);return t.forEach((function(t){var a=rs(t.path);i.push(o.put(new gs(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Ts.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=bc(e);return Ts.forEach(t,(function(t){var o=rs(t.path);return Ts.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=bc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=bc(e),i=hu();return r.$t({range:n,kt:!0},(function(e,t,n){var r=as(e[1]),o=new yo(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=rs(t.path),r=IDBKeyRange.bound([n],[Hi(n)],!1,!0),i=0;return bc(e).$t({index:gs.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return gc(e).get(t).next((function(e){return e?Ys(e):null}))},e}();function gc(e){return js(e,ys.store)}function mc(e){return js(e,ms.store)}function bc(e){return js(e,gs.store)}function wc(e){return b(this,void 0,void 0,(function(){return w(this,(function(t){if(e.code!==Ri.FAILED_PRECONDITION||e.message!==As)throw e;return Mi("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function _c(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Wi(n,i);return 0===a?Wi(r,o):a}var Ec=function(){function e(e){this.ne=e,this.buffer=new ru(_c),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();_c(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Sc=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Mi("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return b(t,void 0,void 0,(function(){var t;return w(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Rs(t=n.sent())?(Mi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,wc(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Ac=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Ts.resolve(Di.o);var r=new Ec(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Mi("LruGarbageCollector","Garbage collection skipped; disabled"),Ts.resolve(ac)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Mi("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ac):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Mi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Pi()<=W.DEBUG&&Mi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(s-u)+"ms\nTotal Duration: "+(s-l)+"ms"),Ts.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),kc=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Ac(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Ic(e,n)},e.prototype.removeReference=function(e,t,n){return Ic(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Ic(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return pc(e).Ot((function(r){return fc(e,r,t).next((function(e){return e&&(n=!0),Ts.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,u){if(u<=t){var s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),bc(e).delete([0,rs(a.path)])}))}));i.push(s)}})).next((function(){return Ts.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Ic(e,t)},e.prototype.we=function(e,t){var n,r=bc(e),i=Di.o;return r.$t({index:gs.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,u=r.sequenceNumber;0===o?(i!==Di.o&&t(new yo(as(n)),i),i=u,n=a):i=Di.o})).next((function(){i!==Di.o&&t(new yo(as(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Ic(e,t){return bc(e).put(function(e,t){return new gs(0,rs(e.path),t)}(t,e.currentSequenceNumber))}var Tc=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];if(this.equalsFn(a,e))return u}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Xi(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];e(a,u)}}))},e.prototype.isEmpty=function(){return Ji(this.inner)},e}(),xc=function(){function e(){this.changes=new Tc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:$i.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Oo.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ts.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Cc=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Rc(e).put(Oc(t),n)},e.prototype.removeEntry=function(e,t){var n=Rc(e),r=Oc(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Rc(e).get(Oc(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Rc(e).get(Oc(t)).next((function(e){return{document:n.ye(t,e),size:cc(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=au();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=au(),i=new eu(yo.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,cc(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Ts.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Rc(e).$t({range:r},(function(e,t,r){for(var a=yo.fromSegments(e);o&&yo.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=au(),o=t.path.length+1,a={};if(n.isEqual($i.min())){var u=t.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=Ws(n);a.range=IDBKeyRange.lowerBound([s,c],!0),a.index=ps.collectionReadTimeIndex}return Rc(e).$t(a,(function(e,n,a){if(e.length===o){var u=qs(r.R,n);t.path.isPrefixOf(u.key.path)?pa(t,u)&&(i=i.insert(u.key,u)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Nc(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Dc(e).get(vs.key).next((function(e){return Bi(!!e),e}))},e.prototype.me=function(e,t){return Dc(e).put(vs.key,t)},e.prototype.ye=function(e,t){if(t){var n=qs(this.R,t);if(!n.isNoDocument()||!n.version.isEqual($i.min()))return n}return Oo.newInvalidDocument(e)},e}(),Nc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Tc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return g(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new ru((function(e,t){return Wi(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var u=t.Ae.get(o);if(a.document.isValidDocument()){var s=Ks(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=cc(s);r+=c-u,n.push(t.Ie.addEntry(e,o,s))}else if(r-=u,t.trackRemovals){var l=Ks(t.Ie.R,Oo.newNoDocument(o,$i.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Ts.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(xc);function Dc(e){return js(e,vs.store)}function Rc(e){return js(e,ps.store)}function Oc(e){return e.path.toArray()}var Lc=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Bi(n<r&&n>=0&&r<=11);var o=new xs("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ss.store)}(e),function(e){e.createObjectStore(cs.store,{keyPath:cs.keyPath}),e.createObjectStore(ls.store,{keyPath:ls.keyPath,autoIncrement:!0}).createIndex(ls.userMutationsIndex,ls.userMutationsKeyPath,{unique:!0}),e.createObjectStore(fs.store)}(e),Pc(e),function(e){e.createObjectStore(ps.store)}(e));var a=Ts.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(gs.store),e.deleteObjectStore(ys.store),e.deleteObjectStore(ms.store)}(e),Pc(e)),a=a.next((function(){return function(e){var t=e.store(ms.store),n=new ms(0,0,$i.min().toTimestamp(),0);return t.put(ms.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(ls.store).Nt().next((function(n){e.deleteObjectStore(ls.store),e.createObjectStore(ls.store,{keyPath:ls.keyPath,autoIncrement:!0}).createIndex(ls.userMutationsIndex,ls.userMutationsKeyPath,{unique:!0});var r=t.store(ls.store),i=n.map((function(e){return r.put(e)}));return Ts.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(ws.store,{keyPath:ws.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(vs.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(ps.store);t.createIndex(ps.readTimeIndex,ps.readTimeIndexPath,{unique:!1}),t.createIndex(ps.collectionReadTimeIndex,ps.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(_s.store,{keyPath:_s.keyPath})}(e),function(e){e.createObjectStore(Es.store,{keyPath:Es.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(ps.store).$t((function(e,n){t+=cc(n)})).next((function(){var n=new vs(t);return e.store(vs.store).put(vs.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(cs.store),r=e.store(ls.store);return n.Nt().next((function(n){return Ts.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ls.userMutationsIndex,i).next((function(r){return Ts.forEach(r,(function(r){Bi(r.userId===n.userId);var i=$s(t.R,r);return sc(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(gs.store),n=e.store(ps.store);return e.store(ms.store).get(ms.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new eo(n),a=function(e){return[0,rs(e)]}(o);r.push(t.get(a).next((function(n){return n?Ts.resolve():function(n){return t.put(new gs(0,rs(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Ts.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(bs.store,{keyPath:bs.keyPath});var n=t.store(bs.store),r=new rc,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:rs(i)})}};return t.store(ps.store).$t({kt:!0},(function(e,t){var n=new eo(e);return i(n.popLast())})).next((function(){return t.store(fs.store).$t({kt:!0},(function(e,t){e[0];var n=e[1];e[2];var r=as(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(ys.store);return n.$t((function(e,r){var i=Ys(r),o=Xs(t.R,i);return n.put(o)}))},e}();function Pc(e){e.createObjectStore(gs.store,{keyPath:gs.keyPath}).createIndex(gs.documentTargetsIndex,gs.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ys.store,{keyPath:ys.keyPath}).createIndex(ys.queryTargetsIndexName,ys.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ms.store)}var Mc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Fc=function(){function e(t,n,r,i,o,a,u,s,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Oi(Ri.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kc(this,i),this.Le=n+"main",this.R=new zs(s),this.Be=new Cs(this.Le,11,new Lc(this.R)),this.qe=new yc(this.referenceDelegate,this.R),this.Ut=new ic,this.Ue=function(e,t){return new Cc(e,t)}(this.R,this.Ut),this.Ke=new Zs,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Oi(Ri.FAILED_PRECONDITION,Mc);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Di(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return b(t,void 0,void 0,(function(){return w(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return b(t,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return b(t,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Uc(t).put(new ws(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Rs(t))return Mi("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Mi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return jc(e).get(ss.key).next((function(e){return Ts.resolve(t.tn(e))}))},e.prototype.en=function(e){return Uc(e).delete(this.clientId)},e.prototype.nn=function(){return b(this,void 0,void 0,(function(){var e,t,n,r,i=this;return w(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=js(e,ws.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ts.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Ts.resolve(!0):jc(e).get(ss.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Oi(Ri.FAILED_PRECONDITION,Mc);return!1}}return!(!t.networkEnabled||!t.inForeground)||Uc(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Mi("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return b(this,void 0,void 0,(function(){var e=this;return w(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ss.store,ws.store],(function(t){var n=new Fs(t,Di.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Uc(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return lc.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Mi("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Ss,(function(o){return i=new Fs(o,r.Ne?r.Ne.next():Di.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Fi("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Oi(Ri.FAILED_PRECONDITION,As);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return jc(e).get(ss.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Oi(Ri.FAILED_PRECONDITION,Mc)}))},e.prototype.Ze=function(e){var t=new ss(this.clientId,this.allowTabSynchronization,Date.now());return jc(e).put(ss.key,t)},e.yt=function(){return Cs.yt()},e.prototype.Xe=function(e){var t=this,n=jc(e);return n.get(ss.key).next((function(e){return t.tn(e)?(Mi("IndexedDbPersistence","Releasing primary lease."),n.delete(ss.key)):Ts.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Fi("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),!C()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Mi("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Fi("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Fi("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function jc(e){return js(e,ss.store)}function Uc(e){return js(e,ws.store)}function Vc(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Bc=function(e,t){this.progress=e,this.wn=t},zc=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return yo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):ua(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new yo(t)).next((function(e){var t=su();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=su();return this.Ut.getCollectionParents(e,i).next((function(a){return Ts.forEach(a,(function(a){var u=function(e,t){return new ea(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,u,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,u=o.mutations;a<u.length;a++){var s=u[a],c=s.key,l=r.get(c);null==l&&(l=Oo.newInvalidDocument(c),r=r.insert(c,l)),ja(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){pa(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=hu(),i=0,o=t;i<o.length;i++)for(var a=0,u=o[i].mutations;a<u.length;a++){var s=u[a];s instanceof qa&&null===n.get(s.key)&&(r=r.add(s.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),qc=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=hu(),i=hu(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Kc=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual($i.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(ra(t)||ia(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Pi()<=W.DEBUG&&Mi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),da(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new ru(va(e));return t.forEach((function(t,r){pa(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Pi()<=W.DEBUG&&Mi("QueryEngine","Using full collection scan to execute query:",da(t)),this.Sn.getDocumentsMatchingQuery(e,t,$i.min())},e}(),Wc=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new eu(Wi),this.kn=new Tc((function(e){return Mo(e)}),Fo),this.$n=$i.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new zc(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function Qc(e,t,n,r){return new Wc(e,t,n,r)}function Hc(e,t){return b(this,void 0,void 0,(function(){var n,r,i,o;return w(this,(function(a){switch(a.label){case 0:return n=zi(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new zc(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=hu(),u=0,s=o;u<s.length;u++){var c=s[u];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Gc(e,t){var n=zi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Ts.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Bi(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function $c(e){var t=zi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Yc(e,t){var n=zi(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var u=i.get(o);if(u){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Bi(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var u=au();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Xc(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual($i.min())){var s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(s)}return Ts.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,u)})).next((function(){return u}))})).then((function(e){return n.Fn=i,e}))}function Xc(e,t,n,r,i){var o=hu();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=au();return n.forEach((function(n,a){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual($i.min())?(t.removeEntry(n,s),o=o.insert(n,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(a,s),o=o.insert(n,a)):Mi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",a.version)})),o}))}function Jc(e,t){var n=zi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Zc(e,t){var n=zi(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Ts.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Bs(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function el(e,t,n){return b(this,void 0,void 0,(function(){var r,i,o,a;return w(this,(function(u){switch(u.label){case 0:r=zi(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Rs(a=u.sent()))throw a;return Mi("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function tl(e,t,n){var r=zi(e),i=$i.min(),o=hu();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=zi(e),i=r.kn.get(n);return void 0!==i?Ts.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,ca(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:$i.min(),n?o:hu())})).next((function(e){return{documents:e,Bn:o}}))}))}function nl(e,t){var n=zi(e),r=zi(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function rl(e){var t=zi(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=zi(e),i=au(),o=Ws(n),a=Rc(t),u=IDBKeyRange.lowerBound(o,!0);return a.$t({index:ps.readTimeIndex,range:u},(function(e,t){var n=qs(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Qs(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function il(e){return b(this,void 0,void 0,(function(){var t;return w(this,(function(n){return[2,(t=zi(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Rc(e),n=$i.min();return t.$t({index:ps.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Qs(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function ol(e,t,n,r){return b(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,f,h,d;return w(this,(function(p){switch(p.label){case 0:for(i=zi(e),o=hu(),a=au(),u=lu(),s=0,c=n;s<c.length;s++)l=c[s],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),u=u.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,Zc(i,function(e){return ca(na(eo.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Xc(e,h,a,$i.min(),u).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function al(e,t,n){return void 0===n&&(n=hu()),b(this,void 0,void 0,(function(){var r,i;return w(this,(function(o){switch(o.label){case 0:return[4,Zc(e,ca(Js(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=zi(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Nu(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(io.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var ul=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Ts.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Nu(n.createTime)}),Ts.resolve()},e.prototype.getNamedQuery=function(e,t){return Ts.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Js(e.bundledQuery),readTime:Nu(e.readTime)}}(t)),Ts.resolve()},e}(),sl=function(){function e(){this.Wn=new ru(cl.Gn),this.zn=new ru(cl.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new cl(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new cl(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new yo(new eo([])),r=new cl(n,e),i=new cl(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new yo(new eo([])),n=new cl(t,e),r=new cl(t,e+1),i=hu();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new cl(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),cl=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return yo.comparator(e.key,t.key)||Wi(e.ns,t.ns)},e.Hn=function(e,t){return Wi(e.ns,t.ns)||yo.comparator(e.key,t.key)},e}(),ll=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new ru(cl.Gn)}return e.prototype.checkEmpty=function(e){return Ts.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Us(i,t,n,r);this._n.push(o);for(var a=0,u=r;a<u.length;a++){var s=u[a];this.rs=this.rs.add(new cl(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return Ts.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Ts.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Ts.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Ts.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Ts.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new cl(t,0),i=new cl(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Ts.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ru(Wi);return t.forEach((function(e){var t=new cl(e,0),i=new cl(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Ts.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;yo.isDocumentKey(i)||(i=i.child(""));var o=new cl(new yo(i),0),a=new ru(Wi);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Ts.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Bi(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Ts.forEach(t.mutations,(function(i){var o=new cl(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new cl(t,0),r=this.rs.firstAfterOrEqual(n);return Ts.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Ts.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),fl=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new eu(yo.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Ts.resolve(n?n.document.clone():Oo.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=au();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Oo.newInvalidDocument(e))})),Ts.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=au(),i=new yo(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),u=a.key,s=a.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||pa(t,c)&&(r=r.insert(c.key,c.clone()))}return Ts.resolve(r)},e.prototype.fs=function(e,t){return Ts.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new hl(this)},e.prototype.getSize=function(e){return Ts.resolve(this.size)},e}(),hl=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return g(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Ts.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(xc),dl=function(){function e(e){this.persistence=e,this.ds=new Tc((function(e){return Mo(e)}),Fo),this.lastRemoteSnapshotVersion=$i.min(),this.highestTargetId=0,this.ws=0,this._s=new sl,this.targetCount=0,this.ys=vc.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Ts.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Ts.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Ts.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Ts.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Ts.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new vc(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Ts.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Ts.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Ts.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ts.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Ts.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Ts.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Ts.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ts.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Ts.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Ts.resolve(n)},e.prototype.containsKey=function(e,t){return Ts.resolve(this._s.containsKey(t))},e}(),pl=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Di(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new dl(this),this.Ut=new nc,this.Ue=function(e,t){return new fl(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new zs(t),this.Ke=new ul(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new ll(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Mi("MemoryPersistence","Starting transaction:",e);var i=new vl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Ts.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),vl=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return g(t,e),t}(ks),yl=function(){function e(e){this.persistence=e,this.As=new sl,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Vi()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Ts.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Ts.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Ts.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ts.forEach(this.vs,(function(r){var i=yo.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Ts.or([function(){return Ts.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),gl=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function ml(e,t){return"firestore_clients_"+e+"_"+t}function bl(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function wl(e,t){return"firestore_targets_"+e+"_"+t}gl.UNAUTHENTICATED=new gl(null),gl.GOOGLE_CREDENTIALS=new gl("google-credentials-uid"),gl.FIRST_PARTY=new gl("first-party-uid");var _l=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==Ni(o)&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==Ni(o.error));return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Oi(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Fi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),El=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==Ni(i)&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==Ni(i.error));return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Oi(i.error.code,i.error.message)),o?new e(t,i.state,r):(Fi("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Sl=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==Ni(r)&&r.activeTargetIds instanceof Array,o=pu(),a=0;i&&a<r.activeTargetIds.length;++a)i=vo(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Fi("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Al=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==Ni(n)&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Fi("SharedClientState","Failed to parse online state: "+t),null)},e}(),kl=function(){function e(){this.activeTargetIds=pu()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Il=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new eu(Wi),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=ml(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new kl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return b(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,u,s,c,l,f=this;return w(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(ml(this.persistenceKey,r)))&&(o=Sl.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),s=0,c=this.$s;s<c.length;s++)l=c[s],this.Fs(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(wl(this.persistenceKey,e));if(n){var r=El.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(wl(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Mi("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Mi("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Mi("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Mi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return b(t,void 0,void 0,(function(){var e,t,r,i,o,a;return w(this,(function(u){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Di.o;if(null!=e)try{var n=JSON.parse(e);Bi("number"==typeof n),t=n}catch(e){Fi("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Di.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new _l(this.currentUser,e,t,n),i=bl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=bl(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=wl(this.persistenceKey,e),i=new El(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Sl.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return _l.Vs(new gl(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return El.Vs(r,t)},e.prototype.js=function(e){return Al.Vs(e)},e.prototype.ii=function(e){return b(this,void 0,void 0,(function(){return w(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Mi("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],u=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||u.push(e)})),this.syncEngine.hi(a,u).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=pu();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Tl=function(){function e(){this.li=new kl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new kl,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),xl=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Cl=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Mi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Mi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Nl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Dl=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Rl=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return g(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new Ci;a.listenOnce(Si.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Ei.NO_ERROR:var t=a.getResponseJson();Mi("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ei.TIMEOUT:Mi("Connection",'RPC "'+e+'" timed out'),o(new Oi(Ri.DEADLINE_EXCEEDED,"Request time out"));break;case Ei.HTTP_ERROR:var n=a.getStatus();if(Mi("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ri).indexOf(t)>=0?t:Ri.UNKNOWN}(r.status);o(new Oi(u,r.message))}else o(new Oi(Ri.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Oi(Ri.UNAVAILABLE,"Connection failed."));break;default:Vi()}}finally{Mi("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);a.send(t,"POST",u,n,15)}))},t.prototype.Oi=function(e,t){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=new gi,o=ln(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Ti({})),this.Fi(a.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())||"object"===("undefined"==typeof navigator?"undefined":A(navigator))&&"ReactNative"===navigator.product||x().indexOf("Electron/")>=0||function(){var e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||x().indexOf("MSAppHost/")>=0||(n="object"===("undefined"==typeof chrome?"undefined":A(chrome))?chrome.runtime:"object"===("undefined"==typeof browser?"undefined":A(browser))?browser.runtime:void 0,"object"===A(n)&&void 0!==n.id)||(a.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Mi("Connection","Creating WebChannel: "+u,a);var s=i.createWebChannel(u,a),c=!1,l=!1,f=new Dl({Ei:function(e){l?Mi("Connection","Not sending because WebChannel is closed:",e):(c||(Mi("Connection","Opening WebChannel transport."),s.open(),c=!0),Mi("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,xi.EventType.OPEN,(function(){l||Mi("Connection","WebChannel transport opened.")})),h(s,xi.EventType.CLOSE,(function(){l||(l=!0,Mi("Connection","WebChannel transport closed"),f.Vi())})),h(s,xi.EventType.ERROR,(function(e){l||(l=!0,ji("Connection","WebChannel transport errored:",e),f.Vi(new Oi(Ri.UNAVAILABLE,"The operation could not be completed")))})),h(s,xi.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Bi(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Mi("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Ha[e];if(void 0!==t)return Za(t)}(o),u=i.message;void 0===a&&(a=Ri.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),l=!0,f.Vi(new Oi(a,u)),s.close()}else Mi("Connection","WebChannel received:",n),f.Si(n)}})),h(o,Ai.STAT_EVENT,(function(e){e.stat===ki?Mi("Connection","Detected buffering proxy"):e.stat===Ii&&Mi("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Pi()}),0),f},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Mi("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return Mi("RestConnection","Received: ",e),e}),(function(t){throw ji("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Nl[e];return this.Di+"/v1/"+t+":"+n},e}());function Ol(){return"undefined"!=typeof window?window:null}function Ll(){return"undefined"!=typeof document?document:null}function Pl(e){return new Iu(e,!0)}var Ml=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Mi("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Fl=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ml(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return b(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return b(this,void 0,void 0,(function(){return w(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return b(this,void 0,void 0,(function(){return w(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Ri.RESOURCE_EXHAUSTED?(Fi(t.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Ri.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Oi(Ri.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return b(e,void 0,void 0,(function(){return w(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Mi("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Mi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),jl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return g(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Vi()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Bi(void 0===t||"string"==typeof t),io.fromBase64String(t||"")):(Bi(void 0===t||t instanceof Uint8Array),io.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(u=t.targetChange.cause)&&function(e){var t=void 0===e.code?Ri.UNKNOWN:Za(e.code);return new Oi(t,e.message||"")}(u);n=new bu(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Lu(e,r.document.name),o=Nu(r.document.updateTime);var u=new Do({mapValue:{fields:r.document.fields}}),s=(a=Oo.newFoundDocument(i,o,u),r.targetIds||[]),c=r.removedTargetIds||[];n=new gu(s,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Lu(e,r.document),o=r.readTime?Nu(r.readTime):$i.min(),u=Oo.newNoDocument(i,o),a=r.removedTargetIds||[],n=new gu([],a,u.key,u);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Lu(e,r.document),o=r.removedTargetIds||[],n=new gu([],o,i,null);else{if(!("filter"in t))return Vi();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Xa(r),o=l.targetId,n=new mu(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return $i.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?$i.min():t.readTime?Nu(t.readTime):$i.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Fu(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=jo(r)?{documents:qu(e,r)}:{query:Ku(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=xu(e,t.resumeToken):t.snapshotVersion.compareTo($i.min())>0&&(n.readTime=Tu(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Vi()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Fu(this.R),t.removeTarget=e,this.cr(t)},t}(Fl),Ul=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return g(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Bi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Bi(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Nu(e.updateTime):Nu(t);return n.isEqual($i.min())&&(n=Nu(t)),new Oa(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Nu(e.commitTime);return this.listener.Tr(n,t)}return Bi(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Fu(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Bu(t.R,e)}))};this.cr(n)},t}(Fl),Vl=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return g(t,e),t.prototype.br=function(){if(this.Rr)throw new Oi(Ri.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ri.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Oi(Ri.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ri.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Oi(Ri.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Bl=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Fi(t),this.Vr=!1):Mi("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),zl=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return b(o,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return Xl(this)?(Mi("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return b(this,void 0,void 0,(function(){var t;return w(this,(function(n){switch(n.label){case 0:return(t=zi(e)).Or.add(4),[4,Kl(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,ql(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Bl(n,r)};function ql(e){return b(this,void 0,void 0,(function(){var t,n;return w(this,(function(r){switch(r.label){case 0:if(!Xl(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Kl(e){return b(this,void 0,void 0,(function(){var t,n;return w(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Wl(e,t){var n=zi(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Yl(n)?$l(n):df(n).er()&&Hl(n,t))}function Ql(e,t){var n=zi(e),r=df(n);n.$r.delete(t),r.er()&&Gl(n,t),0===n.$r.size&&(r.er()?r.ir():Xl(n)&&n.Br.set("Unknown"))}function Hl(e,t){e.qr.U(t.targetId),df(e).mr(t)}function Gl(e,t){e.qr.U(t),df(e).yr(t)}function $l(e){e.qr=new _u({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),df(e).start(),e.Br.Sr()}function Yl(e){return Xl(e)&&!df(e).tr()&&e.$r.size>0}function Xl(e){return 0===zi(e).Or.size}function Jl(e){e.qr=void 0}function Zl(e){return b(this,void 0,void 0,(function(){return w(this,(function(t){return e.$r.forEach((function(t,n){Hl(e,t)})),[2]}))}))}function ef(e,t){return b(this,void 0,void 0,(function(){return w(this,(function(n){return Jl(e),Yl(e)?(e.Br.Nr(t),$l(e)):e.Br.set("Unknown"),[2]}))}))}function tf(e,t,n){return b(this,void 0,void 0,(function(){var r,i,o;return w(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof bu&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return b(this,void 0,void 0,(function(){var n,r,i,o;return w(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Mi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,nf(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof gu?e.qr.X(t):t instanceof mu?e.qr.rt(t):e.qr.et(t),n.isEqual($i.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,$c(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(io.EMPTY_BYTE_STRING,n.snapshotVersion)),Gl(e,t);var r=new Bs(n.target,t,1,n.sequenceNumber);Hl(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Mi("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,nf(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function nf(e,t,n){return b(this,void 0,void 0,(function(){var r=this;return w(this,(function(i){switch(i.label){case 0:if(!Rs(t))throw t;return e.Or.add(1),[4,Kl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return $c(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return b(r,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return Mi("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,ql(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function rf(e,t){return t().catch((function(n){return nf(e,n,t)}))}function of(e){return b(this,void 0,void 0,(function(){var t,n,r,i,o;return w(this,(function(a){switch(a.label){case 0:t=zi(e),n=pf(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Xl(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Jc(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=pf(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,nf(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return af(t)&&uf(t),[2]}}))}))}function af(e){return Xl(e)&&!pf(e).tr()&&e.kr.length>0}function uf(e){pf(e).start()}function sf(e){return b(this,void 0,void 0,(function(){return w(this,(function(t){return pf(e).Ar(),[2]}))}))}function cf(e){return b(this,void 0,void 0,(function(){var t,n,r,i;return w(this,(function(o){for(t=pf(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function lf(e,t,n){return b(this,void 0,void 0,(function(){var r,i;return w(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=Vs.from(r,t,n),[4,rf(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,of(e)];case 2:return o.sent(),[2]}}))}))}function ff(e,t){return b(this,void 0,void 0,(function(){return w(this,(function(n){switch(n.label){case 0:return t&&pf(e).pr?[4,function(e,t){return b(this,void 0,void 0,(function(){var n,r;return w(this,(function(i){switch(i.label){case 0:return Ja(r=t.code)&&r!==Ri.ABORTED?(n=e.kr.shift(),pf(e).sr(),[4,rf(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,of(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return af(e)&&uf(e),[2]}}))}))}function hf(e,t){return b(this,void 0,void 0,(function(){var n;return w(this,(function(r){switch(r.label){case 0:return n=zi(e),t?(n.Or.delete(2),[4,ql(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Kl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function df(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=zi(e);return r.br(),new jl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Zl.bind(null,e),Ri:ef.bind(null,e),_r:tf.bind(null,e)}),e.Mr.push((function(n){return b(t,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Yl(e)?$l(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Jl(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function pf(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=zi(e);return r.br(),new Ul(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:sf.bind(null,e),Ri:ff.bind(null,e),Ir:cf.bind(null,e),Tr:lf.bind(null,e)}),e.Mr.push((function(n){return b(t,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,of(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.kr.length>0&&(Mi("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var vf=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oi(Ri.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function yf(e,t){if(Fi("AsyncQueue",t+": "+e),Rs(e))return new Oi(Ri.UNAVAILABLE,t+": "+e);throw e}var gf=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||yo.comparator(t.key,n.key)}:function(e,t){return yo.comparator(e.key,t.key)},this.keyedMap=su(),this.sortedSet=new eu(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),mf=function(){function e(){this.Qr=new eu(yo.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Vi():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),bf=function(){function e(e,t,n,r,i,o,a,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,gf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),wf=function(){this.Wr=void 0,this.listeners=[]},_f=function(){this.queries=new Tc((function(e){return ha(e)}),fa),this.onlineState="Unknown",this.Gr=new Set};function Ef(e,t){return b(this,void 0,void 0,(function(){var n,r,i,o,a,u,s;return w(this,(function(c){switch(c.label){case 0:if(n=zi(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new wf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return u=c.sent(),s=yf(u,"Initialization of query '"+da(t.query)+"' failed"),[2,void t.onError(s)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&If(n),[2]}}))}))}function Sf(e,t){return b(this,void 0,void 0,(function(){var n,r,i,o,a;return w(this,(function(u){return n=zi(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Af(e,t){for(var n=zi(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],u=a.query,s=n.queries.get(u);if(s){for(var c=0,l=s.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);s.Wr=a}}r&&If(n)}function kf(e,t,n){var r=zi(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function If(e){e.Gr.forEach((function(e){e.next()}))}var Tf=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new bf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=bf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),xf=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Cf=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Lu(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Vu(this.R,e.document,!1):Oo.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Nu(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Cf(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),u=0,s=o.metadata.queries;u<s.length;u++){var c=s[u],l=(t.get(c)||hu()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return b(this,void 0,void 0,(function(){var e,t,n,r,i;return w(this,(function(o){switch(o.label){case 0:return[4,ol(this.localStore,new Cf(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,al(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Bc(Object.assign({},this.progress),e))]}}))}))}}();var Nf=function(e){this.key=e},Df=function(e){this.key=e},Rf=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=hu(),this.mutatedKeys=hu(),this.lo=va(e),this.fo=new gf(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new mf,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1,s=ra(this.query)&&i.size===this.query.limit?i.last():null,c=ia(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=pa(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.lo(f,s)>0||c&&n.lo(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),ra(this.query)||ia(this.query))for(;a.size>this.query.limit;){var l=ra(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:u,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vi()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],u=0===this.ho.size&&this.current?1:0,s=u!==this.ao;return this.ao=u,0!==o.length||s?{snapshot:new bf(this.query,e.fo,i,o,e.mutatedKeys,0===u,s,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new mf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=hu(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Df(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Nf(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=hu();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return bf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Of=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Lf=function(e){this.key=e,this.bo=!1},Pf=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Tc((function(e){return ha(e)}),fa),this.Vo=new Map,this.So=new Set,this.Do=new eu(yo.comparator),this.Co=new Map,this.No=new sl,this.xo={},this.Fo=new Map,this.ko=vc.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Mf(e,t){return b(this,void 0,void 0,(function(){var n,r,i,o,a,u;return w(this,(function(s){switch(s.label){case 0:return n=fh(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Zc(n.localStore,ca(t))];case 2:return a=s.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Ff(n,t,r,"current"===u)];case 3:i=s.sent(),n.isPrimaryClient&&Wl(n.remoteStore,a),s.label=4;case 4:return[2,i]}}))}))}function Ff(e,t,n,r){return b(this,void 0,void 0,(function(){var i,o,a,u,s,c;return w(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return b(this,void 0,void 0,(function(){var i,o,a;return w(this,(function(u){switch(u.label){case 0:return(i=t.view._o(n)).Nn?[4,tl(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Yf(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,tl(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Rf(t,i.Bn),a=o._o(i.documents),u=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),s=o.applyChanges(a,e.isPrimaryClient,u),Yf(e,n,s.To),c=new Of(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),s.snapshot)]}}))}))}function jf(e,t){return b(this,void 0,void 0,(function(){var n,r,i;return w(this,(function(o){switch(o.label){case 0:return n=zi(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!fa(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,el(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Ql(n.remoteStore,r.targetId),Gf(n,r.targetId)})).catch(wc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Gf(n,r.targetId),[4,el(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Uf(e,t,n){return b(this,void 0,void 0,(function(){var r,i,o,a;return w(this,(function(u){switch(u.label){case 0:r=hh(e),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(e,t){var n,r=zi(e),i=Gi.now(),o=t.reduce((function(e,t){return e.add(t.key)}),hu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],u=0,s=t;u<s.length;u++){var c=s[u],l=Ua(c,n.get(c.key));null!=l&&a.push(new qa(c.key,l,Ro(l.value.mapValue),La.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new eu(Wi)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Zf(r,i.changes)];case 3:return u.sent(),[4,of(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=yf(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Vf(e,t){return b(this,void 0,void 0,(function(){var n,r;return w(this,(function(i){switch(i.label){case 0:n=zi(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Yc(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Bi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Bi(r.bo):e.removedDocuments.size>0&&(Bi(r.bo),r.bo=!1))})),[4,Zf(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,wc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Bf(e,t,n){var r=zi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=zi(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&If(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function zf(e,t,n){return b(this,void 0,void 0,(function(){var r,i,o,a,u,s;return w(this,(function(c){switch(c.label){case 0:return(r=zi(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new eu(yo.comparator)).insert(o,Oo.newNoDocument(o,$i.min())),u=hu().add(o),s=new vu($i.min(),new Map,new ru(Wi),a,u),[4,Vf(r,s)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Jf(r),[3,4];case 2:return[4,el(r.localStore,t,!1).then((function(){return Gf(r,t,n)})).catch(wc)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function qf(e,t){return b(this,void 0,void 0,(function(){var n,r,i;return w(this,(function(o){switch(o.label){case 0:n=zi(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Gc(n.localStore,t)];case 2:return i=o.sent(),Hf(n,r,null),Qf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Zf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,wc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Kf(e,t,n){return b(this,void 0,void 0,(function(){var r,i;return w(this,(function(o){switch(o.label){case 0:r=zi(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=zi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Bi(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Hf(r,t,n),Qf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Zf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,wc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Wf(e,t){return b(this,void 0,void 0,(function(){var n,r,i,o,a;return w(this,(function(u){switch(u.label){case 0:Xl((n=zi(e)).remoteStore)||Mi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(e){var t=zi(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=u.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=u.sent(),a=yf(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Qf(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Hf(e,t,n){var r=zi(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Gf(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||$f(e,t)}))}function $f(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Ql(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Jf(e))}function Yf(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Nf?(e.No.addReference(o.key,t),Xf(e,o)):o instanceof Df?(Mi("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||$f(e,o.key)):Vi()}}function Xf(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Mi("SyncEngine","New document in limbo: "+n),e.So.add(r),Jf(e))}function Jf(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new yo(eo.fromString(t)),r=e.ko.next();e.Co.set(r,new Lf(n)),e.Do=e.Do.insert(n,r),Wl(e.remoteStore,new Bs(ca(na(n.path)),r,2,Di.o))}}function Zf(e,t,n){return b(this,void 0,void 0,(function(){var r,i,o,a;return w(this,(function(u){switch(u.label){case 0:return r=zi(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,u){a.push(r.Oo(u,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=qc.Pn(u.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(e,t){return b(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l;return w(this,(function(f){switch(f.label){case 0:n=zi(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ts.forEach(t,(function(t){return Ts.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Ts.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Rs(r=f.sent()))throw r;return Mi("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],u=a.targetId,a.fromCache||(s=n.Fn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(u,l));return[2]}}))}))}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function eh(e,t){return b(this,void 0,void 0,(function(){var n,r;return w(this,(function(i){switch(i.label){case 0:return(n=zi(e)).currentUser.isEqual(t)?[3,3]:(Mi("SyncEngine","User change. New user:",t.toKey()),[4,Hc(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new Oi(Ri.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Zf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function th(e,t){var n=zi(e),r=n.Co.get(t);if(r&&r.bo)return hu().add(r.key);var i=hu(),o=n.Vo.get(t);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var s=u[a],c=n.Po.get(s);i=i.unionWith(c.view.wo)}return i}function nh(e,t){return b(this,void 0,void 0,(function(){var n,r,i;return w(this,(function(o){switch(o.label){case 0:return[4,tl((n=zi(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Yf(n,t.targetId,i.To),i)]}}))}))}function rh(e){return b(this,void 0,void 0,(function(){var t;return w(this,(function(n){return[2,rl((t=zi(e)).localStore).then((function(e){return Zf(t,e)}))]}))}))}function ih(e,t,n,r){return b(this,void 0,void 0,(function(){var i,o;return w(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=zi(e),r=zi(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Ts.resolve(null)}))}))}((i=zi(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,of(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Hf(i,t,r||null),Qf(i,t),function(e,t){zi(zi(e)._n).Gt(t)}(i.localStore,t)):Vi(),a.label=4;case 4:return[4,Zf(i,o)];case 5:return a.sent(),[3,7];case 6:Mi("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function oh(e,t){return b(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c;return w(this,(function(l){switch(l.label){case 0:return fh(n=zi(e)),hh(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ah(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,hf(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)u=a[o],Wl(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(s=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):c=c.then((function(){return Gf(n,t),el(n.localStore,t,!0)})),Ql(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,ah(n,s)];case 5:return l.sent(),function(e){var t=zi(e);t.Co.forEach((function(e,n){Ql(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new eu(yo.comparator)}(n),n.$o=!1,[4,hf(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function ah(e,t,n){return b(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l,f,h,d,p,v;return w(this,(function(y){switch(y.label){case 0:n=zi(e),r=[],i=[],o=0,a=t,y.label=1;case 1:return o<a.length?(u=a[o],s=void 0,(c=n.Vo.get(u))&&0!==c.length?[4,Zc(n.localStore,ca(c[0]))]:[3,7]):[3,13];case 2:s=y.sent(),l=0,f=c,y.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,nh(n,d)]):[3,6];case 4:(p=y.sent()).snapshot&&i.push(p.snapshot),y.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,nl(n.localStore,u)];case 8:return v=y.sent(),[4,Zc(n.localStore,v)];case 9:return s=y.sent(),[4,Ff(n,uh(v),u,!1)];case 10:y.sent(),y.label=11;case 11:r.push(s),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function uh(e){return ta(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function sh(e){var t=zi(e);return zi(zi(t.localStore).persistence).fn()}function ch(e,t,n,r){return b(this,void 0,void 0,(function(){var i,o,a;return w(this,(function(u){switch(u.label){case 0:return(i=zi(e)).$o?(Mi("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rl(i.localStore)];case 3:return o=u.sent(),a=vu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Zf(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,el(i.localStore,t,!0)];case 6:return u.sent(),Gf(i,t,r),[3,8];case 7:Vi(),u.label=8;case 8:return[2]}}))}))}function lh(e,t,n){return b(this,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,f,h;return w(this,(function(d){switch(d.label){case 0:if(!(r=fh(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Mi("SyncEngine","Adding an already active target "+a),[3,5]):[4,nl(r.localStore,a)]):[3,6];case 2:return u=d.sent(),[4,Zc(r.localStore,u)];case 3:return s=d.sent(),[4,Ff(r,uh(u),s.targetId,!1)];case 4:d.sent(),Wl(r.remoteStore,s),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return w(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,el(r.localStore,e,!1).then((function(){Ql(r.remoteStore,e),Gf(r,e)})).catch(wc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function fh(e){var t=zi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=th.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zf.bind(null,t),t.vo._r=Af.bind(null,t.eventManager),t.vo.Mo=kf.bind(null,t.eventManager),t}function hh(e){var t=zi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Kf.bind(null,t),t}var dh=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return b(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return this.R=Pl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Qc(this.persistence,new Kc,e.initialUser,this.R)},e.prototype.qo=function(e){return new pl(yl.bs,this.R)},e.prototype.Bo=function(e){return new Tl},e.prototype.terminate=function(){return b(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),ph=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return g(t,e),t.prototype.initialize=function(t){return b(this,void 0,void 0,(function(){return w(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,il(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,hh(this.Qo.syncEngine)];case 4:return n.sent(),[4,of(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Qc(this.persistence,new Kc,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Sc(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Vc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?uc.withCacheSize(this.cacheSizeBytes):uc.DEFAULT;return new Fc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ol(),Ll(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Tl},t}(dh),vh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return g(t,e),t.prototype.initialize=function(t){return b(this,void 0,void 0,(function(){var n,r=this;return w(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Il?(this.sharedClientState.syncEngine={ui:ih.bind(null,n),ai:ch.bind(null,n),hi:lh.bind(null,n),fn:sh.bind(null,n),ci:rh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return b(r,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,oh(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Ol();if(!Il.yt(t))throw new Oi(Ri.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Vc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Il(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(ph),yh=function(){function e(){}return e.prototype.initialize=function(e,t){return b(this,void 0,void 0,(function(){var n=this;return w(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Bf(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=eh.bind(null,this.syncEngine),[4,hf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new _f},e.prototype.createDatastore=function(e){var t,n=Pl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Rl(t));return function(e,t,n){return new Vl(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Bf(a.syncEngine,e,0)},o=Cl.yt()?new Cl:new xl,new zl(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var u=new Pf(e,t,n,r,i,o);return a&&(u.$o=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return b(this,void 0,void 0,(function(){var t;return w(this,(function(n){switch(n.label){case 0:return t=zi(e),Mi("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Kl(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),gh=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),mh=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Is,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return b(this,void 0,void 0,(function(){return w(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return b(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return b(this,void 0,void 0,(function(){var e,t,n,r;return w(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new xf(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return b(this,void 0,void 0,(function(){var e,t;return w(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return b(this,void 0,void 0,(function(){var t;return w(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return b(this,void 0,void 0,(function(){var e,t;return w(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return b(this,void 0,void 0,(function(){var t,n=this;return w(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Oi(Ri.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return b(this,void 0,void 0,(function(){var n,r,i,o,a,u;return w(this,(function(s){switch(s.label){case 0:return n=zi(e),r=Fu(n.R)+"/documents",i={documents:t.map((function(e){return Ou(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=s.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Bi(!!t.found),t.found.name,t.found.updateTime;var n=Lu(e,t.found.name),r=Nu(t.found.updateTime),i=new Do({mapValue:{fields:t.found.fields}});return Oo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Bi(!!t.missing),Bi(!!t.readTime);var n=Lu(e,t.missing),r=Nu(t.readTime);return Oo.newNoDocument(n,r)}(e,t):Vi()}(n.R,e);a.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Bi(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new $a(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return b(this,void 0,void 0,(function(){var e,t=this;return w(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=yo.fromPath(n);t.mutations.push(new Ya(r,t.precondition(r)))})),[4,function(e,t){return b(this,void 0,void 0,(function(){var n,r,i;return w(this,(function(o){switch(o.label){case 0:return n=zi(e),r=Fu(n.R)+"/documents",i={writes:t.map((function(e){return Bu(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Vi();t=$i.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Oi(Ri.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?La.updateTime(t):La.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($i.min()))throw new Oi(Ri.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return La.updateTime(t)}return La.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),bh=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Ml(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return b(e,void 0,void 0,(function(){var e,t,n=this;return w(this,(function(r){return e=new mh(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!ho(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ja(t)}return!1},e}(),wh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=gl.UNAUTHENTICATED,this.clientId=Ki.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return b(r,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return Mi("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return b(this,void 0,void 0,(function(){return w(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Oi(Ri.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return b(e,void 0,void 0,(function(){var e,n;return w(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=yf(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function _h(e,t){return b(this,void 0,void 0,(function(){var n,r,i=this;return w(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Mi("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return b(i,void 0,void 0,(function(){return w(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Hc(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Eh(e,t){return b(this,void 0,void 0,(function(){var n,r;return w(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Sh(e)];case 1:return n=i.sent(),Mi("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return b(this,void 0,void 0,(function(){var n,r;return w(this,(function(i){switch(i.label){case 0:return(n=zi(e)).asyncQueue.verifyOperationInProgress(),Mi("RemoteStore","RemoteStore received new credentials"),r=Xl(n),n.Or.add(3),[4,Kl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,ql(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Sh(e){return b(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Mi("FirestoreClient","Using default OfflineComponentProvider"),[4,_h(e,new dh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Ah(e){return b(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Mi("FirestoreClient","Using default OnlineComponentProvider"),[4,Eh(e,new yh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function kh(e){return Sh(e).then((function(e){return e.persistence}))}function Ih(e){return Sh(e).then((function(e){return e.localStore}))}function Th(e){return Ah(e).then((function(e){return e.remoteStore}))}function xh(e){return Ah(e).then((function(e){return e.syncEngine}))}function Ch(e){return b(this,void 0,void 0,(function(){var t,n;return w(this,(function(r){switch(r.label){case 0:return[4,Ah(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Mf.bind(null,t.syncEngine),n.onUnlisten=jf.bind(null,t.syncEngine),n)]}}))}))}function Nh(e,t,n){var r=this;void 0===n&&(n={});var i=new Is;return e.asyncQueue.enqueueAndForget((function(){return b(r,void 0,void 0,(function(){var r;return w(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new gh({next:function(o){t.enqueueAndForget((function(){return Sf(e,a)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Oi(Ri.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Oi(Ri.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Tf(na(n.path),o,{includeMetadataChanges:!0,so:!0});return Ef(e,a)},[4,Ch(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Dh(e,t,n){var r=this;void 0===n&&(n={});var i=new Is;return e.asyncQueue.enqueueAndForget((function(){return b(r,void 0,void 0,(function(){var r;return w(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new gh({next:function(n){t.enqueueAndForget((function(){return Sf(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Oi(Ri.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Tf(n,o,{includeMetadataChanges:!0,so:!0});return Ef(e,a)},[4,Ch(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Rh=function(e,t,n,r,i,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u},Oh=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Lh=new Map,Ph=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Mh=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(gl.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Fh=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),jh=function(){function e(e){var t=this;this.currentUser=gl.UNAUTHENTICATED,this.oc=new Is,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Mi("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Mi("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Mi("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Bi("string"==typeof n.accessToken),new Ph(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return b(n,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Bi(null===e||"string"==typeof e),new gl(e)},e}(),Uh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=gl.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Vh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Uh(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(gl.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Bh(e,t,n){if(!n)throw new Oi(Ri.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function zh(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function qh(e,t,n,r){if(!0===t&&!0===r)throw new Oi(Ri.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Kh(e){if(!yo.isDocumentKey(e))throw new Oi(Ri.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Wh(e){if(yo.isDocumentKey(e))throw new Oi(Ri.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Qh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==Ni(e)){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Vi()}function Hh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Oi(Ri.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Qh(e);throw new Oi(Ri.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Gh(e,t){if(t<=0)throw new Oi(Ri.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var $h=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oi(Ri.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oi(Ri.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Yh=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $h({}),this._settingsFrozen=!1,e instanceof Oh?(this._databaseId=e,this._credentials=new Mh):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Oi(Ri.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(e.options.projectId)}(e),this._credentials=new jh(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Oi(Ri.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Oi(Ri.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $h(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Mh;switch(e.type){case"gapi":var t=e.client;return Bi(!("object"!=Ni(t)||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Vh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Oi(Ri.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=Lh.get(this))&&(Mi("ComponentProvider","Removing Datastore"),Lh.delete(this),e.terminate()),Promise.resolve();var e},e}(),Xh=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Zh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Jh=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Zh=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,na(r))||this)._path=r,i.type="collection",i}return g(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Xh(this.firestore,null,new yo(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Jh);function ed(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=j(e),Bh("collection","path",t),e instanceof Yh)return Wh(n=eo.fromString.apply(eo,S([t],r))),new Zh(e,null,n);if(!(e instanceof Xh||e instanceof Zh))throw new Oi(Ri.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Wh(n=eo.fromString.apply(eo,S([e.path],r)).child(eo.fromString(t))),new Zh(e.firestore,null,n)}function td(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=j(e),1===arguments.length&&(t=Ki.u()),Bh("doc","path",t),e instanceof Yh)return Kh(n=eo.fromString.apply(eo,S([t],r))),new Xh(e,null,new yo(n));if(!(e instanceof Xh||e instanceof Zh))throw new Oi(Ri.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Kh(n=e._path.child(eo.fromString.apply(eo,S([t],r)))),new Xh(e.firestore,e instanceof Zh?e.converter:null,new yo(n))}function nd(e,t){return e=j(e),t=j(t),(e instanceof Xh||e instanceof Zh)&&(t instanceof Xh||t instanceof Zh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rd(e,t){return e=j(e),t=j(t),e instanceof Jh&&t instanceof Jh&&e.firestore===t.firestore&&fa(e._query,t._query)&&e.converter===t.converter}var id=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Ml(this,"async_queue_retry"),this.Ic=function(){var t=Ll();t&&Mi("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Ll();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Ll();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Is;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return b(this,void 0,void 0,(function(){var e,t=this;return w(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Rs(e=n.sent()))throw e;return Mi("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Fi("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=vf.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Vi()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return b(this,void 0,void 0,(function(){var e;return w(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function od(e){return function(e,t){if("object"!=Ni(e)||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Is,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var ad=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new id,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return g(t,e),t.prototype._terminate=function(){return this._firestoreClient||sd(this),this._firestoreClient.terminate()},t}(Yh);function ud(e){return e._firestoreClient||sd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function sd(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Rh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new wh(e._credentials,e._queue,r)}function cd(e,t,n){var r=this,i=new Is;return e.asyncQueue.enqueue((function(){return b(r,void 0,void 0,(function(){var r;return w(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,_h(e,n)];case 1:return o.sent(),[4,Eh(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Ri.FAILED_PRECONDITION||e.code===Ri.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ld(e){if(e._initialized||e._terminated)throw new Oi(Ri.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var fd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new no(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),hd=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(io.fromBase64String(t))}catch(t){throw new Oi(Ri.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(io.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),dd=function(e){this._methodName=e},pd=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oi(Ri.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oi(Ri.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Wi(this._lat,e._lat)||Wi(this._long,e._long)},e}(),vd=/^__.*__$/,yd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new za(e,this.data,t,this.fieldTransforms)},e}(),gd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new qa(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function md(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vi()}}var bd=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Fc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,kc:!0})},e.prototype.Lc=function(e){return Ud(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(md(this.Nc)&&vd.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),wd=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Pl(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new bd({Nc:e,methodName:t,qc:n,path:no.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function _d(e){var t=e._freezeSettings(),n=Pl(e._databaseId);return new wd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ed(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Pd("Data must be an object, but it was:",a,r);var u,s,c=Od(r,a);if(o.merge)u=new ro(a.fieldMask),s=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Md(t,h[f],n);if(!a.contains(d))throw new Oi(Ri.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Vd(l,d)||l.push(d)}u=new ro(l),s=a.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=a.fieldTransforms;return new yd(new Do(c),u,s)}var Sd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(dd);function Ad(e,t,n){return new bd({Nc:3,qc:t.settings.qc,methodName:e._methodName,kc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype._toFieldTransform=function(e){return new Ra(e.path,new Aa)},t.prototype.isEqual=function(e){return e instanceof t},t}(dd),Id=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return g(t,e),t.prototype._toFieldTransform=function(e){var t=Ad(this,e,!0),n=this.Kc.map((function(e){return Rd(e,t)})),r=new ka(n);return new Ra(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(dd),Td=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return g(t,e),t.prototype._toFieldTransform=function(e){var t=Ad(this,e,!0),n=this.Kc.map((function(e){return Rd(e,t)})),r=new Ta(n);return new Ra(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(dd),xd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return g(t,e),t.prototype._toFieldTransform=function(e){var t=new Ca(e.R,ba(e.R,this.Qc));return new Ra(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(dd);function Cd(e,t,n,r){var i=e.Uc(1,t,n);Pd("Data must be an object, but it was:",i,r);var o=[],a=Do.empty();Xi(r,(function(e,r){var u=jd(t,e,n);r=j(r);var s=i.Oc(u);if(r instanceof Sd)o.push(u);else{var c=Rd(r,s);null!=c&&(o.push(u),a.set(u,c))}}));var u=new ro(o);return new gd(a,u,i.fieldTransforms)}function Nd(e,t,n,r,i,o){var a=e.Uc(1,t,n),u=[Md(t,r,n)],s=[i];if(o.length%2!=0)throw new Oi(Ri.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Md(t,o[c])),s.push(o[c+1]);for(var l=[],f=Do.empty(),h=u.length-1;h>=0;--h)if(!Vd(l,u[h])){var d=u[h],p=s[h];p=j(p);var v=a.Oc(d);if(p instanceof Sd)l.push(d);else{var y=Rd(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new ro(l);return new gd(f,g,a.fieldTransforms)}function Dd(e,t,n,r){return void 0===r&&(r=!1),Rd(n,e.Uc(r?4:3,t))}function Rd(e,t){if(Ld(e=j(e)))return Pd("Unsupported field value:",t,e),Od(e,t);if(e instanceof dd)return function(e,t){if(!md(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Rd(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=j(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ba(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Gi.fromDate(e);return{timestampValue:Tu(t.R,n)}}if(e instanceof Gi)return n=new Gi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Tu(t.R,n)};if(e instanceof pd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hd)return{bytesValue:xu(t.R,e._byteString)};if(e instanceof Xh){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Du(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Qh(e))}(e,t)}function Od(e,t){var n={};return Ji(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xi(e,(function(e,r){var i=Rd(r,t.Fc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ld(e){return!("object"!=Ni(e)||null===e||e instanceof Array||e instanceof Date||e instanceof Gi||e instanceof pd||e instanceof hd||e instanceof Xh||e instanceof dd)}function Pd(e,t,n){if(!Ld(n)||!function(e){return"object"==Ni(e)&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Qh(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Md(e,t,n){if((t=j(t))instanceof fd)return t._internalPath;if("string"==typeof t)return jd(e,t);throw Ud("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Fd=new RegExp("[~\\*/\\[\\]]");function jd(e,t,n){if(t.search(Fd)>=0)throw Ud("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(fd.bind.apply(fd,S([void 0],t.split(".")))))._internalPath}catch(r){throw Ud("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ud(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var s="";return(o||a)&&(s+=" (found",o&&(s+=" in field "+r),a&&(s+=" in document "+i),s+=")"),new Oi(Ri.INVALID_ARGUMENT,(u+=". ")+e+s)}function Vd(e,t){return e.some((function(e){return e.isEqual(t)}))}var Bd=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Xh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new zd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(qd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Bd);function qd(e,t){return"string"==typeof t?jd(e,t):t instanceof fd?t._internalPath:t._delegate._internalPath}var Kd=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Wd=function(e){function t(t,n,r,i,o,a){var u=this;return(u=e.call(this,t,n,r,i,a)||this)._firestore=t,u._firestoreImpl=t,u.metadata=o,u}return g(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(qd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Bd),Qd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Wd),Hd=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Kd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Qd(n._firestore,n._userDataWriter,r.key,r,new Kd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oi(Ri.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Qd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Qd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Gd(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Gd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vi()}}function $d(e,t){return e instanceof Wd&&t instanceof Wd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hd&&t instanceof Hd&&e._firestore===t._firestore&&rd(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Yd(e){if(ia(e)&&0===e.explicitOrderBy.length)throw new Oi(Ri.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xd=function(){};function Jd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Zd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return g(t,e),t.prototype._apply=function(e){var t=_d(e.firestore),n=function(e,t,n,r,i,o,a){var u;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ap(a,o);for(var s=[],c=0,l=a;c<l.length;c++){var f=l[c];s.push(op(r,e,f))}u={arrayValue:{values:s}}}else u=op(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ap(a,o),u=Dd(n,"where",a,"in"===o||"not-in"===o);var h=Uo.create(i,o,u);return function(e,t){if(t.g()){var n=aa(e);if(null!==n&&!n.isEqual(t.field))throw new Oi(Ri.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=oa(e);null!==r&&up(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Oi(Ri.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Oi(Ri.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Jh(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ea(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Xd),ep=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return g(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yo(t,n);return function(e,t){if(null===oa(e)){var n=aa(e);null!==n&&up(0,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Jh(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ea(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Xd),tp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return g(t,e),t.prototype._apply=function(e){return new Jh(e.firestore,e.converter,la(e._query,this.Hc,this.Jc))},t}(Xd),np=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return g(t,e),t.prototype._apply=function(e){var t=ip(e,this.type,this.Yc,this.Xc);return new Jh(e.firestore,e.converter,function(e,t){return new ea(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Xd),rp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return g(t,e),t.prototype._apply=function(e){var t=ip(e,this.type,this.Yc,this.Xc);return new Jh(e.firestore,e.converter,function(e,t){return new ea(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Xd);function ip(e,t,n,r){if(n[0]=j(n[0]),n[0]instanceof Bd)return function(e,t,n,r,i){if(!r)throw new Oi(Ri.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,u=sa(e);a<u.length;a++){var s=u[a];if(s.field.isKeyField())o.push(Ao(t,r.key));else{var c=r.data.field(s.field);if(co(c))throw new Oi(Ri.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Oi(Ri.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Go(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=_d(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Oi(Ri.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],s=0;s<i.length;s++){var c=i[s];if(a[s].field.isKeyField()){if("string"!=typeof c)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+Ni(c));if(!ua(e)&&-1!==c.indexOf("/"))throw new Oi(Ri.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(eo.fromString(c));if(!yo.isDocumentKey(l))throw new Oi(Ri.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new yo(l);u.push(Ao(t,f))}else{var h=Dd(n,r,c);u.push(h)}}return new Go(u,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function op(e,t,n){if("string"==typeof(n=j(n))){if(""===n)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ua(t)&&-1!==n.indexOf("/"))throw new Oi(Ri.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(eo.fromString(n));if(!yo.isDocumentKey(r))throw new Oi(Ri.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ao(e,new yo(r))}if(n instanceof Xh)return Ao(e,n._key);throw new Oi(Ri.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Qh(n)+".")}function ap(e,t){if(!Array.isArray(e)||0===e.length)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function up(e,t,n){if(!n.isEqual(t))throw new Oi(Ri.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var sp=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return uo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Vi()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Xi(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new pd(uo(e.latitude),uo(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=lo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fo(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=ao(e);return new Gi(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=eo.fromString(e);Bi(ns(n));var r=new Oh(n.get(1),n.get(3)),i=new yo(n.popFirst(5));return r.isEqual(t)||Fi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function cp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return g(t,e),t.prototype.convertBytes=function(e){return new hd(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xh(this.firestore,null,t)},t}(sp),fp=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_d(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=hp(e,this._firestore),i=cp(r.converter,t,n),o=Ed(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,La.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=hp(e,this._firestore);return o="string"==typeof(t=j(t))||t instanceof fd?Nd(this._dataReader,"WriteBatch.update",a._key,t,n,r):Cd(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,La.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=hp(e,this._firestore);return this._mutations=this._mutations.concat(new $a(t._key,La.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Oi(Ri.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function hp(e,t){if((e=j(e)).firestore!==t)throw new Oi(Ri.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var dp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return g(t,e),t.prototype.convertBytes=function(e){return new hd(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xh(this.firestore,null,t)},t}(sp);function pp(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Hh(e,Xh);var o=Hh(e.firestore,ad),a=_d(o);return yp(o,[("string"==typeof(t=j(t))||t instanceof fd?Nd(a,"updateDoc",e._key,t,n,r):Cd(a,"updateDoc",e._key,t)).toMutation(e._key,La.exists(!0))])}function vp(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=j(e);var a={includeMetadataChanges:!1},u=0;"object"!=Ni(i[u])||od(i[u])||(a=i[u],u++);var s,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(od(i[u])){var h=i[u];i[u]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[u+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[u+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof Xh)c=Hh(e.firestore,ad),l=na(e._key.path),s={next:function(t){i[u]&&i[u](gp(c,e,t))},error:i[u+1],complete:i[u+2]};else{var d=Hh(e,Jh);c=Hh(d.firestore,ad),l=d._query;var p=new dp(c);s={next:function(e){i[u]&&i[u](new Hd(c,p,d,e))},error:i[u+1],complete:i[u+2]},Yd(e._query)}return function(e,t,n,r){var i=this,o=new gh(r),a=new Tf(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return b(i,void 0,void 0,(function(){var t;return w(this,(function(n){switch(n.label){case 0:return t=Ef,[4,Ch(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return b(i,void 0,void 0,(function(){var t;return w(this,(function(n){switch(n.label){case 0:return t=Sf,[4,Ch(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(ud(c),l,f,s)}function yp(e,t){return function(e,t){var n=this,r=new Is;return e.asyncQueue.enqueueAndForget((function(){return b(n,void 0,void 0,(function(){var n;return w(this,(function(i){switch(i.label){case 0:return n=Uf,[4,xh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(ud(e),t)}function gp(e,t,n){var r=n.docs.get(t._key),i=new dp(e);return new Wd(e,i,t._key,r,new Kd(n.hasPendingWrites,n.fromCache),t.converter)}var mp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return g(t,e),t.prototype.get=function(t){var n=this,r=hp(t,this._firestore),i=new dp(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Wd(n._firestore,i,r._key,e._document,new Kd(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=_d(e)}return e.prototype.get=function(e){var t=this,n=hp(e,this._firestore),r=new lp(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Vi();var i=e[0];if(i.isFoundDocument())return new Bd(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Bd(t._firestore,r,n._key,null,n.converter);throw Vi()}))},e.prototype.set=function(e,t,n){var r=hp(e,this._firestore),i=cp(r.converter,t,n),o=Ed(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=hp(e,this._firestore);return o="string"==typeof(t=j(t))||t instanceof fd?Nd(this._dataReader,"Transaction.update",a._key,t,n,r):Cd(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=hp(e,this._firestore);return this._transaction.delete(t._key),this},e}());function bp(){if("undefined"==typeof Uint8Array)throw new Oi(Ri.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function wp(){if("undefined"==typeof atob)throw new Oi(Ri.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var _p=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return wp(),new e(hd.fromBase64String(t))},e.fromUint8Array=function(t){return bp(),new e(hd.fromUint8Array(t))},e.prototype.toBase64=function(){return wp(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return bp(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Ep=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){ld(e=Hh(e,ad));var n=ud(e),r=e._freezeSettings(),i=new yh;return cd(n,i,new ph(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){ld(e=Hh(e,ad));var t=ud(e),n=e._freezeSettings(),r=new yh;return cd(t,r,new vh(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Oi(Ri.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Is;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return b(t,void 0,void 0,(function(){var t;return w(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return b(this,void 0,void 0,(function(){var t;return w(this,(function(n){switch(n.label){case 0:return Cs.yt()?(t=e+"main",[4,Cs.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Vc(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),Sp=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Oh||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ji("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Hh(e,Yh))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&ji("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n="demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=m({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[k.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),k.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Oi(Ri.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new Fh(new Ph(o,new gl(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return b(t,void 0,void 0,(function(){var t,n;return w(this,(function(r){switch(r.label){case 0:return[4,kh(e)];case 1:return t=r.sent(),[4,Th(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=zi(e);return t.Or.delete(0),ql(t)}(n))]}}))}))}))}(ud(Hh(this._delegate,ad)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return b(t,void 0,void 0,(function(){var t,n;return w(this,(function(r){switch(r.label){case 0:return[4,kh(e)];case 1:return t=r.sent(),[4,Th(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return b(this,void 0,void 0,(function(){var t;return w(this,(function(n){switch(n.label){case 0:return(t=zi(e)).Or.add(0),[4,Kl(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(ud(Hh(this._delegate,ad)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&qh("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Is;return e.asyncQueue.enqueueAndForget((function(){return b(t,void 0,void 0,(function(){var t;return w(this,(function(r){switch(r.label){case 0:return t=Wf,[4,xh(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(ud(Hh(this._delegate,ad)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new gh(t);return e.asyncQueue.enqueueAndForget((function(){return b(n,void 0,void 0,(function(){var t;return w(this,(function(n){switch(n.label){case 0:return t=function(e,t){zi(e).Gr.add(t),t.next()},[4,Ch(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return b(n,void 0,void 0,(function(){var t;return w(this,(function(n){switch(n.label){case 0:return t=function(e,t){zi(e).Gr.delete(t)},[4,Ch(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(ud(e=Hh(e,ad)),od(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Oi(Ri.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Fp(this,ed(this._delegate,e))}catch(e){throw Cp(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new xp(this,td(this._delegate,e))}catch(e){throw Cp(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Lp(this,function(e,t){if(e=Hh(e,Yh),Bh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Jh(e,null,function(e){return new ea(eo.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Cp(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Is;return e.asyncQueue.enqueueAndForget((function(){return b(n,void 0,void 0,(function(){var n;return w(this,(function(i){switch(i.label){case 0:return[4,function(e){return Ah(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new bh(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(ud(e),(function(n){return t(new mp(e,n))}))}(this._delegate,(function(n){return e(new kp(t,n))}))},e.prototype.batch=function(){var e=this;return ud(this._delegate),new Ip(new fp(this._delegate,(function(t){return yp(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Oi(Ri.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Oi(Ri.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ap=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return g(t,e),t.prototype.convertBytes=function(e){return new _p(new hd(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return xp.eu(t,this.firestore,null)},t}(sp),kp=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}return e.prototype.get=function(e){var t=this,n=jp(e);return this._delegate.get(n).then((function(e){return new Rp(t._firestore,new Wd(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=jp(e);return n?(zh("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=jp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,S([a,t,n],i)),this},e.prototype.delete=function(e){var t=jp(e);return this._delegate.delete(t),this},e}(),Ip=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=jp(e);return n?(zh("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=jp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,S([a,t,n],i)),this},e.prototype.delete=function(e){var t=jp(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Tp=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Qd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Op(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Ap(t),n),i.set(n,o)),o},e}();Tp.su=new WeakMap;var xp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Oi(Ri.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Xh(n._delegate,r,new yo(t)))},e.eu=function(t,n,r){return new e(n,new Xh(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Fp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Fp(this.firestore,ed(this._delegate,e))}catch(e){throw Cp(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=j(e))instanceof Xh&&nd(this._delegate,e)},e.prototype.set=function(e,t){t=zh("DocumentReference.set",t);try{return function(e,t,n){e=Hh(e,Xh);var r=Hh(e.firestore,ad),i=cp(e.converter,t,n);return yp(r,[Ed(_d(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,La.none())])}(this._delegate,e,t)}catch(e){throw Cp(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?pp(this._delegate,e):pp.apply(void 0,S([this._delegate,e,t],n))}catch(e){throw Cp(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return yp(Hh((e=this._delegate).firestore,ad),[new $a(e._key,La.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Np(t),i=Dp(t,(function(t){return new Rp(e.firestore,new Wd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return vp(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Hh(e,Xh);var t=Hh(e.firestore,ad),n=ud(t),r=new dp(t);return function(e,t){var n=this,r=new Is;return e.asyncQueue.enqueueAndForget((function(){return b(n,void 0,void 0,(function(){var n;return w(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return b(this,void 0,void 0,(function(){var r,i;return w(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=zi(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Oi(Ri.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=yf(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Ih(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Wd(t,r,e._key,n,new Kd(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Hh(e,Xh);var t=Hh(e.firestore,ad);return Nh(ud(t),e._key,{source:"server"}).then((function(n){return gp(t,e,n)}))}(this._delegate):function(e){e=Hh(e,Xh);var t=Hh(e.firestore,ad);return Nh(ud(t),e._key).then((function(n){return gp(t,e,n)}))}(this._delegate)).then((function(e){return new Rp(t.firestore,new Wd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Tp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Cp(e,t,n){return e.message=e.message.replace(t,n),e}function Np(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==Ni(r)&&!od(r))return r}return{}}function Dp(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=od(e[0])?e[0]:od(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Rp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new xp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return $d(this._delegate,e._delegate)},e}(),Op=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Rp),Lp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Jd(this._delegate,function(e,t,n){var r=t,i=qd("where",e);return new Zd(i,r,n)}(t,n,r)))}catch(t){throw Cp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Jd(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=qd("orderBy",e);return new ep(r,n)}(t,n)))}catch(t){throw Cp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Jd(this._delegate,function(e){return Gh("limit",e),new tp("limit",e,"F")}(t)))}catch(t){throw Cp(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Jd(this._delegate,function(e){return Gh("limitToLast",e),new tp("limitToLast",e,"L")}(t)))}catch(t){throw Cp(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new np("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Cp(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new np("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Cp(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new rp("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Cp(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new rp("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Cp(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return rd(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Hh(e,Jh);var t=Hh(e.firestore,ad),n=ud(t),r=new dp(t);return function(e,t){var n=this,r=new Is;return e.asyncQueue.enqueueAndForget((function(){return b(n,void 0,void 0,(function(){var n;return w(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return b(this,void 0,void 0,(function(){var r,i,o,a,u;return w(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,tl(e,t,!0)];case 1:return u=s.sent(),r=new Rf(t,u.Bn),i=r._o(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=s.sent(),u=yf(a,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,Ih(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Hd(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Hh(e,Jh);var t=Hh(e.firestore,ad),n=ud(t),r=new dp(t);return Dh(n,e._query,{source:"server"}).then((function(n){return new Hd(t,r,e,n)}))}(this._delegate):function(e){e=Hh(e,Jh);var t=Hh(e.firestore,ad),n=ud(t),r=new dp(t);return Yd(e._query),Dh(n,e._query).then((function(n){return new Hd(t,r,e,n)}))}(this._delegate)).then((function(e){return new Mp(t.firestore,new Hd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Np(t),i=Dp(t,(function(t){return new Mp(e.firestore,new Hd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return vp(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Tp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Pp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Op(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Mp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Lp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Op(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Pp(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Op(n._firestore,r))}))},e.prototype.isEqual=function(e){return $d(this._delegate,e._delegate)},e}(),Fp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return g(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new xp(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new xp(this.firestore,void 0===e?td(this._delegate):td(this._delegate,e))}catch(e){throw Cp(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Hh(e.firestore,ad),r=td(e),i=cp(e.converter,t);return yp(n,[Ed(_d(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,La.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new xp(t.firestore,e)}))},t.prototype.isEqual=function(e){return nd(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Tp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Lp);function jp(e){return Hh(e,Xh)}var Up,Vp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(fd.bind.apply(fd,S([void 0],e)))}return e.documentId=function(){return new e(no.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=j(e))instanceof fd&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Bp=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new kd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Sd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Id("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Td("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new xd("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),zp={Firestore:Sp,GeoPoint:pd,Timestamp:Gi,Blob:_p,Transaction:kp,WriteBatch:Ip,DocumentReference:xp,DocumentSnapshot:Rp,Query:Lp,QueryDocumentSnapshot:Op,QuerySnapshot:Mp,CollectionReference:Fp,FieldPath:Vp,FieldValue:Bp,setLogLevel:function(e){var t;t=e,Li.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function qp(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function Kp(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){qp(o,r,i,a,u,"next",e)}function u(e){qp(o,r,i,a,u,"throw",e)}a(void 0)}))}}function Wp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(function(e,t){e.INTERNAL.registerComponent(new V("firestore",(function(e){return function(e,t){return new Sp(e,new ad(e,t),new Ep)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},zp)))})(Up=pe),Up.registerVersion("@firebase/firestore","2.3.10");var Hp=(0,v.createContext)({});const Gp=Hp;var $p=function(e){var t=e.children;pe.apps.length?pe.app():pe.initializeApp({apiKey:"AIzaSyCUt3wHIFEeF-W9vKCjUoQusxkUVstu2so",authDomain:"video-chat-29dd5.firebaseapp.com",projectId:"video-chat-29dd5",storageBucket:"video-chat-29dd5.appspot.com",messagingSenderId:"549408870289",appId:"1:549408870289:web:05f3cf02381565138e9430",measurementId:"G-DT989GYERV"});var n=pe.firestore(),r=Wp((0,v.useState)(null),2),i=r[0],o=r[1],a=(0,v.useRef)(null),u=Wp((0,v.useState)(null),2),s=u[0],c=u[1],l=(0,v.useRef)(new MediaStream),f=(0,v.useRef)(new MediaStream),h=Wp((0,v.useState)(null),2),d=h[0],p=h[1],y=Wp((0,v.useState)(null),2),g=y[0],m=y[1],b=Wp((0,v.useState)(null),2),w=b[0],_=b[1];function E(){return S.apply(this,arguments)}function S(){return(S=Kp(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i&&(i.onSnapshot=null,(t=i.collection("offerCandidates"))&&t.get().then((function(e){e.forEach((function(e){e.ref.delete()}))})),(n=i.collection("answerCandidates"))&&n.get().then((function(e){e.forEach((function(e){e.ref.delete()}))})),i.delete());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return v.createElement(Hp.Provider,{value:{user:d,setUser:p,localStreamRef:l,remoteStreamRef:f,callStatus:s,setCallStatus:c,call:i,setCall:o,connection:a,caller:w,setCaller:_,callee:g,setCallee:m,firestore:n,stopCall:function(){_(null),m(null),f.current=new MediaStream,a.current&&a.current.close(),i&&(E(),o(null))},deleteCallDocument:E}},t)};const Yp=function(){var e;switch((0,v.useContext)(Gp).callStatus){case"incoming":e="Входящий звонок";break;case"outgoing":e="Исходящий звонок";break;case"declined":e="Звонок был сброшен";break;case"accepted":e="Звонок был принят";break;case"hanged up":e="Звонок был завершен"}return v.createElement("div",{className:"status-container"},v.createElement("h2",null,e))},Xp=function(e){var t=e.localStream,n=e.remoteStream,r=(0,v.useRef)(null),i=(0,v.useRef)(null);return(0,v.useEffect)((function(){r.current.srcObject=t,i.current.srcObject=n}),[t,n]),v.createElement("div",{className:"videos-wrapper"},v.createElement("div",{className:"videos-container"},v.createElement("video",{ref:r,width:"480",height:"320",id:"myVideo",autoPlay:!0}),v.createElement("video",{ref:i,width:"480",height:"320",id:"peerVideo",autoPlay:!0}),v.createElement(Yp,null)))};function Jp(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function Zp(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Jp(o,r,i,a,u,"next",e)}function u(e){Jp(o,r,i,a,u,"throw",e)}a(void 0)}))}}n(103);const ev=function(){var e={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10},t=(0,v.useContext)(Gp),n=(t.user,t.localStreamRef),r=t.remoteStreamRef,i=(t.callStatus,t.setCallStatus),o=t.connection,a=t.call,u=t.setCall,s=(t.caller,t.setCaller,t.callee,t.setCallee,t.firestore,t.stopCall),c=t.deleteCallDocument;function l(){return(l=Zp(regeneratorRuntime.mark((function t(){var u,s,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i("accepted"),t.next=3,new RTCPeerConnection(e);case 3:return o.current=t.sent,n.current.getTracks().forEach((function(e){o.current.addTrack(e,n.current)})),o.current.ontrack=function(e){e.streams[0].getTracks().forEach((function(e){r.current.addTrack(e)}))},u=a.collection("answerCandidates"),o.current.onicecandidate=function(e){e.candidate&&u.add(e.candidate.toJSON())},t.next=10,a.get();case 10:return s=t.sent.data().offer,t.next=13,o.current.setRemoteDescription(new RTCSessionDescription(s));case 13:return t.next=15,o.current.createAnswer();case 15:return c=t.sent,t.next=18,o.current.setLocalDescription(c);case 18:return l={type:c.type,sdp:c.sdp},t.next=21,a.update({answer:l,status:"accepted"});case 21:a.collection("offerCandidates").onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=e.doc.data();o.current.addIceCandidate(new RTCIceCandidate(t))}}))}));case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return a.onSnapshot(function(){var e=Zp(regeneratorRuntime.mark((function e(t){var n,r,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.exists&&(r=t.data(),null!==(n=o.current)&&void 0!==n&&n.currentRemoteDescription||null==r||!r.answer||(u=new RTCSessionDescription(r.answer),null===(a=o.current)||void 0===a||a.setRemoteDescription(u)),"hanged up"===r.status&&(s(),i(r.status)),"accepted"===r.status&&i("accepted"),"canceled"===r.status&&(s(),i("canceled")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v.createElement("div",{className:"notification-wrapper"},v.createElement("div",{className:"notification-container"},v.createElement("p",null,"Вам звонит ",a.callerID),v.createElement("div",{className:"notification-buttons-container"},v.createElement("button",{onClick:function(){return l.apply(this,arguments)}},"Принять"),v.createElement("button",{onClick:function(){i("declined"),a.update({status:"declined"}),s(),c(),u(null)}},"Отклонить"))))},tv=function(e){var t=e.users;return v.createElement("div",{className:"usersList-wrapper"},v.createElement("div",{className:"usersList-container"},v.createElement("ul",null,t.map((function(e){return v.createElement("li",{key:e},e)})))))};function nv(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function rv(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){nv(o,r,i,a,u,"next",e)}function u(e){nv(o,r,i,a,u,"throw",e)}a(void 0)}))}}function iv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ov=function(){var e,t,n=(0,v.useContext)(Gp),r=n.user,i=n.setUser,o=n.localStreamRef,a=n.remoteStreamRef,u=n.callStatus,s=n.setCallStatus,c=n.connection,l=n.call,f=n.setCall,h=(n.caller,n.setCaller),d=(n.callee,n.setCallee),p=n.firestore,y=n.stopCall,g={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10},m=(e=(0,v.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=m[0],w=m[1],_=(0,v.useRef)(null);function E(){return S.apply(this,arguments)}function S(){return(S=rv(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,p.collection("users");case 3:return n=e.sent,e.next=6,n.get();case 6:e.sent.forEach((function(e){t.push(e.ref.id)})),n.onSnapshot(function(){var e=rv(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],t.forEach((function(e){n.push(e.ref.id)})),w(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w(t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return k.apply(this,arguments)}function k(){return(k=rv(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.collection("users").doc(),e.next=3,t.set({});case 3:t.onSnapshot(function(){var e=rv(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=(r=n.data())&&r.incomingCallID&&(i=p.collection("calls").doc(r.incomingCallID),f(i),i.onSnapshot(function(){var e=rv(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(t),h(null==r?void 0:r.callerID),s("incoming"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=rv(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 2:return o.current=e.sent,e.next=5,A();case 5:return e.next=7,E();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=rv(regeneratorRuntime.mark((function e(){var t,n,i,u,l,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s("outgoing"),t=p.collection("users").doc(r.id),n=p.collection("users").doc(_.current.value),b.includes(n.id)){e.next=7;break}s("Пользователь не найден"),e.next=44;break;case 7:if(!n||t==n){e.next=43;break}return e.next=10,new RTCPeerConnection(g);case 10:return c.current=e.sent,o.current.getTracks().forEach((function(e){c.current.addTrack(e,o.current)})),c.current.ontrack=function(e){e.streams[0].getTracks().forEach((function(e){a.current.addTrack(e)}))},(i=p.collection("calls").doc()).set({}),e.next=17,t.set({outgoingCallID:i.id});case 17:return e.next=19,n.set({incomingCallID:i.id,callerID:t.id});case 19:return e.next=21,i.update({calleeID:n.id,callerID:t.id});case 21:return e.next=23,i.collection("offerCandidates");case 23:return u=e.sent,c.current.onicecandidate=function(e){e.candidate&&u.add(e.candidate.toJSON())},e.next=27,i.collection("answerCandidates");case 27:return e.sent.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=e.doc.data();c.current.addIceCandidate(new RTCIceCandidate(t))}}))})),e.next=31,c.current.createOffer();case 31:return l=e.sent,e.next=34,c.current.setLocalDescription(l);case 34:return v={sdp:l.sdp,type:l.type},e.next=37,i.update({offer:v});case 37:i.onSnapshot(function(){var e=rv(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.exists&&(n=t.data(),!c.current.currentRemoteDescription&&null!=n&&n.answer&&(r=new RTCSessionDescription(n.answer),c.current.setRemoteDescription(r)),"hanged up"===n.status&&(y(),s(n.status)),"accepted"===n.status&&s(n.status),"declined"===n.status&&(y(),s(n.status)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(n),h(t),f(i),e.next=44;break;case 43:s(t!=n?"you can't call yourself":"callee with given id not found");case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=rv(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l&&C(),r.onSnapshot=null,t=p.collection("users").doc(r.id),console.log("the user doc is",t),t.delete(),i(null),w([]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return N.apply(this,arguments)}function N(){return(N=rv(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="outgoing"===u?"canceled":"hanged up",e.next=3,l.update({status:t});case 3:s(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return window.onbeforeunload=rv(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l&&y(),r&&(p.collection("users").doc(r.id).delete(),i(null));case 2:case"end":return e.stop()}}),e)}))),v.createElement("div",{className:"wrapper"},v.createElement("div",{className:"container"},v.createElement(tv,{users:b}),"incoming"===u&&v.createElement(ev,{firestore:p}),r&&v.createElement(Xp,{localStream:o.current,remoteStream:a.current}),v.createElement("div",{className:"buttons-wrapper"},v.createElement("div",{className:"buttons-container"},v.createElement("button",{onClick:function(){return I.apply(this,arguments)},disabled:r},"Подключиться"),v.createElement("button",{onClick:function(){return T.apply(this,arguments)},disabled:!(r&&!l)},"Позвонить"),v.createElement("button",{onClick:C,disabled:!(l&&"accepted"===u||"outgoing"===u)},"Сбросить"),v.createElement("button",{onClick:function(){return x.apply(this,arguments)},disabled:!r},"Отключиться"),v.createElement("input",{ref:_,type:"text"}),v.createElement("p",null,null!=r&&r.id?r.id:"Здесь будет ваш ID")))))};var av=n(202);n(236),(0,av.render)(v.createElement($p,null,v.createElement(ov,null)),document.getElementById("root"))})()})();
//# sourceMappingURL=bundle.js.map